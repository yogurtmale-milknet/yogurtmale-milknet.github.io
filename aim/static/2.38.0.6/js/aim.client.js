
function e(a){throw a;}var h=void 0,j=!0,k=null,m=!1;function aa(){return function(a){return a}}function ba(){return function(){}}function ca(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function o(a){return function(){return a}}var p;

var da=da||{},r=this;function ea(a){for(var a=a.split("."),b=r,c;c=a.shift();)if(t(b[c]))b=b[c];else return k;return b}function fa(){}function ga(a){a.j=function(){return a.UX||(a.UX=new a)}}
function ha(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function u(a){return a!==h}function ia(a){return a===k}function t(a){return a!=k}function ja(a){return"array"==ha(a)}function ka(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function la(a){return"boolean"==typeof a}function ma(a){return"number"==typeof a}function na(a){return"function"==ha(a)}
function oa(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function pa(a){return a[qa]||(a[qa]=++ra)}var qa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ra=0;function sa(a,b,c){return a.call.apply(a.bind,arguments)}
function ta(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ta;return w.apply(k,arguments)}
function ua(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var x=Date.now||function(){return+new Date};function y(a,b){var c=b||{},d;for(d in c)var f=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),f);return a}
function va(a,b){var c=a.split("."),d=r;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&u(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function z(a,b){function c(){}c.prototype=b.prototype;a.g=b.prototype;a.prototype=new c;a.prototype.constructor=a};


function wa(a){this.stack=Error().stack||"";a&&(this.message=""+a)}z(wa,Error);wa.prototype.name="CustomError";

function xa(a,b){return 0==a.lastIndexOf(b,0)}function ya(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function za(a,b){for(var c=1;c<arguments.length;c++)var d=(""+arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Aa(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}function Ba(a){return/^[\s\xa0]*$/.test(a)}function Ca(a){return Ba(a==k?"":""+a)}function Da(a){return!/[^\t\n\r ]/.test(a)}function Ea(a){return a.replace(/(\r\n|\r|\n)+/g," ")}
function Fa(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function Ga(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}var Ha=/(\.\d+)|(\d+)|(\D+)/g;
function Ia(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(Ha),d=b.toLowerCase().match(Ha),f=Math.min(c.length,d.length),g=0;g<f;g++){var i=c[g],l=d[g];if(i!=l){c=parseInt(i,10);return!isNaN(c)&&(d=parseInt(l,10),!isNaN(d)&&c-d)?c-d:i<l?-1:1}}return c.length!=d.length?c.length-d.length:a<b?-1:1}var Ja=/^[a-zA-Z0-9\-_.!~*'()]*$/;function Ka(a){a=""+a;return!Ja.test(a)?encodeURIComponent(a):a}function La(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function Ma(a){if(!Na.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Oa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Pa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Qa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ra,"&quot;"));return a}var Oa=/&/g,Pa=/</g,Qa=/>/g,Ra=/\"/g,Na=/[&<>\"]/;function Sa(a){return Ta(a,"&")?"document"in r?Ua(a):Va(a):a}
function Ua(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(Wa,function(a,f){var g=b[a];if(g)return g;if("#"==f.charAt(0)){var i=Number("0"+f.substr(1));isNaN(i)||(g=String.fromCharCode(i))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}
function Va(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var Wa=/&([^;\s<&]+);?/g;function Xa(a){return La(a.replace(/  /g," &#160;"),h)}
function Ya(a,b){for(var c=b.length,d=0;d<c;d++){var f=1==c?b:b.charAt(d);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a}function Ta(a,b){return-1!=a.indexOf(b)}function Za(a){return(""+a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function $a(a,b){return Array(b+1).join(a)}function ab(a){var a=u(h)?a.toFixed(h):""+a,b=a.indexOf(".");-1==b&&(b=a.length);return $a("0",Math.max(0,2-b))+a}
function bb(a){return Array.prototype.join.call(arguments,"")}
function cb(a,b){for(var c=0,d=Ga(""+a).split("."),f=Ga(""+b).split("."),g=Math.max(d.length,f.length),i=0;0==c&&i<g;i++){var l=d[i]||"",q=f[i]||"",s=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var E=s.exec(l)||["","",""],Z=B.exec(q)||["","",""];if(0==E[0].length&&0==Z[0].length)break;c=((0==E[1].length?0:parseInt(E[1],10))<(0==Z[1].length?0:parseInt(Z[1],10))?-1:(0==E[1].length?0:parseInt(E[1],10))>(0==Z[1].length?0:parseInt(Z[1],10))?1:0)||((0==E[2].length)<(0==Z[2].length)?-1:(0==
E[2].length)>(0==Z[2].length)?1:0)||(E[2]<Z[2]?-1:E[2]>Z[2]?1:0)}while(0==c)}return c}var db=2147483648*Math.random()|0;function eb(){return"goog_"+db++}var fb={};function hb(a){return fb[a]||(fb[a]=(""+a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};

function ib(a,b){b.unshift(a);wa.call(this,za.apply(k,b));b.shift()}z(ib,wa);ib.prototype.name="AssertionError";function jb(a,b){e(new ib("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};

function kb(a){return a[a.length-1]}
var lb=Array.prototype,mb=lb.indexOf?function(a,b,c){return lb.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(v(a))return!v(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},nb=lb.lastIndexOf?function(a,b,c){return lb.lastIndexOf.call(a,b,c==k?a.length-1:c)}:function(a,b,c){c=c==k?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(v(a))return!v(b)||1!=b.length?-1:a.lastIndexOf(b,c);for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},
A=lb.forEach?function(a,b,c){lb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)};function ob(a,b,c){for(var d=v(a)?a.split(""):a,f=a.length-1;0<=f;--f)f in d&&b.call(c,d[f],f,a)}
var pb=lb.filter?function(a,b,c){return lb.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,i=v(a)?a.split(""):a,l=0;l<d;l++)if(l in i){var q=i[l];b.call(c,q,l,a)&&(f[g++]=q)}return f},qb=lb.map?function(a,b,c){return lb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),g=v(a)?a.split(""):a,i=0;i<d;i++)i in g&&(f[i]=b.call(c,g[i],i,a));return f},rb=lb.some?function(a,b,c){return lb.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)if(g in
f&&b.call(c,f[g],g,a))return j;return m},sb=lb.every?function(a,b,c){return lb.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return m;return j};function tb(a,b){var c=ub(a,b,h);return 0>c?k:v(a)?a.charAt(c):a[c]}function ub(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1}function vb(a,b){var c=wb(a,b,h);return 0>c?k:v(a)?a.charAt(c):a[c]}
function wb(a,b,c){for(var d=v(a)?a.split(""):a,f=a.length-1;0<=f;f--)if(f in d&&b.call(c,d[f],f,a))return f;return-1}function xb(a,b){return 0<=mb(a,b)}function yb(a){if(!ja(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function zb(a,b){xb(a,b)||a.push(b)}function Ab(a,b,c){Bb(a,c,0,b)}function Cb(a,b){var c=mb(a,b),d;(d=0<=c)&&Db(a,c);return d}function Db(a,b){lb.splice.call(a,b,1)}function Eb(a,b,c){b=ub(a,b,c);0<=b&&Db(a,b)}function Fb(a){return lb.concat.apply(lb,arguments)}
function Gb(a){if(ja(a))return Fb(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}function Hb(a){return ja(a)?Fb(a):Gb(a)}function Ib(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(ja(d)||(f=ka(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var g=a.length,i=d.length,l=0;l<i;l++)a[g+l]=d[l];else a.push(d)}}function Bb(a,b,c,d){lb.splice.apply(a,Jb(arguments,1))}function Jb(a,b,c){return 2>=arguments.length?lb.slice.call(a,b):lb.slice.call(a,b,c)}
function Kb(a){for(var b={},c=0,d=0;d<a.length;){var f=a[d++],g=oa(f)?"o"+pa(f):(typeof f).charAt(0)+f;Object.prototype.hasOwnProperty.call(b,g)||(b[g]=j,a[c++]=f)}a.length=c}function Lb(a,b){lb.sort.call(a,b||Mb)}function Nb(a,b){for(var c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var d=b||Mb;Lb(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value}function Mb(a,b){return a>b?1:a<b?-1:0};

var Ob;function Pb(a){a=a.className;return v(a)&&a.match(/\S+/g)||[]}function C(a,b){var c=Pb(a),d=Jb(arguments,1),f=c.length+d.length;Qb(c,d);a.className=c.join(" ");return c.length==f}function D(a,b){var c=Pb(a),d=Jb(arguments,1),f=Rb(c,d);a.className=f.join(" ");return f.length==c.length-d.length}function Qb(a,b){for(var c=0;c<b.length;c++)xb(a,b[c])||a.push(b[c])}function Rb(a,b){return pb(a,function(a){return!xb(b,a)})}
function Sb(a,b,c){for(var d=Pb(a),f=m,g=0;g<d.length;g++)d[g]==b&&(Bb(d,g--,1),f=j);f&&(d.push(c),a.className=d.join(" "))}function Tb(a,b,c){var d=Pb(a);v(b)?Cb(d,b):ja(b)&&(d=Rb(d,b));v(c)&&!xb(d,c)?d.push(c):ja(c)&&Qb(d,c);a.className=d.join(" ")}function F(a,b){return xb(Pb(a),b)}function Ub(a,b,c){c?C(a,b):D(a,b)}function Vb(a,b){var c=!F(a,b);Ub(a,b,c)};

var Wb,Xb,Yb,Zb,$b,ac,bc;function cc(){return r.navigator?r.navigator.userAgent:k}function dc(){return r.navigator}$b=Zb=Yb=Xb=Wb=m;var ec;if(ec=cc()){var fc=dc();Wb=0==ec.indexOf("Opera");Xb=!Wb&&-1!=ec.indexOf("MSIE");Zb=(Yb=!Wb&&-1!=ec.indexOf("WebKit"))&&-1!=ec.indexOf("Mobile");$b=!Wb&&!Yb&&"Gecko"==fc.product}var gc=Wb,G=Xb,H=$b,hc=Yb,ic=Zb,jc,kc=dc();jc=kc&&kc.platform||"";ac=Ta(jc,"Mac");bc=Ta(jc,"Win");var lc=!!dc()&&Ta(dc().appVersion||"","X11"),mc;
a:{var nc="",oc;if(gc&&r.opera)var pc=r.opera.version,nc="function"==typeof pc?pc():pc;else if(H?oc=/rv\:([^\);]+)(\)|;)/:G?oc=/MSIE\s+([^\);]+)(\)|;)/:hc&&(oc=/WebKit\/(\S+)/),oc)var qc=oc.exec(cc()),nc=qc?qc[1]:"";if(G){var rc,sc=r.document;rc=sc?sc.documentMode:h;if(rc>parseFloat(nc)){mc=""+rc;break a}}mc=nc}var tc={};function I(a){return tc[a]||(tc[a]=0<=cb(mc,a))}var uc={};function vc(a){return uc[a]||(uc[a]=G&&!!document.documentMode&&document.documentMode>=a)};

var wc=!G||vc(9),xc=!H&&!G||G&&vc(9)||H&&I("1.9.1"),yc=G&&!I("9");


function zc(a,b){this.x=u(a)?a:0;this.y=u(b)?b:0}zc.prototype.Hb=function(){return new zc(this.x,this.y)};zc.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Ac(a,b){return new zc(a.x-b.x,a.y-b.y)};

function Bc(a,b){this.width=a;this.height=b}p=Bc.prototype;p.Hb=function(){return new Bc(this.width,this.height)};p.toString=function(){return"("+this.width+" x "+this.height+")"};p.wb=function(){return!(this.width*this.height)};p.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};p.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
p.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};

function Cc(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Dc(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return j;return m}function Ec(a){var b=0,c;for(c in a)b++;return b}function Fc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Gc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Hc(a){for(var b in a)return m;return j}function Ic(a,b){b in a&&delete a[b]}function Jc(a,b,c){b in a&&e(Error('The object already contains the key "'+b+'"'));a[b]=c}
function Kc(a){var b={},c;for(c in a)b[c]=a[c];return b}function Lc(a){var b={},c;for(c in a)b[a[c]]=c;return b}var Mc="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Nc(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Mc.length;g++)c=Mc[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function Oc(a){var b=arguments.length;if(1==b&&ja(arguments[0]))return Oc.apply(k,arguments[0]);b%2&&e(Error("Uneven number of arguments"));for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c}function Pc(a){var b=arguments.length;if(1==b&&ja(arguments[0]))return Pc.apply(k,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=j;return c};

function J(a){return a?new Qc(Rc(a)):Ob||(Ob=new Qc)}function Sc(a){return v(a)?document.getElementById(a):a}function Tc(a,b,c){return Uc(document,a,b,c)}function Vc(a,b){var c=b||document;return Wc(c)?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Uc(document,"*",a,b)}function K(a,b){var c=b||document,d=k;return(d=Wc(c)?c.querySelector("."+a):Vc(a,b)[0])||k}function Wc(a){return a.querySelectorAll&&a.querySelector&&(!hc||Xc(document)||I("528"))}
function Uc(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(Wc(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){for(var d={},f=0,g=0,i;i=a[g];g++)b==i.nodeName&&(d[f++]=i);d.length=f;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;i=a[g];g++)b=i.className,"function"==typeof b.split&&xb(b.split(/\s+/),c)&&(d[f++]=i);d.length=f;return d}return a}
function Yc(a,b){Cc(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Zc?a.setAttribute(Zc[d],b):xa(d,"aria-")?a.setAttribute(d,b):a[d]=b})}var Zc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function $c(a){var b=a.document;if(hc&&!I("500")&&!ic){"undefined"==typeof a.innerHeight&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new Bc(a.innerWidth,b)}a=Xc(b)?b.documentElement:b.body;return new Bc(a.clientWidth,a.clientHeight)}function ad(a){return!hc&&Xc(a)?a.documentElement:a.body}function bd(a){return a?a.parentWindow||a.defaultView:window}function cd(a,b,c){return dd(document,arguments)}
function dd(a,b){var c=b[0],d=b[1];if(!wc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ma(d.name),'"');if(d.type){c.push(' type="',Ma(d.type),'"');var f={};Nc(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);d&&(v(d)?c.className=d:ja(d)?C.apply(k,[c].concat(d)):Yc(c,d));2<b.length&&ed(a,c,b,2);return c}
function ed(a,b,c,d){function f(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];ka(g)&&!(oa(g)&&0<g.nodeType)?A(fd(g)?Gb(g):g,f):f(g)}}function gd(a){return hd(document,a)}function hd(a,b){var c=a.createElement("div");G?(c.innerHTML="<br>"+b,c.removeChild(c.firstChild)):c.innerHTML=b;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(var d=a.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return d}
function Xc(a){return"CSS1Compat"==a.compatMode}function id(a){if(1!=a.nodeType)return m;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "STYLE":return m}return j}function jd(a,b){ed(Rc(a),a,arguments,1)}function kd(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function ld(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function md(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function nd(a,b,c){a.insertBefore(b,a.childNodes[c]||k)}function od(a){return a&&a.parentNode?a.parentNode.removeChild(a):k}function pd(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function qd(a){var b,c=a.parentNode;if(c&&11!=c.nodeType){if(a.removeNode)return a.removeNode(m);for(;b=a.firstChild;)c.insertBefore(b,a);return od(a)}}
function rd(a){return xc&&a.children!=h?a.children:pb(a.childNodes,function(a){return 1==a.nodeType})}function sd(a){return a.firstElementChild!=h?a.firstElementChild:td(a.firstChild,j)}function td(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;return a}function ud(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}
function vd(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var f=a.parentNode,g=b.parentNode;return f==g?wd(a,b):!c&&ud(f,b)?-1*xd(a,b):!d&&ud(g,a)?xd(b,a):(c?a.sourceIndex:f.sourceIndex)-(d?b.sourceIndex:g.sourceIndex)}d=Rc(a);c=d.createRange();c.selectNode(a);c.collapse(j);d=d.createRange();d.selectNode(b);
d.collapse(j);return c.compareBoundaryPoints(r.Range.START_TO_END,d)}function xd(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return wd(d,a)}function wd(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1}
function yd(a){var b,c=arguments.length;if(c){if(1==c)return arguments[0]}else return k;var d=[],f=Infinity;for(b=0;b<c;b++){for(var g=[],i=arguments[b];i;)g.unshift(i),i=i.parentNode;d.push(g);f=Math.min(f,g.length)}g=k;for(b=0;b<f;b++){for(var i=d[0][b],l=1;l<c;l++)if(i!=d[l][b])return g;g=i}return g}function Rc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function zd(a){return a.contentDocument||a.contentWindow.document}
function Ad(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else kd(a),a.appendChild(Rc(a).createTextNode(b))}function Bd(a){if("outerHTML"in a)return a.outerHTML;var b=Rc(a).createElement("div");b.appendChild(a.cloneNode(j));return b.innerHTML}var Cd={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Dd={IMG:" ",BR:"\n"};
function Ed(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,ma(a)&&0<=a&&32768>a):m}function Fd(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))}function Gd(a){if(yc&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Hd(a,b,j);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");yc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Id(a){var b=[];Hd(a,b,m);return b.join("")}function Hd(a,b,c){if(!(a.nodeName in Cd))if(3==a.nodeType)c?b.push((""+a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Dd)b.push(Dd[a.nodeName]);else for(a=a.firstChild;a;)Hd(a,b,c),a=a.nextSibling}function fd(a){if(a&&"number"==typeof a.length){if(oa(a))return"function"==typeof a.item||"string"==typeof a.item;if(na(a))return"function"==typeof a.item}return m}
function Jd(a,b,c){if(!b&&!c)return k;var d=b?b.toUpperCase():k;return Kd(a,function(a){return(!d||a.nodeName==d)&&(!c||F(a,c))},j)}function Ld(a,b){return Jd(a,k,b)}function Kd(a,b,c){c||(a=a.parentNode);for(c=0;a;){if(b(a))return a;a=a.parentNode;c++}return k}function Qc(a){this.Xb=a||r.document||document}p=Qc.prototype;p.D=J;p.Ia=n("Xb");p.c=function(a){return v(a)?this.Xb.getElementById(a):a};function Md(a,b,c,d){return Uc(a.Xb,b,c,d)}p.Zi=function(a,b){return Vc(a,b||this.Xb)};
p.P=function(a,b){return K(a,b||this.Xb)};p.l=function(a,b,c){return dd(this.Xb,arguments)};p.createElement=function(a){return this.Xb.createElement(a)};p.createTextNode=function(a){return this.Xb.createTextNode(a)};p.LL=function(a,b,c){for(var d=this.Xb,f=!!c,c=["<tr>"],g=0;g<b;g++)c.push(f?"<td>&nbsp;</td>":"<td></td>");c.push("</tr>");c=c.join("");b=["<table>"];for(g=0;g<a;g++)b.push(c);b.push("</table>");a=d.createElement("DIV");a.innerHTML=b.join("");return a.removeChild(a.firstChild)};
function Nd(a){return Xc(a.Xb)}p.va=function(){return this.Xb.parentWindow||this.Xb.defaultView};function Od(a){var b=a.Xb,a=ad(b),b=b.parentWindow||b.defaultView;return new zc(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}p.appendChild=function(a,b){a.appendChild(b)};p.append=jd;p.YH=kd;p.removeNode=od;p.pR=pd;p.YV=qd;p.PM=sd;p.contains=ud;p.UR=Ad;p.IW=Gd;


function Pd(){}Pd.prototype.qe=m;Pd.prototype.o=function(){this.qe||(this.qe=j,this.n())};Pd.prototype.n=function(){this.gV&&Qd.apply(k,this.gV)};function Rd(a){a&&"function"==typeof a.o&&a.o()}function Qd(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ka(d)?Qd.apply(k,d):Rd(d)}};



var Sd=!G||vc(9),Td=!G||vc(9),Ud=G&&!I("8");!hc||I("528");H&&I("1.9b")||G&&I("8")||gc&&I("9.5")||hc&&I("528");H&&!I("8")||G&&I("9");

function L(a,b){this.type=a;this.currentTarget=this.target=b}z(L,Pd);p=L.prototype;p.n=function(){delete this.type;delete this.target;delete this.currentTarget};p.Sk=m;p.$o=j;p.stopPropagation=function(){this.Sk=j};p.preventDefault=function(){this.$o=m};function Vd(a){a.stopPropagation()}function Wd(a){a.preventDefault()};

var Xd=G?"focusin":"DOMFocusIn",Yd=G?"focusout":"DOMFocusOut",Zd={h7:"click",r7:"dblclick",s8:"mousedown",w8:"mouseup",v8:"mouseover",u8:"mouseout",t8:"mousemove",h9:"selectstart",h8:"keypress",g8:"keydown",i8:"keyup",eK:"blur",hK:"focus",zT:"deactivate",J7:Xd,K7:Yd,fK:"change",HT:"select",y9:"submit",Z7:"input",Y8:"propertychange",A7:"dragstart",x7:"dragenter",z7:"dragover",y7:"dragleave",B7:"drop",G9:"touchstart",E9:"touchmove",D9:"touchend",C9:"touchcancel",n7:"contextmenu",H7:"error",S7:"help",
CT:"load",m8:"losecapture",a9:"readystatechange",e9:"resize",f9:"scroll",MT:"unload",R7:"hashchange",N8:"pagehide",O8:"pageshow",U8:"popstate",o7:"copy",Q8:"paste",p7:"cut",X6:"beforecopy",Y6:"beforecut",a7:"beforepaste",p8:"message",m7:"connect",H9:hc?"webkitTransitionEnd":gc?"oTransitionEnd":"transitionend"};

function $d(a){$d[" "](a);return a}$d[" "]=fa;function ae(a,b){try{return $d(a[b]),j}catch(c){}return m};

function be(a,b){a&&this.oc(a,b)}z(be,L);var ce=[1,4,2];p=be.prototype;p.target=k;p.relatedTarget=k;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=m;p.altKey=m;p.shiftKey=m;p.metaKey=m;p.Qu=m;p.lc=k;
p.oc=function(a,b){var c=this.type=a.type;L.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?H&&(ae(d,"nodeName")||(d=k)):"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=hc||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=hc||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=
a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Qu=ac?a.metaKey:a.ctrlKey;this.state=a.state;this.lc=a;delete this.$o;delete this.Sk};function de(a){return(Sd?0==a.lc.button:"click"==a.type?j:!!(a.lc.button&ce[0]))&&!(hc&&ac&&a.ctrlKey)}
p.stopPropagation=function(){be.g.stopPropagation.call(this);this.lc.stopPropagation?this.lc.stopPropagation():this.lc.cancelBubble=j};p.preventDefault=function(){be.g.preventDefault.call(this);var a=this.lc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,Ud)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};p.NM=n("lc");p.n=function(){be.g.n.call(this);this.relatedTarget=this.currentTarget=this.target=this.lc=k};


function ee(){}var fe=0;p=ee.prototype;p.key=0;p.Xo=m;p.CC=m;p.oc=function(a,b,c,d,f,g){na(a)?this.YN=j:a&&a.handleEvent&&na(a.handleEvent)?this.YN=m:e(Error("Invalid listener argument"));this.Lq=a;this.bR=b;this.src=c;this.type=d;this.capture=!!f;this.ly=g;this.CC=m;this.key=++fe;this.Xo=m};p.handleEvent=function(a){return this.YN?this.Lq.call(this.ly||this.src,a):this.Lq.handleEvent.call(this.Lq,a)};

var ge={},he={},ie={},je={};
function M(a,b,c,d,f){if(b){if(ja(b)){for(var g=0;g<b.length;g++)M(a,b[g],c,d,f);return k}var d=!!d,i=he;b in i||(i[b]={Ba:0,sh:0});i=i[b];d in i||(i[d]={Ba:0,sh:0},i.Ba++);var i=i[d],l=pa(a),q;i.sh++;if(i[l]){q=i[l];for(g=0;g<q.length;g++)if(i=q[g],i.Lq==c&&i.ly==f){if(i.Xo)break;return q[g].key}}else q=i[l]=[],i.Ba++;g=ke();g.src=a;i=new ee;i.oc(c,g,a,b,d,f);c=i.key;g.key=c;q.push(i);ge[c]=i;ie[l]||(ie[l]=[]);ie[l].push(i);a.addEventListener?(a==r||!a.RL)&&a.addEventListener(b,g,d):a.attachEvent(b in
je?je[b]:je[b]="on"+b,g);return c}e(Error("Invalid event type"))}function ke(){var a=le,b=Td?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}function me(a,b,c,d,f){if(ja(b)){for(var g=0;g<b.length;g++)me(a,b[g],c,d,f);return k}a=M(a,b,c,d,f);ge[a].CC=j;return a}
function ne(a,b,c,d,f){if(ja(b))for(var g=0;g<b.length;g++)ne(a,b[g],c,d,f);else if(d=!!d,a=oe(a,b,d))for(g=0;g<a.length;g++)if(a[g].Lq==c&&a[g].capture==d&&a[g].ly==f){pe(a[g].key);break}}
function pe(a){if(!ge[a])return m;var b=ge[a];if(b.Xo)return m;var c=b.src,d=b.type,f=b.bR,g=b.capture;c.removeEventListener?(c==r||!c.RL)&&c.removeEventListener(d,f,g):c.detachEvent&&c.detachEvent(d in je?je[d]:je[d]="on"+d,f);c=pa(c);f=he[d][g][c];if(ie[c]){var i=ie[c];Cb(i,b);0==i.length&&delete ie[c]}b.Xo=j;f.cP=j;qe(d,g,c,f);delete ge[a];return j}
function qe(a,b,c,d){if(!d.bz&&d.cP){for(var f=0,g=0;f<d.length;f++)d[f].Xo?d[f].bR.src=k:(f!=g&&(d[g]=d[f]),g++);d.length=g;d.cP=m;0==g&&(delete he[a][b][c],he[a][b].Ba--,0==he[a][b].Ba&&(delete he[a][b],he[a].Ba--),0==he[a].Ba&&delete he[a])}}
function re(a,b){var c,d=0,f=b==k,g=c==k;c=!!c;if(a==k)Cc(ie,function(a){for(var i=a.length-1;0<=i;i--){var l=a[i];if((f||b==l.type)&&(g||c==l.capture))pe(l.key),d++}});else{var i=pa(a);if(ie[i])for(var i=ie[i],l=i.length-1;0<=l;l--){var q=i[l];if((f||b==q.type)&&(g||c==q.capture))pe(q.key),d++}}}function oe(a,b,c){var d=he;return b in d&&(d=d[b],c in d&&(d=d[c],a=pa(a),d[a]))?d[a]:k}
function se(a,b,c,d,f){d=!!d;if(a=oe(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Xo&&a[b].Lq==c&&a[b].capture==d&&a[b].ly==f)return a[b];return k}function te(a,b,c,d){var f=he;b in f&&(f=f[b],c in f&&ue(f[c],a,b,c,d))}function ue(a,b,c,d,f){var g=1,b=pa(b);if(a[b]){a.sh--;a=a[b];a.bz?a.bz++:a.bz=1;try{for(var i=a.length,l=0;l<i;l++){var q=a[l];q&&!q.Xo&&(g&=ve(q,f)!==m)}}catch(s){}finally{a.bz--,qe(c,d,b,a)}}return Boolean(g)}function ve(a,b){var c=a.handleEvent(b);a.CC&&pe(a.key);return c}
function we(a,b){var c=b.type||b,d=he;if(!(c in d))return j;if(v(b))b=new L(b,a);else if(b instanceof L)b.target=b.target||a;else{var f=b,b=new L(c,a);Nc(b,f)}var f=1,g,d=d[c],c=j in d,i;if(c){g=[];for(i=a;i;i=i.mE())g.push(i);i=d[j];i.sh=i.Ba;for(var l=g.length-1;!b.Sk&&0<=l&&i.sh;l--)b.currentTarget=g[l],f&=ue(i,g[l],b.type,j,b)&&b.$o!=m}if(m in d)if(i=d[m],i.sh=i.Ba,c)for(l=0;!b.Sk&&l<g.length&&i.sh;l++)b.currentTarget=g[l],f&=ue(i,g[l],b.type,m,b)&&b.$o!=m;else for(d=a;!b.Sk&&d&&i.sh;d=d.mE())b.currentTarget=
d,f&=ue(i,d,b.type,m,b)&&b.$o!=m;return Boolean(f)}
function le(a,b){if(!ge[a])return j;var c=ge[a],d=c.type,f=he;if(!(d in f))return j;var f=f[d],g,i;if(!Td){g=b||ea("window.event");var l=j in f,q=m in f;if(l){if(0>g.keyCode||g.returnValue!=h)return j;a:{var s=m;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(B){s=j}if(s||g.returnValue==h)g.returnValue=j}}s=new be;s.oc(g,this);g=j;try{if(l){for(var E=[],Z=s.currentTarget;Z;Z=Z.parentNode)E.push(Z);i=f[j];i.sh=i.Ba;for(var T=E.length-1;!s.Sk&&0<=T&&i.sh;T--)s.currentTarget=E[T],g&=ue(i,E[T],d,j,s);
if(q){i=f[m];i.sh=i.Ba;for(T=0;!s.Sk&&T<E.length&&i.sh;T++)s.currentTarget=E[T],g&=ue(i,E[T],d,m,s)}}else g=ve(c,s)}catch(gb){}finally{E&&(E.length=0),s.o()}return g}d=new be(b,this);try{g=ve(c,d)}catch(Cv){}finally{d.o()}return g};

function xe(){}z(xe,Pd);p=xe.prototype;p.RL=j;p.FH=k;p.mE=n("FH");p.WA=ca("FH");p.addEventListener=function(a,b,c,d){M(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){ne(this,a,b,c,d)};p.dispatchEvent=function(a){return we(this,a)};p.n=function(){xe.g.n.call(this);re(this);this.FH=k};

function ye(a,b){this.lo=a||1;this.Wv=b||ze;this.yC=w(this.b6,this);this.FF=x()}z(ye,xe);ye.prototype.enabled=m;var ze=r.window;p=ye.prototype;p.yd=k;p.setInterval=function(a){this.lo=a;this.yd&&this.enabled?(this.stop(),this.start()):this.yd&&this.stop()};p.b6=function(){if(this.enabled){var a=x()-this.FF;0<a&&a<0.8*this.lo?this.yd=this.Wv.setTimeout(this.yC,this.lo-a):(this.dispatchEvent(Ae),this.enabled&&(this.yd=this.Wv.setTimeout(this.yC,this.lo),this.FF=x()))}};
p.start=function(){this.enabled=j;this.yd||(this.yd=this.Wv.setTimeout(this.yC,this.lo),this.FF=x())};p.stop=function(){this.enabled=m;this.yd&&(this.Wv.clearTimeout(this.yd),this.yd=k)};p.n=function(){ye.g.n.call(this);this.stop();delete this.Wv};var Ae="tick";function N(a,b,c){na(a)?c&&(a=w(a,c)):a&&"function"==typeof a.handleEvent?a=w(a.handleEvent,a):e(Error("Invalid listener argument"));return 2147483647<b?-1:ze.setTimeout(a,b||0)}function Be(a){ze.clearTimeout(a)};

function Ce(a,b){a.setAttribute("role",b);a.v$=b}function De(a,b,c){a.setAttribute("aria-"+b,c)};

function Ee(a){if(a.altKey&&!a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)return m;switch(a.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 224:case 92:return m;case 0:return!H;default:return 166>a.keyCode||183<a.keyCode}}
function Fe(a,b,c,d,f){if(!G&&(!hc||!I("525")))return j;if(ac&&f)return Ge(a);if(f&&!d||!c&&(17==b||18==b)||G&&d&&b==a)return m;switch(a){case 13:return!(G&&vc(9));case 27:return!hc}return Ge(a)}function Ge(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||hc&&0==a)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return m}}
function He(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};

function Ie(a,b){a&&this.Fh(a,b)}z(Ie,xe);p=Ie.prototype;p.F=k;p.Vy=k;p.xF=k;p.Wy=k;p.pm=-1;p.nm=-1;
var Je={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Ke={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Le=G||hc&&I("525");p=Ie.prototype;
p.dm=function(a){if(hc&&(17==this.pm&&!a.ctrlKey||18==this.pm&&!a.altKey))this.nm=this.pm=-1;Le&&!Fe(a.keyCode,this.pm,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):this.nm=H?He(a.keyCode):a.keyCode};p.oX=function(){this.nm=this.pm=-1};
p.handleEvent=function(a){var b=a.lc,c,d;G&&"keypress"==a.type?(c=this.nm,d=13!=c&&27!=c?b.keyCode:0):hc&&"keypress"==a.type?(c=this.nm,d=0<=b.charCode&&63232>b.charCode&&Ge(c)?b.charCode:0):gc?(c=this.nm,d=Ge(c)?b.keyCode:0):(c=b.keyCode||this.nm,d=b.charCode||0,ac&&63==d&&224==c&&(c=191));var f=c,g=b.keyIdentifier;c?63232<=c&&c in Je?f=Je[c]:25==c&&a.shiftKey&&(f=9):g&&g in Ke&&(f=Ke[g]);a=f==this.pm;this.pm=f;b=new Me(f,d,a,b);try{this.dispatchEvent(b)}catch(i){}finally{b.o()}};p.c=n("F");
p.Fh=function(a,b){this.Wy&&this.detach();this.F=a;this.Vy=M(this.F,"keypress",this,b);this.xF=M(this.F,"keydown",this.dm,b,this);this.Wy=M(this.F,"keyup",this.oX,b,this)};p.detach=function(){this.Vy&&(pe(this.Vy),pe(this.xF),pe(this.Wy),this.Wy=this.xF=this.Vy=k);this.F=k;this.nm=this.pm=-1};p.n=function(){Ie.g.n.call(this);this.detach()};function Me(a,b,c,d){d&&this.oc(d,h);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}z(Me,be);

function Ne(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Ne.prototype.Hb=function(){return new Ne(this.top,this.right,this.bottom,this.left)};Ne.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};Ne.prototype.contains=function(a){return!this||!a?m:a instanceof Ne?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};

function Oe(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}p=Oe.prototype;p.Hb=function(){return new Oe(this.left,this.top,this.width,this.height)};p.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
p.NN=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,j}return m};p.contains=function(a){return a instanceof Oe?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
p.Rn=function(){return new Bc(this.width,this.height)};

function Pe(a,b,c){v(b)?Qe(a,c,b):Cc(b,ua(Qe,a))}function Qe(a,b,c){a.style[hb(c)]=b}function Re(a,b){var c=Rc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b):""}function Se(a,b){return a.currentStyle?a.currentStyle[b]:k}function Te(a,b){return Re(a,b)||Se(a,b)||a.style&&a.style[b]}function Ue(a){return Te(a,"position")}
function Ve(a,b,c){var d,f=H&&(ac||lc)&&I("1.9");b instanceof zc?(d=b.x,b=b.y):(d=b,b=c);a.style.left=We(d,f);a.style.top=We(b,f)}function Xe(a){a=a?9==a.nodeType?a:Rc(a):document;return G&&!vc(9)&&!Nd(J(a))?a.body:a.documentElement}function Ye(a){var b=a.getBoundingClientRect();G&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Ze(a){if(G&&!vc(8))return a.offsetParent;for(var b=Rc(a),c=Te(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Te(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return k}
function $e(a){for(var b=new Ne(0,Infinity,Infinity,0),c=J(a),d=c.Ia().body,f=c.Ia().documentElement,g=ad(c.Xb);a=Ze(a);)if((!G||0!=a.clientWidth)&&(!hc||0!=a.clientHeight||a!=d)&&a!=d&&a!=f&&"visible"!=Te(a,"overflow")){var i=af(a),l;l=a;if(H&&!I("1.9")){var q=parseFloat(Re(l,"borderLeftWidth"));if(bf(l))var s=l.offsetWidth-l.clientWidth-q-parseFloat(Re(l,"borderRightWidth")),q=q+s;l=new zc(q,parseFloat(Re(l,"borderTopWidth")))}else l=new zc(l.clientLeft,l.clientTop);i.x+=l.x;i.y+=l.y;b.top=Math.max(b.top,
i.y);b.right=Math.min(b.right,i.x+a.clientWidth);b.bottom=Math.min(b.bottom,i.y+a.clientHeight);b.left=Math.max(b.left,i.x)}d=g.scrollLeft;g=g.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,g);c=c.va();c=$c(c||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,g+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:k}
function cf(a,b,c){var d=af(a),f=af(b),g=df(b),i=d.x-f.x-g.left,d=d.y-f.y-g.top,f=b.clientWidth-a.offsetWidth,a=b.clientHeight-a.offsetHeight,g=b.scrollLeft,b=b.scrollTop;c?(g+=i-f/2,b+=d-a/2):(g+=Math.min(i,Math.max(i-f,0)),b+=Math.min(d,Math.max(d-a,0)));return new zc(g,b)}
function af(a){var b,c=Rc(a),d=Te(a,"position"),f=H&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new zc(0,0),i=Xe(c);if(a==i)return g;if(a.getBoundingClientRect)b=Ye(a),a=Od(J(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(i),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{b=a;do{g.x+=b.offsetLeft;g.y+=b.offsetTop;b!=a&&(g.x+=b.clientLeft||0,g.y+=b.clientTop||0);if(hc&&
"fixed"==Ue(b)){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(gc||hc&&"absolute"==d)g.y-=c.body.offsetTop;for(b=a;(b=Ze(b))&&b!=c.body&&b!=i;)if(g.x-=b.scrollLeft,!gc||"TR"!=b.tagName)g.y-=b.scrollTop}return g}function ef(a,b){var c=new zc(0,0),d=bd(Rc(a)),f=a;do{var g=d==b?af(f):ff(f);c.x+=g.x;c.y+=g.y}while(d&&d!=b&&(f=d.frameElement)&&(d=d.parent));return c}
function ff(a){var b=new zc;if(1==a.nodeType)if(a.getBoundingClientRect)a=Ye(a),b.x=a.left,b.y=a.top;else{var c=Od(J(a)),a=af(a);b.x=a.x-c.x;b.y=a.y-c.y}else{var c=na(a.NM),d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.lc.targetTouches&&(d=a.lc.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function gf(a,b,c){b instanceof Bc?(c=b.height,b=b.width):c==h&&e(Error("missing height argument"));hf(a,b);a.style.height=We(c,j)}
function We(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function hf(a,b){a.style.width=We(b,j)}function jf(a){if("none"!=Te(a,"display"))return kf(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=kf(a);b.display=c;b.position=f;b.visibility=d;return a}
function kf(a){var b=a.offsetWidth,c=a.offsetHeight,d=hc&&!b&&!c;return(!u(b)||d)&&a.getBoundingClientRect?(a=Ye(a),new Bc(a.right-a.left,a.bottom-a.top)):new Bc(b,c)}function lf(a){var b=af(a),a=jf(a);return new Oe(b.x,b.y,a.width,a.height)}function mf(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function O(a,b){a.style.display=b?"":"none"}
function nf(a,b){var c=J(b),d=k;if(G)d=c.Ia().createStyleSheet(),of(d,a);else{var f=Md(c,"head")[0];f||(d=Md(c,"body")[0],f=c.l("head"),d.parentNode.insertBefore(f,d));d=c.l("style");of(d,a);c.appendChild(f,d)}}function of(a,b){G?a.cssText=b:a[hc?"innerText":"innerHTML"]=b}function bf(a){return"rtl"==Te(a,"direction")}var pf=H?"MozUserSelect":hc?"WebkitUserSelect":k;
function qf(a,b,c){c=!c?a.getElementsByTagName("*"):k;if(pf){if(b=b?"none":"",a.style[pf]=b,c)for(var a=0,d;d=c[a];a++)d.style[pf]=b}else if(G||gc)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}
function rf(a,b){var c=Nd(J(Rc(a)));if(G&&(!c||!I("8"))){var d=a.style;if(c){var c=sf(a),f=df(a);d.pixelWidth=b.width-f.left-c.left-c.right-f.right;d.pixelHeight=b.height-f.top-c.top-c.bottom-f.bottom}else d.pixelWidth=b.width,d.pixelHeight=b.height}else d=a.style,H?d.MozBoxSizing="border-box":hc?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(b.width,0)+"px",d.height=Math.max(b.height,0)+"px"}
function tf(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}
function uf(a,b){if(G){var c=tf(a,Se(a,b+"Left")),d=tf(a,Se(a,b+"Right")),f=tf(a,Se(a,b+"Top")),g=tf(a,Se(a,b+"Bottom"));return new Ne(f,d,g,c)}c=Re(a,b+"Left");d=Re(a,b+"Right");f=Re(a,b+"Top");g=Re(a,b+"Bottom");return new Ne(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}function sf(a){return uf(a,"padding")}var vf={thin:2,medium:4,thick:6};function wf(a,b){if("none"==Se(a,b+"Style"))return 0;var c=Se(a,b+"Width");return c in vf?vf[c]:tf(a,c)}
function df(a){if(G){var b=wf(a,"borderLeft"),c=wf(a,"borderRight"),d=wf(a,"borderTop"),a=wf(a,"borderBottom");return new Ne(d,c,a,b)}b=Re(a,"borderLeftWidth");c=Re(a,"borderRightWidth");d=Re(a,"borderTopWidth");a=Re(a,"borderBottomWidth");return new Ne(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var xf=/[^\d]+$/;function yf(a){return(a=a.match(xf))&&a[0]||k};


function zf(a,b,c,d,f,g,i,l){var q,s=c.offsetParent;if(s){var B="HTML"==s.tagName||"BODY"==s.tagName;if(!B||"static"!=Ue(s))q=af(s),B||(B=(B=bf(s))&&H?-s.scrollLeft:B&&(!G||!I("8"))?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft,q=Ac(q,new zc(B,s.scrollTop)))}s=lf(a);(B=$e(a))&&s.NN(new Oe(B.left,B.top,B.right-B.left,B.bottom-B.top));var B=J(a),E=J(c);if(B.Ia()!=E.Ia()){var Z=B.Ia().body,E=ef(Z,E.va()),E=Ac(E,af(Z));G&&!Nd(B)&&(E=Ac(E,Od(B)));s.left+=E.x;s.top+=E.y}a=(b&4&&bf(a)?b^2:b)&-5;
b=new zc(a&2?s.left+s.width:s.left,a&1?s.top+s.height:s.top);q&&(b=Ac(b,q));f&&(b.x+=(a&2?-1:1)*f.x,b.y+=(a&1?-1:1)*f.y);var T;if(i&&(T=$e(c))&&q)T.top-=q.y,T.right-=q.x,T.bottom-=q.y,T.left-=q.x;return Af(b,c,d,g,T,i,l)}
function Af(a,b,c,d,f,g,i){var a=a.Hb(),l=0,q=(c&4&&bf(b)?c^2:c)&-5,c=jf(b),i=i?i.Hb():c.Hb();if(d||0!=q)q&2?a.x-=i.width+(d?d.right:0):d&&(a.x+=d.left),q&1?a.y-=i.height+(d?d.bottom:0):d&&(a.y+=d.top);if(g){if(f){d=a;l=0;if(65==(g&65)&&(d.x<f.left||d.x>=f.right))g&=-2;if(132==(g&132)&&(d.y<f.top||d.y>=f.bottom))g&=-5;d.x<f.left&&g&1&&(d.x=f.left,l|=1);d.x<f.left&&d.x+i.width>f.right&&g&16&&(i.width=Math.max(i.width-(d.x+i.width-f.right),0),l|=4);d.x+i.width>f.right&&g&1&&(d.x=Math.max(f.right-i.width,
f.left),l|=1);g&2&&(l|=(d.x<f.left?16:0)|(d.x+i.width>f.right?32:0));d.y<f.top&&g&4&&(d.y=f.top,l|=2);d.y>=f.top&&d.y+i.height>f.bottom&&g&32&&(i.height=Math.max(i.height-(d.y+i.height-f.bottom),0),l|=8);d.y+i.height>f.bottom&&g&4&&(d.y=Math.max(f.bottom-i.height,f.top),l|=2);g&8&&(l|=(d.y<f.top?64:0)|(d.y+i.height>f.bottom?128:0));f=l}else f=256;l=f;if(l&496)return l}Ve(b,a);c==i||(!c||!i?0:c.width==i.width&&c.height==i.height)||rf(b,i);return l};

function Bf(a){return function(){return a}}var Cf=Bf(m),Df=Bf(j);function Ef(a){return function(){return a.call(this)}};

function Ff(){}Ff.prototype.Xc=ba();

function Gf(a,b,c){this.element=a;this.zs=b;this.l4=c}z(Gf,Ff);Gf.prototype.Xc=function(a,b,c){zf(this.element,this.zs,a,b,h,c,this.l4)};

function Hf(a,b,c){Gf.call(this,a,b);this.xo=c?5:0}z(Hf,Gf);Hf.prototype.yW=n("xo");Hf.prototype.TA=ca("xo");Hf.prototype.Xc=function(a,b,c,d){var f=zf(this.element,this.zs,a,b,k,c,10,d);if(f&496){var g=If(f,this.zs),b=If(f,b),f=zf(this.element,g,a,b,k,c,10,d);f&496&&(g=If(f,g),b=If(f,b),zf(this.element,g,a,b,k,c,this.xo,d))}};function If(a,b){a&48&&(b^=2);a&192&&(b^=1);return b};

function Jf(a,b,c,d){Hf.call(this,a,b,c||d);if(c||d)this.TA(65|(d?32:132))}z(Jf,Hf);


function Kf(a){this.Bb=a;this.pc=[]}z(Kf,Pd);var Lf=[];p=Kf.prototype;p.e=function(a,b,c,d,f){ja(b)||(Lf[0]=b,b=Lf);for(var g=0;g<b.length;g++)this.pc.push(M(a,b[g],c||this,d||m,f||this.Bb||this));return this};function Mf(a,b,c,d,f,g){if(ja(c))for(var i=0;i<c.length;i++)Mf(a,b,c[i],d,f,g);else a.pc.push(me(b,c,d||a,f,g||a.Bb||a));return a}p.M=function(a,b,c,d,f){if(ja(b))for(var g=0;g<b.length;g++)this.M(a,b[g],c,d,f);else if(a=se(a,b,c||this,d,f||this.Bb||this))a=a.key,pe(a),Cb(this.pc,a);return this};
p.Rd=function(){A(this.pc,pe);this.pc.length=0};p.n=function(){Kf.g.n.call(this);this.Rd()};p.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};

function Nf(){}ga(Nf);Nf.prototype.mG=0;Nf.j();

function Of(a){this.ba=a||J();this.gv=Pf}z(Of,xe);Of.prototype.JX=Nf.j();var Pf=k,Qf={c7:"beforeshow",p9:"show",T7:"hide",w7:"disable",C7:"enable",U7:"highlight",L9:"unhighlight",N6:"activate",zT:"deactivate",HT:"select",O9:"unselect",g7:"check",I9:"uncheck",hK:"focus",eK:"blur",OPEN:"open",i7:"close",D7:"enter",j8:"leave",M6:"action",fK:"change"};
function Rf(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}e(Error("Invalid component state"))}p=Of.prototype;p.ya=k;p.G=m;p.F=k;p.gv=k;p.cG=k;p.bb=k;p.bd=k;p.Ug=k;p.oT=m;p.z=function(){return this.ya||(this.ya=":"+(this.JX.mG++).toString(36))};
function Sf(a,b){a.bb&&a.bb.Ug&&(Ic(a.bb.Ug,a.ya),Jc(a.bb.Ug,b,a));a.ya=b}p.c=n("F");p.Zi=function(a){return this.F?this.ba.Zi(a,this.F):[]};p.P=function(a){return this.F?this.ba.P(a,this.F):k};p.h=function(){return this.sq||(this.sq=new Kf(this))};p.Ej=function(a){this==a&&e(Error("Unable to set parent component"));a&&this.bb&&this.ya&&Tf(this.bb,this.ya)&&this.bb!=a&&e(Error("Unable to set parent component"));this.bb=a;Of.g.WA.call(this,a)};p.getParent=n("bb");
p.WA=function(a){this.bb&&this.bb!=a&&e(Error("Method not supported"));Of.g.WA.call(this,a)};p.D=n("ba");p.l=function(){this.F=this.ba.createElement("div")};function Uf(a,b){if(G&&b){if(!a.ba||a.ba.Ia()!=b)a.ba=new Qc(b);a.F&&a.F.ownerDocument!=b&&(delete a.F,a.F=k);ob(a.bd||[],function(a){if(!a.ba||a.ba.Ia()!=b)a.ba=new Qc(b);a.F&&a.F.ownerDocument!=b&&(delete a.F,a.F=k)},a)}}p.T=function(a){Vf(this,a)};function Wf(a,b){Vf(a,b.parentNode,b)}
function Vf(a,b,c){a.G&&e(Error("Component already rendered"));var d=b||c,d=d?d.ownerDocument:a.ba.Ia();Uf(a,d);a.F||a.l();try{b?b.insertBefore(a.F,c||k):a.ba.Ia().body.appendChild(a.F)}catch(f){window.console&&window.console.log&&(window.console.log(f.toString()+"  while trying to insert this.element_"),a.F&&window.console.log("this.element_: "+a.F.outerHTML),b&&window.console.log("opt_parentElement: "+b.outerHTML),b&&window.console.log("ownerDocument matches: "+(b.ownerDocument==a.F.ownerDocument)),
c&&window.console.log("opt_beforeNode: "+c.outerHTML))}(!a.bb||a.bb.G)&&a.v()}p.qa=function(a){this.G&&e(Error("Component already rendered"));if(a&&this.ae(a)){this.oT=j;if(!this.ba||this.ba.Ia()!=Rc(a))this.ba=J(a);this.K(a);this.v()}else e(Error("Invalid element to decorate"))};p.ae=o(j);p.K=ca("F");p.v=function(){this.G=j;Xf(this,function(a){!a.G&&a.c()&&a.v()})};p.$=function(){Xf(this,function(a){a.G&&a.$()});this.sq&&this.sq.Rd();this.G=m};
p.n=function(){Of.g.n.call(this);this.G&&this.$();this.sq&&(this.sq.o(),delete this.sq);Xf(this,function(a){a.o()});!this.oT&&this.F&&od(this.F);this.bb=this.cG=this.F=this.Ug=this.bd=k};p.H=n("cG");p.vc=ca("cG");p.O=function(a,b){this.bg(a,Yf(this),b)};
p.bg=function(a,b,c){a.G&&(c||!this.G)&&e(Error("Component already rendered"));(0>b||b>Yf(this))&&e(Error("Child component index out of bounds"));if(!this.Ug||!this.bd)this.Ug={},this.bd=[];a.getParent()==this?(this.Ug[a.z()]=a,Cb(this.bd,a)):Jc(this.Ug,a.z(),a);a.Ej(this);Ab(this.bd,a,b);var d=this.F;d&&(d=d.ownerDocument);Uf(this,d);a.G&&this.G&&a.getParent()==this?(c=this.sa(),c.insertBefore(a.c(),c.childNodes[b]||k)):c?(this.F||this.l(),b=Zf(this,b+1),Vf(a,this.sa(),b?b.F:k)):this.G&&!a.G&&a.F&&
a.v()};p.sa=n("F");function $f(a){a.gv==k&&(a.gv=bf(a.G?a.F:a.ba.Ia().body));return a.gv}p.el=function(a){this.G&&e(Error("Component already rendered"));this.gv=a};function Yf(a){return a.bd?a.bd.length:0}function Tf(a,b){return a.Ug&&b?(b in a.Ug?a.Ug[b]:h)||k:k}function Zf(a,b){return a.bd?a.bd[b]||k:k}function Xf(a,b,c){a.bd&&A(a.bd,b,c)}function ag(a,b){return a.bd&&b?mb(a.bd,b):-1}
p.removeChild=function(a,b){if(a){var c=v(a)?a:a.z(),a=Tf(this,c);c&&a&&(Ic(this.Ug,c),Cb(this.bd,a),b&&(a.$(),a.F&&od(a.F)),a.Ej(k))}a||e(Error("Child is not in parent component"));return a};p.YH=function(a){for(;this.bd&&0!=this.bd.length;)this.removeChild(Zf(this,0),a)};


function bg(){}var cg;ga(bg);p=bg.prototype;p.sd=ba();p.l=function(a){var b=a.D().l("div",this.Hf(a).join(" "),a.Yb());this.qv(a,b);return b};p.sa=aa();p.Os=function(a,b,c){if(a=a.c?a.c():a)if(G&&!I("7")){var d=dg(Pb(a),b);d.push(b);ua(c?C:D,a).apply(k,d)}else Ub(a,b,c)};p.ae=o(j);
p.qa=function(a,b){b.id&&Sf(a,b.id);var c=this.sa(b);c&&c.firstChild?a.Km(c.firstChild.nextSibling?Gb(c.childNodes):c.firstChild):a.Km(k);var d=0,f=this.la(),g=this.la(),i=m,l=m,c=m,q=Pb(b);A(q,function(a){!i&&a==f?(i=j,g==f&&(l=j)):!l&&a==g?l=j:d|=this.rE(a)},this);a.W=d;i||(q.push(f),g==f&&(l=j));l||q.push(g);var s=a.Lh;s&&q.push.apply(q,s);if(G&&!I("7")){var B=dg(q);0<B.length&&(q.push.apply(q,B),c=j)}if(!i||!l||s||c)b.className=q.join(" ");this.qv(a,b);return b};
p.ij=function(a){$f(a)&&this.el(a.c(),j);a.isEnabled()&&this.le(a,a.isVisible())};p.qv=function(a,b){a.isEnabled()||this.zf(b,1,j);a.Fk()&&this.zf(b,8,j);a.kd&16&&this.zf(b,16,!!(a.W&16));a.kd&64&&this.zf(b,64,a.mm())};p.cp=function(a,b){qf(a,!b,!G&&!gc)};p.el=function(a,b){this.Os(a,this.la()+"-rtl",b)};p.kj=function(a){var b;return a.kd&32&&(b=a.Kd())?Ed(b):m};p.le=function(a,b){var c;if(a.kd&32&&(c=a.Kd())){if(!b&&a.Jy()){try{c.blur()}catch(d){}a.Jy()&&a.ej(k)}Ed(c)!=b&&Fd(c,b)}};
p.L=function(a,b){O(a,b)};p.ka=function(a,b,c){var d=a.c();if(d){var f=this.ft(b);f&&this.Os(a,f,c);this.zf(d,b,c)}};p.zf=function(a,b,c){cg||(cg={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=cg[b])&&De(a,b,c)};p.pa=function(a,b){var c=this.sa(a);if(c&&(kd(c),b))if(v(b))Ad(c,b);else{var d=function(a){if(a){var b=Rc(c);c.appendChild(v(a)?b.createTextNode(a):a)}};ja(b)?A(b,d):ka(b)&&!("nodeType"in b)?A(Gb(b),d):d(b)}};p.Kd=function(a){return a.c()};p.la=o("goog-control");
p.Hf=function(a){var b=this.la(),c=[b],d=this.la();d!=b&&c.push(d);b=a.xa();for(d=[];b;){var f=b&-b;d.push(this.ft(f));b&=~f}c.push.apply(c,d);(a=a.Lh)&&c.push.apply(c,a);G&&!I("7")&&c.push.apply(c,dg(c));return c};function dg(a,b){var c=[];b&&(a=a.concat([b]));A([],function(d){sb(d,ua(xb,a))&&(!b||xb(d,b))&&c.push(d.join("_"))});return c}p.ft=function(a){this.ex||eg(this);return this.ex[a]};
p.rE=function(a){this.xS||(this.ex||eg(this),this.xS=Lc(this.ex));a=parseInt(this.xS[a],10);return isNaN(a)?0:a};function eg(a){var b=a.la();a.ex={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};

function fg(){}z(fg,bg);ga(fg);p=fg.prototype;p.sd=o("button");p.zf=function(a,b,c){16==b?De(a,"pressed",c):fg.g.zf.call(this,a,b,c)};p.l=function(a){var b=fg.g.l.call(this,a),c=a.Ph();c&&this.Ud(b,c);(c=a.w())&&this.ga(b,c);a.kd&16&&this.zf(b,16,!!(a.W&16));return b};p.qa=function(a,b){var b=fg.g.qa.call(this,a,b),c=this.w(b);a.md=c;a.YA(this.Ph(b));a.kd&16&&this.zf(b,16,!!(a.W&16));return b};p.w=fa;p.ga=fa;p.Ph=function(a){return a.title};p.Ud=function(a,b){a&&(a.title=b||"")};p.la=o("goog-button");

function gg(a,b){a||e(Error("Invalid class name "+a));na(b)||e(Error("Invalid decorator function "+b));hg[a]=b}var ig={},hg={};


function jg(a,b,c){Of.call(this,c);if(!b){for(var b=this.constructor,d;b;){d=pa(b);if(d=ig[d])break;b=b.g?b.g.constructor:k}b=d?na(d.j)?d.j():new d:k}this.ta=b;this.Km(a)}z(jg,Of);p=jg.prototype;p.ib=k;p.W=0;p.kd=39;p.gs=255;p.ti=0;p.Xd=j;p.Lh=k;p.uq=j;p.Kw=m;p.jA=k;p.ZN=n("uq");p.fp=function(a){this.G&&a!=this.uq&&kg(this,a);this.uq=a};p.Kd=function(){return this.ta.Kd(this)};p.Pe=function(){return this.Sc||(this.Sc=new Ie)};
p.rc=function(a){a&&(this.Lh?xb(this.Lh,a)||this.Lh.push(a):this.Lh=[a],this.ta.Os(this,a,j))};function lg(a,b){b&&a.Lh&&(Cb(a.Lh,b),0==a.Lh.length&&(a.Lh=k),a.ta.Os(a,b,m))}p.Os=function(a,b){b?this.rc(a):lg(this,a)};p.l=function(){var a=this.ta.l(this);this.F=a;var b=this.jA||this.ta.sd();b&&Ce(a,b);this.Kw||this.ta.cp(a,m);this.isVisible()||this.ta.L(a,m)};p.sa=function(){return this.ta.sa(this.c())};p.ae=function(a){return this.ta.ae(a)};
p.K=function(a){this.F=a=this.ta.qa(this,a);var b=this.jA||this.ta.sd();b&&Ce(a,b);this.Kw||this.ta.cp(a,m);this.Xd="none"!=a.style.display};p.v=function(){jg.g.v.call(this);this.ta.ij(this);if(this.kd&-2&&(this.ZN()&&kg(this,j),this.kd&32)){var a=this.Kd();if(a){var b=this.Pe();b.Fh(a);this.h().e(b,"key",this.Kf).e(a,"focus",this.rk).e(a,"blur",this.ej)}}};
function kg(a,b){var c=a.h(),d=a.c();b?(c.e(d,"mouseover",a.em).e(d,"mousedown",a.mg).e(d,"mouseup",a.fm).e(d,"mouseout",a.wt),G&&c.e(d,"dblclick",a.aN)):(c.M(d,"mouseover",a.em).M(d,"mousedown",a.mg).M(d,"mouseup",a.fm).M(d,"mouseout",a.wt),G&&c.M(d,"dblclick",a.aN))}p.$=function(){jg.g.$.call(this);this.Sc&&this.Sc.detach();this.isVisible()&&this.isEnabled()&&this.ta.le(this,m)};p.n=function(){jg.g.n.call(this);this.Sc&&(this.Sc.o(),delete this.Sc);delete this.ta;this.Lh=this.ib=k};p.Yb=n("ib");
p.pa=function(a){this.ta.pa(this.c(),a);this.Km(a)};p.Km=ca("ib");p.ah=function(){var a=this.Yb();if(!a)return"";a=v(a)?a:ja(a)?qb(a,Id).join(""):Gd(a);return Fa(a)};p.PA=function(a){this.pa(a)};p.el=function(a){jg.g.el.call(this,a);var b=this.c();b&&this.ta.el(b,a)};p.cp=function(a){this.Kw=a;var b=this.c();b&&this.ta.cp(b,a)};p.isVisible=n("Xd");
p.L=function(a,b){if(b||this.Xd!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.c();c&&this.ta.L(c,a);this.isEnabled()&&this.ta.le(this,a);this.Xd=a;return j}return m};p.isEnabled=function(){return!(this.W&1)};p.uc=function(a){var b=this.getParent();if((!b||"function"!=typeof b.isEnabled||b.isEnabled())&&mg(this,1,!a))a||(this.setActive(m),this.Uf(m)),this.isVisible()&&this.ta.le(this,a),this.ka(1,!a)};p.Uf=function(a){mg(this,2,a)&&this.ka(2,a)};p.isActive=function(){return!!(this.W&4)};
p.setActive=function(a){mg(this,4,a)&&this.ka(4,a)};p.Fk=function(){return!!(this.W&8)};p.ri=function(a){mg(this,8,a)&&this.ka(8,a)};function ng(a,b){mg(a,16,b)&&a.ka(16,b)}p.Jy=function(){return!!(this.W&32)};p.mm=function(){return!!(this.W&64)};p.mb=function(a){mg(this,64,a)&&this.ka(64,a)};p.xa=n("W");p.ka=function(a,b){this.kd&a&&b!=!!(this.W&a)&&(this.ta.ka(this,a,b),this.W=b?this.W|a:this.W&~a)};
function og(a,b,c){a.G&&a.W&b&&!c&&e(Error("Component already rendered"));!c&&a.W&b&&a.ka(b,m);a.kd=c?a.kd|b:a.kd&~b}function pg(a,b){return!!(a.gs&b)&&!!(a.kd&b)}function mg(a,b,c){return!!(a.kd&b)&&!!(a.W&b)!=c&&(!(a.ti&b)||a.dispatchEvent(Rf(b,c)))&&!a.qe}p.em=function(a){(!a.relatedTarget||!ud(this.c(),a.relatedTarget))&&this.dispatchEvent("enter")&&this.isEnabled()&&pg(this,2)&&this.Uf(j)};
p.wt=function(a){if((!a.relatedTarget||!ud(this.c(),a.relatedTarget))&&this.dispatchEvent("leave"))pg(this,4)&&this.setActive(m),pg(this,2)&&this.Uf(m)};p.mg=function(a){this.isEnabled()&&(pg(this,2)&&this.Uf(j),de(a)&&(pg(this,4)&&this.setActive(j),this.ta.kj(this)&&this.Kd().focus()));!this.Kw&&de(a)&&a.preventDefault()};p.fm=function(a){this.isEnabled()&&(pg(this,2)&&this.Uf(j),this.isActive()&&this.ii(a)&&pg(this,4)&&this.setActive(m))};p.aN=function(a){this.isEnabled()&&this.ii(a)};
p.ii=function(a){pg(this,16)&&ng(this,!(this.W&16));pg(this,8)&&this.ri(j);pg(this,64)&&this.mb(!this.mm());var b=new L("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Qu=a.Qu);return this.dispatchEvent(b)};p.rk=function(){pg(this,32)&&mg(this,32,j)&&this.ka(32,j)};p.ej=function(){pg(this,4)&&this.setActive(m);pg(this,32)&&mg(this,32,m)&&this.ka(32,m)};
p.Kf=function(a){return this.isVisible()&&this.isEnabled()&&this.hh(a)?(a.preventDefault(),a.stopPropagation(),j):m};p.hh=function(a){return 13==a.keyCode&&this.ii(a)};na(jg)||e(Error("Invalid component class "+jg));na(bg)||e(Error("Invalid renderer class "+bg));var qg=pa(jg);ig[qg]=bg;gg("goog-control",function(){return new jg(k)});

function rg(){}z(rg,fg);ga(rg);p=rg.prototype;p.sd=ba();p.l=function(a){sg(a);return a.D().l("button",{"class":this.Hf(a).join(" "),disabled:!a.isEnabled(),title:a.Ph()||"",value:a.w()||""},a.ah()||"")};p.ae=function(a){return"BUTTON"==a.tagName||"button"==a.getAttribute("role")||"INPUT"==a.tagName&&("button"==a.type||"submit"==a.type||"reset"==a.type)};p.qa=function(a,b){sg(a);b.disabled&&C(b,this.ft(1));return rg.g.qa.call(this,a,b)};p.ij=function(a){a.h().e(a.c(),"click",a.ii)};p.cp=fa;p.el=fa;
p.kj=function(a){return a.isEnabled()};p.le=fa;p.ka=function(a,b,c){rg.g.ka.call(this,a,b,c);if((a=a.c())&&1==b)a.disabled=c};p.w=function(a){return a.value};p.ga=function(a,b){a&&(a.value=b)};p.zf=fa;function sg(a){a.fp(m);a.gs&=-256;og(a,32,m)};

function tg(a,b,c){jg.call(this,a,b||rg.j(),c)}z(tg,jg);p=tg.prototype;p.w=n("md");p.ga=function(a){this.md=a;this.ta.ga(this.c(),a)};p.Ph=n("yf");p.Ud=function(a){this.yf=a;this.ta.Ud(this.c(),a)};p.YA=ca("yf");p.n=function(){tg.g.n.call(this);delete this.md;delete this.yf};p.v=function(){tg.g.v.call(this);if(this.kd&32){var a=this.Kd();a&&this.h().e(a,"keyup",this.hh)}};p.hh=function(a){return 13==a.keyCode&&"key"==a.type||32==a.keyCode&&"keyup"==a.type?this.ii(a):32==a.keyCode};
gg("goog-button",function(){return new tg(k)});

function ug(){}z(ug,bg);ga(ug);ug.prototype.l=function(a){return a.D().l("div",this.la())};ug.prototype.qa=function(a,b){b.id&&Sf(a,b.id);if("HR"==b.tagName){var c=b,b=this.l(a);ld(b,c);od(c)}else C(b,this.la());return b};ug.prototype.pa=ba();ug.prototype.la=o("goog-menuseparator");

function vg(a,b){jg.call(this,k,a||ug.j(),b);og(this,1,m);og(this,2,m);og(this,4,m);og(this,32,m);this.W=1}z(vg,jg);vg.prototype.v=function(){vg.g.v.call(this);Ce(this.c(),"separator")};gg("goog-menuseparator",function(){return new vg});

function wg(){}ga(wg);p=wg.prototype;p.sd=ba();function xg(a,b){a&&(a.tabIndex=b?0:-1)}p.l=function(a){return a.D().l("div",this.Hf(a).join(" "))};p.sa=aa();p.ae=function(a){return"DIV"==a.tagName};p.qa=function(a,b){b.id&&Sf(a,b.id);var c=this.la(),d=m,f=Pb(b);f&&A(f,function(b){b==c?d=j:b&&this.xv(a,b,c)},this);d||C(b,c);yg(this,a,this.sa(b));return b};p.xv=function(a,b,c){b==c+"-disabled"?a.uc(m):b==c+"-horizontal"?a.yr(zg):b==c+"-vertical"&&a.yr(Ag)};
function yg(a,b,c){if(c)for(var d=c.firstChild,f;d&&d.parentNode==c;){f=d.nextSibling;if(1==d.nodeType){var g=a.ht(d);g&&(g.F=d,b.isEnabled()||g.uc(m),b.O(g),g.qa(d))}else(!d.nodeValue||""==Ga(d.nodeValue))&&c.removeChild(d);d=f}}p.ht=function(a){a:{for(var b=Pb(a),c=0,d=b.length;c<d;c++)if(a=b[c]in hg?hg[b[c]]():k)break a;a=k}return a};p.ij=function(a){a=a.c();qf(a,j,H);G&&(a.hideFocus=j);var b=this.sd();b&&Ce(a,b)};p.Kd=function(a){return a.c()};p.la=o("goog-container");
p.Hf=function(a){var b=this.la(),c=[b,a.We==zg?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};p.cE=function(){return Ag};

function Bg(a,b,c){Of.call(this,c);this.ta=b||wg.j();this.We=a||this.ta.cE()}z(Bg,Of);var zg="horizontal",Ag="vertical";p=Bg.prototype;p.yF=k;p.Sc=k;p.ta=k;p.We=k;p.Xd=j;p.Qb=j;p.Xi=j;p.fd=-1;p.Pd=k;p.ci=m;p.mC=m;p.QQ=j;p.bk=k;p.Kd=function(){return this.yF||this.ta.Kd(this)};p.Pe=function(){return this.Sc||(this.Sc=new Ie(this.Kd()))};p.l=function(){this.F=this.ta.l(this)};p.sa=function(){return this.ta.sa(this.c())};p.ae=function(a){return this.ta.ae(a)};
p.K=function(a){this.F=this.ta.qa(this,a);"none"==a.style.display&&(this.Xd=m)};p.v=function(){Bg.g.v.call(this);Xf(this,function(a){a.G&&Cg(this,a)},this);var a=this.c();this.ta.ij(this);this.L(this.Xd,j);this.h().e(this,"enter",this.BE).e(this,"highlight",this.DE).e(this,"unhighlight",this.IE).e(this,"open",this.uX).e(this,"close",this.XW).e(a,"mousedown",this.mg).e(Rc(a),"mouseup",this.$W).e(a,["mousedown","mouseup","mouseover","mouseout"],this.WW);this.kj()&&Dg(this,j)};
function Dg(a,b){var c=a.h(),d=a.Kd();b?c.e(d,"focus",a.rk).e(d,"blur",a.ej).e(a.Pe(),"key",a.Kf):c.M(d,"focus",a.rk).M(d,"blur",a.ej).M(a.Pe(),"key",a.Kf)}p.$=function(){this.gd(-1);this.Pd&&this.Pd.mb(m);this.ci=m;Bg.g.$.call(this)};p.n=function(){Bg.g.n.call(this);this.Sc&&(this.Sc.o(),this.Sc=k);this.ta=this.Pd=this.bk=this.yF=k};p.BE=o(j);
p.DE=function(a){var b=ag(this,a.target);if(-1<b&&b!=this.fd){var c=Eg(this);c&&c.Uf(m);this.fd=b;c=Eg(this);this.ci&&c.setActive(j);this.QQ&&this.Pd&&c!=this.Pd&&(c.kd&64?c.mb(j):this.Pd.mb(m))}De(this.c(),"activedescendant",a.target.c().id)};p.IE=function(a){a.target==Eg(this)&&(this.fd=-1);De(this.c(),"activedescendant","")};p.uX=function(a){if((a=a.target)&&a!=this.Pd&&a.getParent()==this)this.Pd&&this.Pd.mb(m),this.Pd=a};p.XW=function(a){a.target==this.Pd&&(this.Pd=k)};
p.mg=function(a){this.Qb&&(this.ci=j);var b=this.Kd();b&&Ed(b)?b.focus():a.preventDefault()};p.$W=function(){this.ci=m};p.WW=function(a){var b;a:{b=a.target;if(this.bk)for(var c=this.c();b&&b!==c;){var d=b.id;if(d in this.bk){b=this.bk[d];break a}b=b.parentNode}b=k}if(b)switch(a.type){case "mousedown":b.mg(a);break;case "mouseup":b.fm(a);break;case "mouseover":b.em(a);break;case "mouseout":b.wt(a)}};p.rk=ba();p.ej=function(){this.gd(-1);this.ci=m;this.Pd&&this.Pd.mb(m)};
p.Kf=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Yf(this)||this.yF)&&this.hh(a)?(a.preventDefault(),a.stopPropagation(),j):m};
p.hh=function(a){var b=Eg(this);if(b&&"function"==typeof b.Kf&&b.Kf(a)||this.Pd&&this.Pd!=b&&"function"==typeof this.Pd.Kf&&this.Pd.Kf(a))return j;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return m;switch(a.keyCode){case 27:if(this.kj())this.Kd().blur();else return m;break;case 36:Fg(this);break;case 35:Gg(this);break;case 38:if(this.We==Ag)Hg(this);else return m;break;case 37:if(this.We==zg)$f(this)?Ig(this):Hg(this);else return m;break;case 40:if(this.We==Ag)Ig(this);else return m;break;case 39:if(this.We==
zg)$f(this)?Hg(this):Ig(this);else return m;break;default:return m}return j};function Cg(a,b){var c=b.c(),c=c.id||(c.id=b.z());a.bk||(a.bk={});a.bk[c]=b}p.O=function(a,b){Bg.g.O.call(this,a,b)};p.bg=function(a,b,c){a.ti|=2;a.ti|=64;(this.kj()||!this.mC)&&og(a,32,m);a.fp(m);Bg.g.bg.call(this,a,b,c);a.G&&this.G&&Cg(this,a);b<=this.fd&&this.fd++};
p.removeChild=function(a,b){if(a=v(a)?Tf(this,a):a){var c=ag(this,a);-1!=c&&(c==this.fd?a.Uf(m):c<this.fd&&this.fd--);(c=a.c())&&c.id&&this.bk&&Ic(this.bk,c.id)}a=Bg.g.removeChild.call(this,a,b);a.fp(j);return a};p.yr=function(a){this.c()&&e(Error("Component already rendered"));this.We=a};p.isVisible=n("Xd");
p.L=function(a,b){if(b||this.Xd!=a&&this.dispatchEvent(a?"show":"hide")){this.Xd=a;var c=this.c();c&&(O(c,a),this.kj()&&xg(this.Kd(),this.Qb&&this.Xd),b||this.dispatchEvent(this.Xd?"aftershow":"afterhide"));return j}return m};p.isEnabled=n("Qb");p.uc=function(a){if(this.Qb!=a&&this.dispatchEvent(a?"enable":"disable"))a?(this.Qb=j,Xf(this,function(a){a.pT?delete a.pT:a.uc(j)})):(Xf(this,function(a){a.isEnabled()?a.uc(m):a.pT=j}),this.ci=this.Qb=m),this.kj()&&xg(this.Kd(),a&&this.Xd)};p.kj=n("Xi");
p.le=function(a){a!=this.Xi&&this.G&&Dg(this,a);this.Xi=a;this.Qb&&this.Xd&&xg(this.Kd(),a)};p.gd=function(a){(a=Zf(this,a))?a.Uf(j):-1<this.fd&&Eg(this).Uf(m)};p.Uf=function(a){this.gd(ag(this,a))};function Eg(a){return Zf(a,a.fd)}function Fg(a){Jg(a,function(a,c){return(a+1)%c},Yf(a)-1)}function Gg(a){Jg(a,function(a,c){a--;return 0>a?c-1:a},0)}function Ig(a){Jg(a,function(a,c){return(a+1)%c},a.fd)}function Hg(a){Jg(a,function(a,c){a--;return 0>a?c-1:a},a.fd)}
function Jg(a,b,c){for(var c=0>c?ag(a,a.Pd):c,d=Yf(a),c=b.call(a,c,d),f=0;f<=d;){var g=Zf(a,c);if(g&&a.iL(g)){a.uv(c);break}f++;c=b.call(a,c,d)}}p.iL=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.kd&2)};p.uv=function(a){this.gd(a)};

function Kg(){}z(Kg,bg);ga(Kg);Kg.prototype.la=o("goog-menuheader");

function Lg(a,b,c){jg.call(this,a,c||Kg.j(),b);og(this,1,m);og(this,2,m);og(this,4,m);og(this,32,m);this.W=1}z(Lg,jg);gg("goog-menuheader",function(){return new Lg(k)});

function Mg(){this.pL=[]}z(Mg,bg);ga(Mg);function Ng(a,b){var c=a.pL[b];if(!c){switch(b){case 0:c=a.la()+"-highlight";break;case 1:c=a.la()+"-checkbox";break;case 2:c=a.la()+"-content"}a.pL[b]=c}return c}p=Mg.prototype;p.sd=o("menuitem");p.l=function(a){var b=a.D().l("div",this.Hf(a).join(" "),Og(this,a.Yb(),a.D()));Pg(this,a,b,!!(a.kd&8)||!!(a.kd&16));return b};p.sa=function(a){return a&&a.firstChild};
p.qa=function(a,b){var c=sd(b),d=Ng(this,2);c&&-1!=c.className.indexOf(d)||b.appendChild(Og(this,b.childNodes,a.D()));F(b,"goog-option")&&(a.rv(j),this.rv(a,b,j));return Mg.g.qa.call(this,a,b)};p.pa=function(a,b){var c=this.sa(a),d=Qg(this,a)?c.firstChild:k;Mg.g.pa.call(this,a,b);d&&!Qg(this,a)&&c.insertBefore(d,c.firstChild||k)};function Og(a,b,c){a=Ng(a,2);return c.l("div",a,b)}p.LI=function(a,b,c){b&&(Ce(b,c?"menuitemradio":this.sd()),Pg(this,a,b,c))};
p.rv=function(a,b,c){b&&(Ce(b,c?"menuitemcheckbox":this.sd()),Pg(this,a,b,c))};function Qg(a,b){var c=a.sa(b);if(c){var c=c.firstChild,d=Ng(a,1);return!!c&&!!c.className&&-1!=c.className.indexOf(d)}return m}function Pg(a,b,c,d){d!=Qg(a,c)&&(Ub(c,"goog-option",d),c=a.sa(c),d?(a=Ng(a,1),c.insertBefore(b.D().l("div",a),c.firstChild||k)):c.removeChild(c.firstChild))}p.ft=function(a){switch(a){case 2:return Ng(this,0);case 16:case 8:return"goog-option-selected";default:return Mg.g.ft.call(this,a)}};
p.rE=function(a){var b=Ng(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Mg.g.rE.call(this,a)}};p.la=o("goog-menuitem");

function Rg(a,b,c,d){jg.call(this,a,d||Mg.j(),c);this.ga(b)}z(Rg,jg);p=Rg.prototype;p.w=function(){var a=this.H();return a!=k?a:this.ah()};p.ga=function(a){this.vc(a)};p.LI=function(a){og(this,8,a);this.W&16&&!a&&ng(this,m);var b=this.c();b&&this.ta.LI(this,b,a)};p.rv=function(a){og(this,16,a);var b=this.c();b&&this.ta.rv(this,b,a)};
p.ah=function(){var a=this.Yb();return ja(a)?(a=qb(a,function(a){var c=Pb(a);return xb(c,"goog-menuitem-accel")||xb(c,"goog-menuitem-mnemonic-separator")?"":Id(a)}).join(""),Fa(a)):Rg.g.ah.call(this)};p.fm=function(a){var b=this.getParent();if(b){var c=b.RQ;b.RQ=k;if(b=c&&ma(a.clientX))b=new zc(a.clientX,a.clientY),b=c==b?j:!c||!b?m:c.x==b.x&&c.y==b.y;if(b)return}Rg.g.fm.call(this,a)};p.hh=function(a){return a.keyCode==this.lz&&this.ii(a)?j:Rg.g.hh.call(this,a)};p.AW=n("lz");gg("goog-menuitem",function(){return new Rg(k)});

function Sg(){}z(Sg,wg);ga(Sg);p=Sg.prototype;p.sd=o("menu");p.ae=function(a){return"UL"==a.tagName||Sg.g.ae.call(this,a)};p.ht=function(a){return"HR"==a.tagName?new vg:Sg.g.ht.call(this,a)};p.Gl=function(a,b){return ud(a.c(),b)};p.la=o("goog-menu");p.ij=function(a){Sg.g.ij.call(this,a);De(a.c(),"haspopup","true")};

function Tg(a){vg.call(this,ug.j(),a)}z(Tg,vg);gg("goog-menuseparator",function(){return new vg});

function Ug(a,b){Bg.call(this,Ag,b||Sg.j(),a);this.le(m)}z(Ug,Bg);p=Ug.prototype;p.kC=j;p.MK=m;p.la=function(){return this.ta.la()};p.Gl=function(a){if(this.ta.Gl(this,a))return j;for(var b=0,c=Yf(this);b<c;b++){var d=Zf(this,b);if("function"==typeof d.Gl&&d.Gl(a))return j}return m};p.Ad=function(a){this.O(a,j)};p.hn=function(a,b){this.bg(a,b,j)};p.removeItem=function(a){(a=this.removeChild(a,j))&&a.o()};p.Wl=function(a){return Zf(this,a)};p.oq=function(){return Yf(this)};
p.vd=function(a,b){var c=this.isVisible();c||O(this.c(),j);var d=this.c(),f=a,g=b,i=af(d);f instanceof zc&&(g=f.y,f=f.x);Ve(d,d.offsetLeft+(f-i.x),d.offsetTop+(g-i.y));c||O(this.c(),m)};function Vg(a,b){(a.kC=b)&&a.le(j)}p.L=function(a,b,c){(b=Ug.g.L.call(this,a,b))&&a&&this.G&&this.kC&&this.Kd().focus();this.RQ=a&&c&&ma(c.clientX)?new zc(c.clientX,c.clientY):k;return b};p.BE=function(a){this.kC&&this.Kd().focus();return Ug.g.BE.call(this,a)};
p.iL=function(a){return(this.MK||a.isEnabled())&&a.isVisible()&&!!(a.kd&2)};p.K=function(a){for(var b=this.ta,c=Md(this.D(),"div",b.la()+"-content",a),d=c.length,f=0;f<d;f++)yg(b,this,c[f]);Ug.g.K.call(this,a)};p.hh=function(a){var b=Ug.g.hh.call(this,a);b||Xf(this,function(c){!b&&c.AW&&c.lz==a.keyCode&&(this.isEnabled()&&this.Uf(c),b=c.Kf(a))},this);return b};



function Wg(){}z(Wg,fg);ga(Wg);p=Wg.prototype;p.l=function(a){var b={"class":"goog-inline-block "+this.Hf(a).join(" "),title:a.Ph()||""},b=a.D().l("div",b,this.As(a.Yb(),a.D()));this.qv(a,b);return b};p.sd=o("button");p.qv=function(a,b){a.isEnabled()||this.zf(b,1,j);a.Fk()&&this.zf(b,8,j);a.kd&16&&this.zf(b,16,j);a.mm()&&this.zf(b,64,j)};p.sa=function(a){return a&&a.firstChild.firstChild};
p.As=function(a,b){return b.l("div","goog-inline-block "+(this.la()+"-outer-box"),b.l("div","goog-inline-block "+(this.la()+"-inner-box"),a))};p.ae=function(a){return"DIV"==a.tagName||"button"==a.getAttribute("role")};
p.qa=function(a,b){Xg(b,j);Xg(b,m);var c;a:{if((c=a.D().PM(b))&&-1!=c.className.indexOf(this.la()+"-outer-box"))if((c=a.D().PM(c))&&-1!=c.className.indexOf(this.la()+"-inner-box")){c=j;break a}c=m}c||b.appendChild(this.As(b.childNodes,a.D()));C(b,"goog-inline-block",this.la());return Wg.g.qa.call(this,a,b)};p.la=o("goog-custom-button");
function Xg(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(3==c.nodeType){var f=c.nodeValue;if(""==Ga(f))a.removeChild(c);else{c.nodeValue=b?f.replace(/^[\s\xa0]+/,""):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};

function Yg(){}z(Yg,Wg);ga(Yg);H&&(Yg.prototype.pa=function(a,b){var c=Yg.g.sa.call(this,a&&a.firstChild);c&&pd(this.createCaption(b,J(a)),c)});p=Yg.prototype;p.sa=function(a){a=Yg.g.sa.call(this,a&&a.firstChild);H&&a&&a.__goog_wrapper_div&&(a=a.firstChild);return a};p.qa=function(a,b){var c=Tc("*","goog-menu",b)[0];if(c){O(c,m);Rc(c).body.appendChild(c);var d=new Ug;d.qa(c);a.dl(d)}return Yg.g.qa.call(this,a,b)};p.As=function(a,b){return Yg.g.As.call(this,[this.createCaption(a,b),Zg(this,b)],b)};
p.createCaption=function(a,b){return $g(a,this.la(),b)};function $g(a,b,c){return c.l("div","goog-inline-block "+(b+"-caption"),a)}function Zg(a,b){var c=b.l("div","goog-inline-block "+(a.la()+"-dropdown")+" sprite","\u00a0");if(c){var d=b.l("IMG",{src:P("common/images/editortoolbar.png"),alt:"menu"});c.appendChild(d);c.style.background="none"}return c}p.la=o("goog-menu-button");

var ah,bh,ch,dh,eh,fh,gh;gh=fh=eh=dh=ch=bh=ah=m;var hh=cc();hh&&(-1!=hh.indexOf("Firefox")?ah=j:-1!=hh.indexOf("Camino")?bh=j:-1!=hh.indexOf("iPhone")||-1!=hh.indexOf("iPod")?ch=j:-1!=hh.indexOf("iPad")?dh=j:-1!=hh.indexOf("Android")?eh=j:-1!=hh.indexOf("Chrome")?fh=j:-1!=hh.indexOf("Safari")&&(gh=j));var ih=ah,jh=bh,kh=ch,lh=dh,mh=eh,nh=fh,oh=gh;

function ph(a,b,c,d){tg.call(this,a,c||Yg.j(),d);og(this,64,j);this.jz=new Jf(k,5);b&&this.dl(b);this.UY=k;this.yd=new ye(500);if((kh||lh)&&!I("533.17.9"))this.Iy=j}z(ph,tg);p=ph.prototype;p.Iy=m;p.J4=m;p.v=function(){ph.g.v.call(this);this.Q&&qh(this,this.Q,j);De(this.c(),"haspopup","true")};p.$=function(){ph.g.$.call(this);if(this.Q){this.mb(m);this.Q.$();qh(this,this.Q,m);var a=this.Q.c();a&&od(a)}};p.n=function(){ph.g.n.call(this);this.Q&&(this.Q.o(),delete this.Q);delete this.p4;this.yd.o()};
p.mg=function(a){ph.g.mg.call(this,a);this.isActive()&&(this.mb(!this.mm(),a),this.Q&&(this.Q.ci=this.mm()))};p.fm=function(a){ph.g.fm.call(this,a);this.Q&&!this.isActive()&&(this.Q.ci=m)};p.ii=function(){this.setActive(m);return j};p.ZW=function(a){this.Q&&this.Q.isVisible()&&!this.Gl(a.target)&&this.mb(m)};p.Gl=function(a){return a&&ud(this.c(),a)||this.Q&&this.Q.Gl(a)||m};
p.hh=function(a){if(32==a.keyCode){if(a.preventDefault(),"keyup"!=a.type)return j}else if("key"!=a.type)return m;if(this.Q&&this.Q.isVisible()){var b=this.Q.Kf(a);return 27==a.keyCode?(this.mb(m),j):b}return 40==a.keyCode||38==a.keyCode||32==a.keyCode?(this.mb(j),j):m};p.vt=function(){this.mb(m)};p.pX=function(){this.isActive()||this.mb(m)};p.ej=function(a){this.Iy||this.mb(m);ph.g.ej.call(this,a)};p.ua=function(){this.Q||this.dl(new Ug(this.D()));return this.Q||k};
p.dl=function(a){var b=this.Q;a!=b&&(b&&(this.mb(m),this.G&&qh(this,b,m),delete this.Q),a&&(this.Q=a,a.Ej(this),a.L(m),Vg(a,this.Iy),this.G&&qh(this,a,j)));return b};p.Ad=function(a){this.ua().O(a,j)};p.hn=function(a,b){this.ua().bg(a,b,j)};p.removeItem=function(a){(a=this.ua().removeChild(a,j))&&a.o()};p.Wl=function(a){return this.Q?Zf(this.Q,a):k};p.oq=function(){return this.Q?Yf(this.Q):0};p.L=function(a,b){var c=ph.g.L.call(this,a,b);c&&!this.isVisible()&&this.mb(m);return c};
p.uc=function(a){ph.g.uc.call(this,a);this.isEnabled()||this.mb(m)};p.cB=function(){this.mb(j)};
p.mb=function(a,b){ph.g.mb.call(this,a);if(this.Q&&!!(this.W&64)==a){if(a)this.Q.G||(this.J4?this.Q.T(this.c().parentNode):this.Q.T()),this.Zm=$e(this.c()),this.Bl=lf(this.c()),this.Tu(),this.Q.gd(-1);else if(this.setActive(m),this.Q.ci=m,this.c()&&De(this.c(),"activedescendant",""),t(this.Yz)){this.Yz=h;var c=this.Q.c();c&&gf(c,"","")}this.Q.L(a,m,b);if(!this.qe){var c=this.h(),d=a?c.e:c.M;d.call(c,this.D().Ia(),"mousedown",this.ZW,j);this.Iy&&d.call(c,this.Q,"blur",this.pX);d.call(c,this.yd,Ae,
this.B3);a?this.yd.start():this.yd.stop()}}};p.Tu=function(){if(this.Q.G){var a=this.jz;this.jz.element=this.p4||this.c();var b=this.Q.c();this.Q.isVisible()||(b.style.visibility="hidden",O(b,j));!this.Yz&&this.jz.yW&&this.jz.xo&32&&(this.Yz=jf(b));a.Xc(b,a.zs^1,this.UY,this.Yz);this.Q.isVisible()||(O(b,m),b.style.visibility="visible")}};
p.B3=function(){var a=lf(this.c()),b=$e(this.c());if(!(this.Bl==a||(!this.Bl||!a?0:this.Bl.left==a.left&&this.Bl.width==a.width&&this.Bl.top==a.top&&this.Bl.height==a.height))||!(this.Zm==b||(!this.Zm||!b?0:this.Zm.top==b.top&&this.Zm.right==b.right&&this.Zm.bottom==b.bottom&&this.Zm.left==b.left)))this.Bl=a,this.Zm=b,this.Tu()};function qh(a,b,c){var d=a.h(),c=c?d.e:d.M;c.call(d,b,"action",a.vt);c.call(d,b,"highlight",a.DE);c.call(d,b,"unhighlight",a.IE)}
p.DE=function(a){De(this.c(),"activedescendant",a.target.c().id)};p.IE=function(){Eg(this.Q)||De(this.c(),"activedescendant","")};gg("goog-menu-button",function(){return new ph(k)});

function rh(a){return"function"==typeof a.Db?a.Db():ka(a)||v(a)?a.length:Ec(a)}function sh(a){if("function"==typeof a.dd)return a.dd();if(v(a))return a.split("");if(ka(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Fc(a)}function th(a){if("function"==typeof a.Qe)return a.Qe();if("function"!=typeof a.dd){if(ka(a)||v(a)){for(var b=[],a=a.length,c=0;c<a;c++)b.push(c);return b}return Gc(a)}}
function uh(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ka(a)||v(a))A(a,b,c);else for(var d=th(a),f=sh(a),g=f.length,i=0;i<g;i++)b.call(c,f[i],d&&d[i],a)}function vh(a,b){if("function"==typeof a.every)return a.every(b,h);if(ka(a)||v(a))return sb(a,b,h);for(var c=th(a),d=sh(a),f=d.length,g=0;g<f;g++)if(!b.call(h,d[g],c&&c[g],a))return m;return j};

var wh="StopIteration"in r?r.StopIteration:Error("StopIteration");function xh(){}xh.prototype.next=function(){e(wh)};xh.prototype.Uj=function(){return this};function yh(a){if(a instanceof xh)return a;if("function"==typeof a.Uj)return a.Uj(m);if(ka(a)){var b=0,c=new xh;c.next=function(){for(;;){b>=a.length&&e(wh);if(b in a)return a[b++];b++}};return c}e(Error("Not implemented"))}
function zh(a,b,c){if(ka(a))try{A(a,b,c)}catch(d){d!==wh&&e(d)}else{a=yh(a);try{for(;;)b.call(c,a.next(),h,a)}catch(f){f!==wh&&e(f)}}}function Ah(a,b){var a=yh(a),c=new xh;c.next=function(){for(;;){var c=a.next();if(b.call(h,c,h,a))return c}};return c}function Bh(a){var b=arguments,c=b.length,d=0,f=new xh;f.next=function(){try{return d>=c&&e(wh),yh(b[d]).next()}catch(a){return(a!==wh||d>=c)&&e(a),d++,this.next()}};return f};

function Ch(a,b){this.Tc={};this.pc=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.fC(a)}p=Ch.prototype;p.Ba=0;p.mw=0;p.Db=n("Ba");p.dd=function(){Dh(this);for(var a=[],b=0;b<this.pc.length;b++)a.push(this.Tc[this.pc[b]]);return a};p.Qe=function(){Dh(this);return this.pc.concat()};p.Dd=function(a){return Eh(this.Tc,a)};
p.Kp=function(a){for(var b=0;b<this.pc.length;b++){var c=this.pc[b];if(Eh(this.Tc,c)&&this.Tc[c]==a)return j}return m};p.Kc=function(a,b){if(this===a)return j;if(this.Ba!=a.Db())return m;var c=b||Fh;Dh(this);for(var d,f=0;d=this.pc[f];f++)if(!c(this.get(d),a.get(d)))return m;return j};function Fh(a,b){return a===b}p.wb=function(){return 0==this.Ba};p.clear=function(){this.Tc={};this.mw=this.Ba=this.pc.length=0};
p.remove=function(a){return Eh(this.Tc,a)?(delete this.Tc[a],this.Ba--,this.mw++,this.pc.length>2*this.Ba&&Dh(this),j):m};function Dh(a){if(a.Ba!=a.pc.length){for(var b=0,c=0;b<a.pc.length;){var d=a.pc[b];Eh(a.Tc,d)&&(a.pc[c++]=d);b++}a.pc.length=c}if(a.Ba!=a.pc.length){for(var f={},c=b=0;b<a.pc.length;)d=a.pc[b],Eh(f,d)||(a.pc[c++]=d,f[d]=1),b++;a.pc.length=c}}p.get=function(a,b){return Eh(this.Tc,a)?this.Tc[a]:b};
p.set=function(a,b){Eh(this.Tc,a)||(this.Ba++,this.pc.push(a),this.mw++);this.Tc[a]=b};p.fC=function(a){var b;a instanceof Ch?(b=a.Qe(),a=a.dd()):(b=Gc(a),a=Fc(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};p.Hb=function(){return new Ch(this)};p.Uj=function(a){Dh(this);var b=0,c=this.pc,d=this.Tc,f=this.mw,g=this,i=new xh;i.next=function(){for(;;){f!=g.mw&&e(Error("The map has changed since the iterator was created"));b>=c.length&&e(wh);var i=c[b++];return a?i:d[i]}};return i};
function Eh(a,b){return Object.prototype.hasOwnProperty.call(a,b)};

var Gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Hh(a){a=a.match(Gh)[1]||k;!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1));return a?a.toLowerCase():""};

function Ih(a,b){var c;a instanceof Ih?(this.vr(b==k?a.hj:b),Jh(this,a.zg),Kh(this,a.qp),Lh(this,a.kf),Mh(this,a.Rf),Nh(this,a.uf),Oh(this,a.Wc.Hb()),Ph(this,a.In)):a&&(c=(""+a).match(Gh))?(this.vr(!!b),Jh(this,c[1]||"",j),Kh(this,c[2]||"",j),Lh(this,c[3]||"",j),Mh(this,c[4]),Nh(this,c[5]||"",j),Oh(this,c[6]||"",j),Ph(this,c[7]||"",j)):(this.vr(!!b),this.Wc=new Qh(k,this,this.hj))}p=Ih.prototype;p.zg="";p.qp="";p.kf="";p.Rf=k;p.uf="";p.In="";p.hY=m;p.hj=m;
p.toString=function(){if(this.Rg)return this.Rg;var a=[];this.zg&&a.push(Rh(this.zg,Sh),":");this.kf&&(a.push("//"),this.qp&&a.push(Rh(this.qp,Sh),"@"),a.push(v(this.kf)?encodeURIComponent(this.kf):k),this.Rf!=k&&a.push(":",""+this.Rf));this.uf&&(this.kf&&"/"!=this.uf.charAt(0)&&a.push("/"),a.push(Rh(this.uf,"/"==this.uf.charAt(0)?Th:Uh)));var b=""+this.Wc;b&&a.push("?",b);this.In&&a.push("#",Rh(this.In,Vh));return this.Rg=a.join("")};
p.resolve=function(a){var b=this.Hb(),c=!!a.zg;c?Jh(b,a.zg):c=!!a.qp;c?Kh(b,a.qp):c=!!a.kf;c?Lh(b,a.kf):c=a.Rf!=k;var d=a.uf;if(c)Mh(b,a.Rf);else if(c=!!a.uf){if("/"!=d.charAt(0))if(this.kf&&!this.uf)d="/"+d;else{var f=b.uf.lastIndexOf("/");-1!=f&&(d=b.uf.substr(0,f+1)+d)}if(".."==d||"."==d)d="";else if(Ta(d,"./")||Ta(d,"/.")){for(var f=xa(d,"/"),d=d.split("/"),g=[],i=0;i<d.length;){var l=d[i++];"."==l?f&&i==d.length&&g.push(""):".."==l?((1<g.length||1==g.length&&""!=g[0])&&g.pop(),f&&i==d.length&&
g.push("")):(g.push(l),f=j)}d=g.join("/")}}c?Nh(b,d):c=""!==a.Wc.toString();c?(f=a.Wc,f.Rp||(f.Rp=f.toString()?decodeURIComponent(f.toString()):""),Oh(b,f.Rp,h)):c=!!a.In;c&&Ph(b,a.In);return b};p.Hb=function(){var a=this.zg,b=this.qp,c=this.kf,d=this.Rf,f=this.uf,g=this.Wc.Hb(),i=this.In,l=new Ih(k,this.hj);a&&Jh(l,a);b&&Kh(l,b);c&&Lh(l,c);d&&Mh(l,d);f&&Nh(l,f);g&&Oh(l,g);i&&Ph(l,i);return l};
function Jh(a,b,c){Wh(a);delete a.Rg;a.zg=c?b?decodeURIComponent(b):"":b;a.zg&&(a.zg=a.zg.replace(/:$/,""))}function Kh(a,b,c){Wh(a);delete a.Rg;a.qp=c?b?decodeURIComponent(b):"":b}function Lh(a,b,c){Wh(a);delete a.Rg;a.kf=c?b?decodeURIComponent(b):"":b}function Mh(a,b){Wh(a);delete a.Rg;b?(b=Number(b),(isNaN(b)||0>b)&&e(Error("Bad port number "+b)),a.Rf=b):a.Rf=k}function Nh(a,b,c){Wh(a);delete a.Rg;a.uf=c?b?decodeURIComponent(b):"":b}
function Oh(a,b,c){Wh(a);delete a.Rg;b instanceof Qh?(a.Wc=b,a.Wc.me=a,a.Wc.vr(a.hj)):(c||(b=Rh(b,Xh)),a.Wc=new Qh(b,a,a.hj))}function Yh(a){return a.Wc}function Zh(a,b,c){Wh(a);delete a.Rg;a.Wc.set(b,c)}function $h(a,b,c){Wh(a);delete a.Rg;ja(c)||(c=[""+c]);a.Wc.NI(b,c)}function ai(a){return bi.Wc.get(a)}function Ph(a,b,c){Wh(a);delete a.Rg;a.In=c?b?decodeURIComponent(b):"":b}
function ci(a){Wh(a);Zh(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^x()).toString(36))}function Wh(a){a.hY&&e(Error("Tried to modify a read-only Uri"))}p.vr=function(a){this.hj=a;this.Wc&&this.Wc.vr(a);return this};function di(a){return a instanceof Ih?a.Hb():new Ih(a,h)}var ei=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function Rh(a,b){var c=k;v(a)&&(c=a,ei.test(c)||(c=encodeURI(a)),0<=c.search(b)&&(c=c.replace(b,fi)));return c}
function fi(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Sh=/[#\/\?@]/g,Uh=/[\#\?:]/g,Th=/[\#\?]/g,Xh=/[\#\?@]/g,Vh=/#/g;function Qh(a,b,c){this.jk=a||k;this.me=b||k;this.hj=!!c}
function gi(a){if(!a.Rb&&(a.Rb=new Ch,a.Ba=0,a.jk))for(var b=a.jk.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=k,g=k;0<=d?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=hi(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}p=Qh.prototype;p.Rb=k;p.Ba=k;p.Db=function(){gi(this);return this.Ba};
p.add=function(a,b){gi(this);ii(this);a=hi(this,a);if(this.Dd(a)){var c=this.Rb.get(a);ja(c)?c.push(b):this.Rb.set(a,[c,b])}else this.Rb.set(a,b);this.Ba++;return this};p.remove=function(a){gi(this);a=hi(this,a);if(this.Rb.Dd(a)){ii(this);var b=this.Rb.get(a);ja(b)?this.Ba-=b.length:this.Ba--;return this.Rb.remove(a)}return m};p.clear=function(){ii(this);this.Rb&&this.Rb.clear();this.Ba=0};p.wb=function(){gi(this);return 0==this.Ba};p.Dd=function(a){gi(this);a=hi(this,a);return this.Rb.Dd(a)};
p.Kp=function(a){var b=this.dd();return xb(b,a)};p.Qe=function(){gi(this);for(var a=this.Rb.dd(),b=this.Rb.Qe(),c=[],d=0;d<b.length;d++){var f=a[d];if(ja(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};p.dd=function(a){gi(this);if(a)if(a=hi(this,a),this.Dd(a)){var b=this.Rb.get(a);if(ja(b))return b;a=[];a.push(b)}else a=[];else for(var b=this.Rb.dd(),a=[],c=0;c<b.length;c++){var d=b[c];ja(d)?Ib(a,d):a.push(d)}return a};
p.set=function(a,b){gi(this);ii(this);a=hi(this,a);if(this.Dd(a)){var c=this.Rb.get(a);ja(c)?this.Ba-=c.length:this.Ba--}this.Rb.set(a,b);this.Ba++;return this};p.get=function(a,b){gi(this);a=hi(this,a);if(this.Dd(a)){var c=this.Rb.get(a);return ja(c)?c[0]:c}return b};p.NI=function(a,b){gi(this);ii(this);a=hi(this,a);if(this.Dd(a)){var c=this.Rb.get(a);ja(c)?this.Ba-=c.length:this.Ba--}0<b.length&&(this.Rb.set(a,b),this.Ba+=b.length)};
p.toString=function(){if(this.jk)return this.jk;if(!this.Rb)return"";for(var a=[],b=0,c=this.Rb.Qe(),d=0;d<c.length;d++){var f=c[d],g=Ka(f),f=this.Rb.get(f);if(ja(f))for(var i=0;i<f.length;i++)0<b&&a.push("&"),a.push(g),""!==f[i]&&a.push("=",Ka(f[i])),b++;else 0<b&&a.push("&"),a.push(g),""!==f&&a.push("=",Ka(f)),b++}return this.jk=a.join("")};function ii(a){delete a.Rp;delete a.jk;a.me&&delete a.me.Rg}
p.Hb=function(){var a=new Qh;this.Rp&&(a.Rp=this.Rp);this.jk&&(a.jk=this.jk);this.Rb&&(a.Rb=this.Rb.Hb());return a};function hi(a,b){var c=""+b;a.hj&&(c=c.toLowerCase());return c}p.vr=function(a){a&&!this.hj&&(gi(this),ii(this),uh(this.Rb,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.hj=a};p.extend=function(a){for(var b=0;b<arguments.length;b++)uh(arguments[b],function(a,b){this.add(b,a)},this)};

function ji(a,b){b||(b={});var c=window,d="undefined"!=typeof a.href?a.href:""+a,f=b.target||a.target,g=[],i;for(i in b)switch(i){case "width":case "height":case "top":case "left":g.push(i+"="+b[i]);break;case "target":case "noreferrer":break;default:g.push(i+"="+(b[i]?1:0))}g=g.join(",");if(b.noreferrer){if(c=c.open("",f,g))G&&-1!=d.indexOf(";")&&(d="'"+d.replace(/'/g,"%27")+"'"),c.opener=k,hc?c.location.href=d:(d=Ma(d),c.document.write('<META HTTP-EQUIV="refresh" content="0; url='+d+'">'),c.document.close())}else c=
c.open(d,f,g);return c};

var bi=new Ih(window.location.href,j);if(t(r.app)&&r.app.clientArgs){var ki=r.app.clientArgs.split("&"),li;for(li in ki){var mi=ki[li].split("=");Zh(bi,mi[0],mi[1])}}var ni=ai("requestId");if(ni)for(li in ni=ni.split("&"),ni)mi=ni[li].split("="),Zh(bi,mi[0],mi[1]);function oi(a){return a.toLowerCase().replace(/\xa0|[ \t]+/g,"")}function pi(a){return a?oi(a).replace(/@(aol|aim)\.com$/,""):""}
var qi=-1<window.location.href.search(/\/\.client/i)||-1<window.location.href.search(/\/popup/i),ri=!(!window.opener&&!ai("popup"));function Q(a){for(var b=window,a=(a||"app").split("."),c=0;t(b)&&c<a.length;c++)b=b[a[c]];return t(b)}var si=qi&&!("app"in window);
function ti(a,b){var c=b||[];if(window.localStorage&&!Q()){var d=window.localStorage.getItem(a+"_pos_w")||0,f=window.localStorage.getItem(a+"_pos_h")||0;180<d&&200<f&&(c.left=window.localStorage.getItem(a+"_pos_x"),c.top=window.localStorage.getItem(a+"_pos_y"),c.width=d,c.height=f)}}
function ui(a,b){try{if(window.localStorage&&!Q()&&(b&&b!=window?b.opener:ri)){var c=window.localStorage.getItem(a+"_pos_w")||0,d=window.localStorage.getItem(a+"_pos_h")||0;if(180<c&&200<d){c=window.localStorage.getItem(a+"_pos_x");d=window.localStorage.getItem(a+"_pos_y");if(G&&!I(9))var f=c-(b.screenLeft||0),g=d-(b.screenTop||0);else f=c-b.screenX,g=d-b.screenY;window.console&&window.console.log("Adjusting the window X: "+f+"  Y: "+g);(f||g)&&b.window.moveBy(f,g)}}}catch(i){}}
function vi(a,b){try{if(window.localStorage&&!Q()&&(b&&b!=window?b.opener:ri)){var c=window.localStorage.getItem(a+"_pos_w")||0,d=window.localStorage.getItem(a+"_pos_h")||0;if(180<c&&200<d){if(G&&!I(9))var f=c-b.document.body.offsetWidth,g=d-b.document.body.offsetHeight;else f=c-b.innerWidth,g=d-b.innerHeight;window.console&&window.console.log("Adjusting the window width: "+f+"  height: "+g);(f||g)&&b.window.resizeBy(f,g)}}}catch(i){}}
function wi(a,b,c,d){try{var f=!c||0<c?0:c,g=!d||0<d?0:d;if(window.localStorage&&!Q()&&(b&&b!=window?b.opener:ri))G&&!I(9)?(window.localStorage.setItem(a+"_pos_x",b.screenLeft),window.localStorage.setItem(a+"_pos_y",b.screenTop),window.localStorage.setItem(a+"_pos_w",b.document.body.offsetWidth+f),window.localStorage.setItem(a+"_pos_h",b.document.body.offsetHeight+g)):(window.localStorage.setItem(a+"_pos_x",b.screenX),window.localStorage.setItem(a+"_pos_y",b.screenY),window.localStorage.setItem(a+
"_pos_w",b.innerWidth+f),window.localStorage.setItem(a+"_pos_h",b.innerHeight+g)),c?window.localStorage.setItem(a+"_pos_wDelta",Math.abs(c)):window.localStorage.removeItem(a+"_pos_wDelta"),d?window.localStorage.setItem(a+"_pos_hDelta",Math.abs(d)):window.localStorage.removeItem(a+"_pos_hDelta")}catch(i){}}function xi(a,b,c,d,f){var g;a&&si&&(g=new Qc((f||a).ownerDocument),g=new ph(d||"",yi(b,c,h,g,f),h,g),g.qa(a),zi(Ai(window.App),g));return g}
function Bi(a){var a=a||window,b="";gc?b="Opera":G?b="ie":H?b="Gecko":hc&&(b="WebKit");if(b){var c=(b+mc).replace(/\..*/,"");C(a.document.body,b,c);si&&C(a.document.body,"browser");ic&&C(a.document.body,"Mobile")}}function Ci(a){a&&(Q("app.system.openExternal")?window.app.system.openExternal(a):ji(a,{target:"_blank"}))}function Di(a){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}
"indexOf"in[]||(Array.prototype.indexOf=function(a){for(var b=this.length;b--;)if(this[b]==a)return b;return-1});"trim"in new String("")||(String.prototype.trim=function(){if(this.length)return this.replace(/^\s*/,"").replace(/\s*$/,"")});var Ei,Fi="";Q("app.info.version")&&"string"==typeof window.app.info.version&&(Fi=window.app.info.version);Ei=Fi.match(/^0\.0\./)||Fi.match(/^0\.9\.9\.9/)||Fi.match(/^1\.10\./);var Gi="Win32"==navigator.platform;


function Hi(a){this.Tc=new Ch;a&&this.fC(a)}function Ii(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+pa(a):b.substr(0,1)+a}p=Hi.prototype;p.Db=function(){return this.Tc.Db()};p.add=function(a){this.Tc.set(Ii(a),a)};p.fC=function(a){for(var a=sh(a),b=a.length,c=0;c<b;c++)this.add(a[c])};p.Rd=function(a){for(var a=sh(a),b=a.length,c=0;c<b;c++)this.remove(a[c])};p.remove=function(a){return this.Tc.remove(Ii(a))};p.clear=function(){this.Tc.clear()};p.wb=function(){return this.Tc.wb()};
p.contains=function(a){return this.Tc.Dd(Ii(a))};p.NN=function(a){for(var b=new Hi,a=sh(a),c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};p.dd=function(){return this.Tc.dd()};p.Hb=function(){return new Hi(this)};p.Kc=function(a){return this.Db()==rh(a)&&Ji(this,a)};
function Ji(a,b){var c=rh(b);if(a.Db()>c)return m;!(b instanceof Hi)&&5<c&&(b=new Hi(b));return vh(a,function(a){if("function"==typeof b.contains)a=b.contains(a);else if("function"==typeof b.Kp)a=b.Kp(a);else if(ka(b)||v(b))a=xb(b,a);else a:{for(var c in b)if(b[c]==a){a=j;break a}a=m}return a})}p.Uj=function(){return this.Tc.Uj(m)};

function Ki(a){if("undefined"==typeof a)return"undefined";if(a==k)return"NULL";var b=[],c;for(c in a)if(!na(a[c])){var d=c+" = ";try{d+=a[c]}catch(f){d+="*** "+f+" ***"}b.push(d)}return b.join("\n")}
function Li(a,b){try{var c;var d=ea("window.location.href");if(v(a))c={message:a,name:"Unknown error",lineNumber:"Not available",fileName:d,stack:"Not available"};else{var f,g,i=m;try{f=a.lineNumber||a.o$||"Not available"}catch(l){f="Not available",i=j}try{g=a.fileName||a.filename||a.sourceURL||d}catch(q){g="Not available",i=j}c=i||!a.lineNumber||!a.fileName||!a.stack?{message:a.message,name:a.name,lineNumber:f,fileName:g,stack:a.stack||"Not available"}:a}return"Message: "+Ma(c.message)+'\nUrl: <a href="view-source:'+
c.fileName+'" target="_new">'+c.fileName+"</a>\nLine: "+c.lineNumber+"\n\nBrowser stack:\n"+Ma(c.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ma(Mi(b)+"-> ")}catch(s){return"Exception trying to expose exception! You win, we lose. "+s}}function Mi(a){return Ni(a||arguments.callee.caller,[])}
function Ni(a,b){var c=[];if(xb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Oi(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=""+g;break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Oi(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Ni(a.caller,b))}catch(i){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Oi(a){if(Pi[a])return Pi[a];a=""+a;if(!Pi[a]){var b=/function ([^\(]+)/.exec(a);Pi[a]=b?b[1]:"[Anonymous]"}return Pi[a]}var Pi={};

function Qi(a,b,c,d,f){this.reset(a,b,c,d,f)}Qi.prototype.KD=k;Qi.prototype.JD=k;var Ri=0;Qi.prototype.reset=function(a,b,c,d,f){"number"==typeof f||Ri++;this.IS=d||x();this.yo=a;this.aZ=b;this.EO=c;delete this.KD;delete this.JD};Qi.prototype.QR=ca("yo");Qi.prototype.pq=n("aZ");


function Si(a){this.Ub=a}Si.prototype.bb=k;Si.prototype.yo=k;Si.prototype.bd=k;Si.prototype.xt=k;function Ti(a,b){this.name=a;this.value=b}Ti.prototype.toString=n("name");var Ui=new Ti("SHOUT",1200),Vi=new Ti("SEVERE",1E3),Wi=new Ti("WARNING",900),Xi=new Ti("INFO",800),Yi=new Ti("CONFIG",700),Zi=new Ti("FINE",500),$i=new Ti("FINER",400);p=Si.prototype;p.getName=n("Ub");p.getParent=n("bb");p.QR=ca("yo");
function aj(a){if(a.yo)return a.yo;if(a.bb)return aj(a.bb);jb("Root logger has no level set.");return k}p.log=function(a,b,c){if(a.value>=aj(this).value){a=this.zW(a,b,c);b="log:"+a.pq();r.console&&(r.console.timeStamp?r.console.timeStamp(b):r.console.markTimeline&&r.console.markTimeline(b));r.msWriteProfilerMark&&r.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.xt)for(var f=0,g=h;g=c.xt[f];f++)g(d);b=b.getParent()}}};
p.zW=function(a,b,c){var d=new Qi(a,""+b,this.Ub);if(c){d.KD=c;var f=Li(c,arguments.callee.caller);d.JD=f}return d};function bj(a,b,c){a.log(Vi,b,c)}function cj(a,b){a.log(Wi,b,h)}p.info=function(a,b){this.log(Xi,a,b)};function dj(a,b){a.log(Zi,b,h)}p.wv=ca("bb");var ej={},fj=k;function gj(){fj||(fj=new Si(""),ej[""]=fj,fj.QR(Yi))}function hj(a){gj();var b;if(!(b=ej[a])){b=new Si(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=hj(a.substr(0,c));c.bd||(c.bd={});c.bd[d]=b;b.wv(c);ej[a]=b}return b};

function ij(){this.jR=x()}var jj=new ij;ij.prototype.set=ca("jR");ij.prototype.reset=function(){this.set(x())};ij.prototype.get=n("jR");

function kj(a){this.s4=a||"";this.L5=jj}p=kj.prototype;p.bS=j;p.x5=j;p.v5=j;p.fS=m;p.y5=m;function lj(a){return 10>a?"0"+a:""+a}function mj(a,b){var c=(a.IS-b)/1E3,d=c.toFixed(3),f=0;if(1>c)f=2;else for(;100>c;)f++,c*=10;for(;0<f--;)d=" "+d;return d}function nj(a){kj.call(this,a)}z(nj,kj);

function oj(){this.w4=w(this.TT,this);this.XD=new nj;this.XD.bS=m;this.UN=this.XD.fS=m;this.DO="";this.RV={}}
oj.prototype.TT=function(a){if(!this.RV[a.EO]){var b;b=this.XD;var c=[];c.push(b.s4," ");if(b.bS){var d=new Date(a.IS);c.push("[",lj(d.getFullYear()-2E3)+lj(d.getMonth()+1)+lj(d.getDate())+" "+lj(d.getHours())+":"+lj(d.getMinutes())+":"+lj(d.getSeconds())+"."+lj(Math.floor(d.getMilliseconds()/10)),"] ")}b.x5&&c.push("[",mj(a,b.L5.get()),"s] ");b.v5&&c.push("[",a.EO,"] ");b.y5&&c.push("[",a.yo.name,"] ");c.push(a.pq(),"\n");b.fS&&a.KD&&c.push(a.JD,"\n");b=c.join("");if(pj&&pj.firebug)switch(a.yo){case Ui:pj.info(b);
break;case Vi:pj.error(b);break;case Wi:pj.warn(b);break;default:pj.debug(b)}else pj?pj.log(b):window.opera?window.opera.postError(b):this.DO+=b}};var qj=k,pj=window.console;

qj||(qj=new oj);if(-1!=window.location.href.indexOf("logging=true")){var rj=qj;if(j!=rj.UN){gj();var sj=fj,tj=rj.w4;sj.xt||(sj.xt=[]);sj.xt.push(tj);rj.UN=j}}var uj=!u(window.console)||!window.console.log||"true"!=ai("logging"),vj;if(uj)vj=m;else{var wj=ai("debug");if(t(wj)){var xj={},yj=wj.split(","),zj;for(zj in yj)xj[yj[zj].toUpperCase()]=j;vj=xj}else vj=m}
var Aj=vj,R=uj?fa:function(a){if(Aj){if(t(arguments)&&arguments[0]in Aj){var b=[].splice.call(arguments,0);b.splice(0,1);window.console.log(b)}}else for(b=0;b<arguments.length;b++)window.console.log(arguments[b])};

function Bj(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();"undefined"==typeof d&&e(Error("[goog.string.format] Template required"));return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,q,s,B,E){if("%"==s)return"%";var Z=c.shift();"undefined"==typeof Z&&e(Error("[goog.string.format] Not enough arguments"));arguments[0]=Z;return Cj[s].apply(k,arguments)})}
var Cj={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+$a(" ",c-a.length):$a(" ",c-a.length)+a},f:function(a,b,c,d,f){d=a.toString();isNaN(f)||""==f||(d=a.toFixed(f));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(f)?Math.abs(a).toString():Math.abs(a).toFixed(f);a=c-d.length-g.length;return d=0<=b.indexOf("-",0)?g+d+$a(" ",a):g+$a(0<=b.indexOf("0",0)?"0":" ",a)+d}};
Cj.d=function(a,b,c,d,f,g,i,l){return Cj.f(parseInt(a,10),b,c,d,0,g,i,l)};Cj.i=Cj.d;Cj.u=Cj.d;

var S=uj?fa:R,Dj=uj||!window.console.trace?fa:function(){window.console.trace(k)},Ej=window.JSON&&window.JSON.stringify?window.JSON.stringify:o("Object"),Fj=Q("app.log")?function(a){window.app.log(a)}:R;function Gj(a){for(var b="",c=0;c<arguments.length;c++){var d=arguments[c];if(t(d))try{b+=oa(d)&&!(d instanceof Ih)?Ej(d):d.toString()}catch(f){b="Serialize exception - probably a circular reference."}else b+="undefined"}Fj(b)}var Hj=!uj,U=Hj?Gj:fa;
function Ij(a){var b={};b.jsonArray=a;r._aim=r._aim||{};Nc(r._aim,b)}function Jj(){return t("prod")?m:m}function Kj(){this.ea=[];Lj(this,"Start")}ga(Kj);function Lj(a,b){a.ea.push({at:x(),nodes:document.getElementsByTagName("*").length,events:Ec(ge),tag:b||""})}Kj.prototype.clear=function(){this.ea=[];Lj(this,"Clear")};
Kj.prototype.wD=function(){for(var a=this.ea,b=0;b<a.length;b++){var c=a[b-1],d=a[b],c=0==b?Bj("%-37.37s nodes:%-15.15s events:%-15.15s",d.tag,d.nodes.toString(),d.events.toString()):Bj("%-25.25s msec:%-6.6s nodes:%-15.15s events:%-15.15s",d.tag,(d.at-c.at).toString(),d.nodes+"("+(d.nodes-c.nodes).toString()+")",d.events+"("+(d.events-c.events).toString()+")");S(c)}};uj||(va("_aim_metrics_dump_",function(){Kj.j().wD()}),va("_aim_metrics_clear_",function(){Kj.j().clear()}));
var Mj=uj?fa:function(a){Lj(Kj.j(),a)};


var Nj={G7:["BC","AD"],E7:["Before Christ","Anno Domini"],A8:"J,F,M,A,M,J,J,A,S,O,N,D".split(","),s9:"J,F,M,A,M,J,J,A,S,O,N,D".split(","),r8:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),r9:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),m9:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),u9:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),R9:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
w9:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),o9:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),v9:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),B8:"S,M,T,W,T,F,S".split(","),t9:"S,M,T,W,T,F,S".split(","),n9:["Q1","Q2","Q3","Q4"],Z8:["1st quarter","2nd quarter","3rd quarter","4th quarter"],R6:["AM","PM"],q7:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],B9:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],AT:6,S9:[5,6],BT:5};

function Oj(a,b,c){ma(a)?(this.pd=new Date(a,b||0,c||1),Pj(this,c||1)):oa(a)?(this.pd=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Pj(this,a.getDate())):(this.pd=new Date,this.pd.setHours(0),this.pd.setMinutes(0),this.pd.setSeconds(0),this.pd.setMilliseconds(0))}p=Oj.prototype;p.AM=Nj.AT;p.BM=Nj.BT;p.Hb=function(){var a=new Oj(this.pd);a.AM=this.AM;a.BM=this.BM;return a};p.getFullYear=function(){return this.pd.getFullYear()};p.getYear=function(){return this.getFullYear()};p.getMonth=function(){return this.pd.getMonth()};
p.getDate=function(){return this.pd.getDate()};p.getTime=function(){return this.pd.getTime()};p.getUTCHours=function(){return this.pd.getUTCHours()};p.set=function(a){this.pd=new Date(a.getFullYear(),a.getMonth(),a.getDate())};p.setFullYear=function(a){this.pd.setFullYear(a)};p.setMonth=function(a){this.pd.setMonth(a)};p.setDate=function(a){this.pd.setDate(a)};p.setTime=function(a){this.pd.setTime(a)};
p.add=function(a){if(a.K6||a.ZY){var b=this.getMonth()+a.ZY+12*a.K6,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.YU&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.YU),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Pj(this,a.getDate()))};p.Kc=function(a){return this.getYear()==a.getYear()&&this.getMonth()==a.getMonth()&&this.getDate()==a.getDate()};p.toString=function(){return[this.getFullYear(),ab(this.getMonth()+1),ab(this.getDate())].join("")+""};function Pj(a,b){a.getDate()!=b&&a.pd.setUTCHours(a.pd.getUTCHours()+(a.getDate()<b?1:-1))}p.valueOf=function(){return this.pd.valueOf()};

var Qj="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),Rj=/^[A-Z][a-z]{2} \d{1,2}, \d{4} \d{1,2}:\d{2} [AM|PM]?/;
function Sj(a,b){var c=((Tj||new Date)-a)/1E3;if(b)c=isNaN(c)||60>c?"just now":isNaN(c)||120>c?"1 min ago":3600>c?Math.floor(c/60)+" mins ago":Uj(a,j);else if(isNaN(c)||60>c)c="just now";else if(isNaN(c)||120>c)c="1m";else if(3600>c)c=Math.floor(c/60)+"m";else if(7200>c)c="1h";else if(86400>c)c=Math.floor(c/3600)+"h";else if(172800>c)c="1d";else if(604800>c)c=Math.floor(c/86400)+"d";else if(1209600>c)c="1w";else var c=a.getMonth(),d=a.getDate(),d=""+d,c=Array(Math.max(0,1-d.length+1)).join("0")+d+
" "+Qj[c];return c}function Vj(a){function b(a,b){a=""+a;return Array(Math.max(0,b-a.length+1)).join("0")+a}var c=a.getHours(),a=a.getMinutes();return function(a){return Array.prototype.join.call(arguments,"")}(b(c%12||12,1),":",b(a,2)," ",["AM","PM"][12<=c&&24>c?1:0])}
function Wj(a){function b(a,b){a=""+a;return Array(Math.max(0,b-a.length+1)).join("0")+a}var c=a.getMonth(),d=a.getDate(),a=a.getFullYear();0>=a&&(a=-a+1);return function(a){return Array.prototype.join.call(arguments,"")}(Qj[c]," ",b(d,1),", ",b(a,4))}function Uj(a,b){var c=k;if(b){var d=new Date;d.getDate()==a.getDate()&&d.getMonth()==a.getMonth()&&d.getFullYear()==a.getFullYear()&&(c=Vj(a))}c||(c=Wj(a)+" "+Vj(a));return c};




function Xj(a,b){this.Ub=b||"";this.Ei=a||""}var Yj=/[()<>@,;:\\\".\[\]]/,Zj=/\"/g,$j=/\\\"/g,ak=/\\/g,bk=/\\\\/g;p=Xj.prototype;p.getName=n("Ub");p.mq=n("Ei");p.gp=ca("Ub");p.toString=function(){var a=this.getName(),a=a.replace(Zj,"");Yj.test(a)&&(a='"'+a.replace(ak,"\\\\")+'"');return""==a?this.Ei:""==this.Ei?a:a+" <"+this.Ei+">"};p.uF=function(){return/^[+a-zA-Z0-9_.-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,6}$/.test(this.Ei)};
function ck(a){for(var b="",c="",d=0;d<a.length;){var f;f=a.charAt(d);var g='"<(['.indexOf(f);if(!(-1==g||dk(a,d))){for(var g='">)]'.charAt(g),i=a.indexOf(g,d+1);0<=i&&dk(a,i);)i=a.indexOf(g,i+1);f=0<=i?a.substring(d,i+1):f}"<"==f.charAt(0)&&-1!=f.indexOf(">")?c=f.substring(1,f.indexOf(">")):""==c&&(b+=f);d+=f.length}""==c&&-1!=b.indexOf("@")&&(c=b,b="");b=Aa(b);b=Ya(b,"'");b=Ya(b,'"');b=b.replace($j,'"');b=b.replace(bk,"\\");c=Aa(c);return(new Xj(c,b)).uF()}
function dk(a,b){if('"'!=a.charAt(b))return m;for(var c=0,d=b-1;0<=d&&"\\"==a.charAt(d);d--)c++;return 0!=c%2};

function ek(a){a=(a||"").replace(/<br\s*\/?>/g,"\r");a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;");return a.replace(/\r/g,"<br />")}function P(a){return a?"http://s.aimcdn.net/aimcom/static/2.38.0.6/"+a:"http://s.aimcdn.net/aimcom/static/2.38.0.6/"}function fk(){var a=P("common/flash/");window&&window.location&&window.location.protocol&&(a=a.replace(/^[^:]*:/,window.location.protocol));return a}
function gk(a,b,c){c=(c||J()).l("div");c.innerHTML=a(b);return 1==c.childNodes.length?(c.lastElementChild!=h?c.lastElementChild:td(c.lastChild,m))||c:c}
var hk=RegExp('\\b(((([a-z][\\w-]+:(///?))|www\\d{0,3}[.]|((?![.][.])([a-z0-9.\\-]+[.][a-z]{2,4}/)))(?:(?:[^\\s.&()<>"]+|(?:&(?:(?=amp;)|(?![^&=;\\s]*;)))|(?:\\.(?!\\.)))+[^\\s`!&()\\[\\]{};:\'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]|\\((?:[^\\s()<>"]+|\\([^\\s()<>"]+\\))+\\))+)|(((?![.][.])[@\\w.-])*[.](com|org|edu|gov|net|mil|info|biz|uk|jp|ca|in|de|fr|au|ru|ch|it|nl|se|no|es|aol|ly|co|tv|im|me)/?\\b))',"ig");function ik(a){var b=J(),a=hd(b.Xb,a),b=b.IW(a);return b=ek(b)}
function jk(a,b,c){return'<a class="aol-soy-autolink" '+(c?"":'target="_blank"')+' href="'+a+'">'+b.replace(/ /g,"")+"</a>"}
function kk(a){a=ik(a||"");Ta(a,"@")&&(a=a.replace(/[^\s@]+@[^\s@\.]+\.[^\s@\.]+/ig,function(a){return ck(a)?jk("mailto:"+a,a,j):a}));var b=a.match(hk);S(b);return a=a.replace(hk,function(a){if(Ta(a,"@")&&ck(a)||Ta(a,"mailto:")&&!ck(a)||Ta(a,"@")&&ck(a))return a;var b=window.location.protocol+"//",b=-1==a.indexOf(":")?b+a:a,f;if(a)if(f=a.split(/:\/\//),1==f.length)f=lk(a);else{for(var a=f[0],g=1;g<f.length;g++)a+="://"+lk(f[g]);f=a}else f="";return jk(b,f)})}
function lk(a){return!a?"":a.replace(RegExp("([\\\\/_+.<>-?\u00ab\u00bb\u201c\u201d\u2018\u2019`!()[\\]{};:=])","g"),"$1<wbr></wbr>")}var mk=/([\ud83c-\ud83d][\ud000-\udfff]|[\u2600-\u276f]|[\u2b55]|[\u3297-\u3299]|[\u0023\u0030-\u0039][\u20e3])/g;function nk(a,b){var c=b.charCodeAt(0).toString(16).toUpperCase(),d=b.charCodeAt(1),d=d?d.toString(16).toUpperCase():k;return'<img src="'+P("common/images/emoji/"+(d?c+"-"+d:c)+".png")+'" align="absmiddle" />'};

var ok={1:"xx-small",2:"small",3:"medium",4:"large",5:"x-large",6:"xx-large",7:"375%"},pk={"0.80em":"xx-small","0.90em":"small","1.00em":"medium","1.40em":"large","1.80em":"x-large","2.20em":"xx-large","2.60em":"375%"};function qk(){for(var a=Array.prototype.slice.call(arguments),b=0;b<a.length;b++){var c=a[b];v(c)&&(a[b]=c.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t"))}U.apply(window,a)}var rk={br:j,hr:j,img:j};
function sk(a){a.Lr&&(a.Ic&&(a.Ic+=a.Lr),a.Lr="");this.LX=a.Ic||"";this.H4=a.Wo||""}function tk(a){return encodeURIComponent(a).replace(uk,"U").length}function vk(a,b,c){this.iu=a||0;this.WF=this.iu/2;this.Iw=m;this.prefix=b||"";this.Lr=c||"";this.jo={};this.Iu=[];this.Ni=[]}p=vk.prototype;p.Ic="";p.Mp=0;p.Wo="";p.Zz=m;p.ll=function(){return!this.Zz};
function wk(a,b,c,d){!a.Ic&&b&&(a.Ic=a.prefix,a.Mp=tk(a.Ic));if(a.iu)if(a.Zz)a.Wo+=b;else{var f=tk(b),g="",i=a.Ni.length;for(i&&d&&0>b.search(/^\//)&&--i;i--;){try{var l=c[a.Ni[i]]}catch(q){}v(l)||(l="<"+a.Ni[i]+">");g+=l}g+=a.Lr;c=tk(g);i=0;d&&(i=20+tk(a.Ni[a.Ni.length-1]));a:{for(l=0;l<b.length;l++)if(127<b.charCodeAt(l))break a;l=-1}!a.Iw&&-1!=l&&(a.Ic.length+(l+1)+g.length+i<=a.WF?a.Iw=j:a.iu=a.Mp+l+c+i);l=a.Iw?a.Ic.length+b.length+g.length+i:0;if(a.Mp+f+c+i<=a.iu&&l<=a.WF)a.Mp+=f,a.Ic+=b;else if(d)a.Zz=
j,a.Ic+=g,a.Lr="",a.Wo=a.Iu.join("");else{a.Zz=j;c=a.iu-(a.Mp+c);c+20>f&&(c=f-20);d=a.Iw?a.WF-(a.Ic.length+g.length):c;if(!(0<(a.jo.a||0))&&40<=f&&20<=c){for(var s=c,f=encodeURIComponent(b).replace(/%20/g," "),i=0,l=s,B=f.replace(xk," ").replace(uk,"U"),B=B.substr(0,s),s=B.match(xk),s=l+=2*(s?s.length:0);!i&&20<l;l--)switch(B=f.charAt(l),"%"==B&&(l+2>=s&&(s=l),B=f.substr(l,3).toLowerCase()),B){case "%09":case "%0a":case "%0d":case " ":case "%26":i=l;break;default:l==s&&("%80"<=B&&"%bf">=B?s=l-3:"%c0"<=
B&&"%ff">=B&&(s=l))}if(!i||20>i)i=s;f=i?decodeURIComponent(f.substr(0,i)):"";if(d<c){c=b;i=d;l=c.charCodeAt(i);56320<=l&&57343>=l&&(i=--d);for(l=d;i==d&&20<l;l--)-1<c.charAt(l).search(/\s|&/)&&(i=l);d=c.substr(0,i);d.length<f.length&&(f=d)}f&&(b=b.substr(f.length),a.Ic+=f)}a.Ic+=g;a.Lr="";a.Wo=a.Iu.join("");a.Wo+=b}}else a.Ic+=b}function yk(a,b,c,d){this.filter=b;this.Og=(d||(b&4?zk:b&16?Ak:Bk))[a]||k;this.Ov=[];this.jn=[];this.Gw="";this.j6=c}yk.prototype.ll=n("j6");
function Ck(a,b){var c=b.split(":");if(c&&2==c.length){var d=c[0].trim();a.Ov[d]||(a.Ov[d]=c[1])}}function Dk(a,b,c){for(var d=b+"=",f=m,g=a.jn.length;g--;)if(0==a.jn[g].search(d)){f=j;break}d+='"'+c.replace(/"/g,"&#34;")+'"';f?(qk("markup- addAttribute matched: ",b),a.jn[g]=d):(qk("markup- addAttribute not matched: ",b),a.jn.push(d))}yk.prototype.MM=function(a){return this.jn[a]||""};
var uk=/%[A-Fa-f\d]{2}/g,Ek=/([^<]*)(?:<([^<>]*)>)?/g,Fk=/(?:<!DOCTYPE(?:.|\n|\r)*?>)|(?:<head(?:.|\n|\r)*?<\/head>)|(?:(<\/html>)(?:[\s\S]*))/ig,Gk=/(<style(?:.|\n|\r)*?<\/style>)|(<title(?:.|\n|\r)*?<\/title>)|(<script(?:.|\n|\r)*?<\/script>)/ig,Hk=/([^<]*)(?:<[^<>\S]*(\/?[^<\/>\s]*)\s*([^<>]*)>)?/g,Ik=/<[^>]*>/g,Jk=/^((?:aim:)|(?:data:)|(?:ftp:)|(?:http:)|(?:https:)|(?:mailto:)|(?:shttp:)|(?:telnet:)|(?:tftp:))/i,Kk=/(O:\)|:\)|;\)|:\(|:P|=O|:\*|&GT;:O|:D|:\$|:!|:\[|:-[\/\\]|:[\/\\](?![\/\\])|:'\(|:X|8\)|&LT;3|@\(\^_\^\)@|@}-&GT;--|\*&LT;:\)|:{\)|&LT;--|--&GT;|\bZZZ\b|l,lO|\[8\]|\[\?\]|\]:&GT;)/gi,
Lk=/(?:&nbsp;)|(?:&#160;)/ig,Mk=/"([^\s,"]+)"/g,Nk=/(&(?:[a-zA-Z]+|#[0-9]+|#x[0-9a-fA-F]+)(?:;))|(;)/g,Ok=/.*rgb\w*\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)(?:,\s*(\d*))?.*/g,Pk=/(?:(?:(\s*font[^:]*:[^;,]*)[^;]*(;|$))|(\s*color\s*:[^;]*(?:;|$))|(\s*background-color\s*:[^;]*(?:;|$)))|([^;]*;|$)/ig,Qk=/(?:\r\n)|\r|\n/g,Rk=/((?:<.*?>)*)([^<]*)/g,Sk=/((?:(?:<a.*?<\/a>)|(?:<.*?>))*)([^<]*)/g,xk=/U/g,Tk={"sans-serif":/(?:^(?:"|')?helvetica)|(?:^(?:"|')?arial)/i,serif:/(?:^(?:"|')?times)/i},Uk={":-)":"1",":)":"1",
";-)":"2",";)":"2",":-(":"3",":(":"3",":-P":"4",":P":"4","=-O":"5","=O":"5",":-*":"6",":*":"6","&GT;:O":"7",":-D":"8",":D":"8",":-$":"9",":$":"9",":-!":"10",":!":"10",":-[":"11",":[":"11","O:-)":"12","O:)":"12",":-\\":"13",":-/":"13",":\\":"13",":/":"13",":'-(":"14",":'(":"14",":-X":"15",":X":"15","8-)":"16","8)":"16","&LT;3":"17","@(^_^)@":"18","@}-&GT;--":"19","*&LT;:-)":"20","*&LT;:)":"20",":-{)":"21",":{)":"21","--&GT;":"22","&LT;--":"23",ZZZ:"25","l,lO":"26","[8]":"27","[?]":"28","]:-&GT;":"29",
"]:&GT;":"29"},Vk=/<\/div>\s*<div[^>]*>/ig,Wk=/&(?!(?:#[0-9]{2,4};)|(?:#x[0-9a-fA-F]{2,4};)|(?:[a-zA-Z]{2,8};))/g,Xk=/(?:(?:^|\s*)([a-zA-Z-_]+)(?=[\s=\/>]|$)(?:(=)(?:(?:('|")(.*?)\3)|([^\s'"\/>]*)(?=[\s\/>]|$)))?)|(\s*[^\s\/]+)/g,Yk=/(\?[^\s]*)|(&(?!(?:[a-zA-Z]+|#[0-9]+|#x[0-9a-fA-F]+)(?:;|\s|$))(?![^<>]*>))/g,Zk=/<([^>]*)>/g,$k=/</g;
function al(a){qk("markup- markupForDisplay src: ",a);var b=new vk,c;c=5;a=a.replace(Fk,"");a=a.replace(Gk,"");a=a.replace(Zk,function(a,b){return"<"+b.replace($k," ")+">"});a.replace(Ek,ua(bl,b,c));a=b.Ic;a=a.replace(Ek,cl);qk("markup- markupForDisplay before documentFragment: ",a);a&&0<=a.search(Ik)&&(a=gd("<div>"+a+"</div>").innerHTML);qk("markup- markupForDisplay result: ",a);return a}
function dl(a,b){qk("markup- markupToPasteFragment src: ",a);var c=b||new vk,d=b?8:16,f=a.replace(Fk,""),f=f.replace(Gk,"");f.replace(Ek,ua(bl,c,d));qk("markup- markupToPasteFragment result: ",c.Ic);return c.Ic}function el(a){qk("markup- textToMarkup src: ",a);a=a.replace(Qk,"<br>");a=fl(4,a);qk("markup- textToMarkup result: ",a);return a}
function gl(a){qk("markup- markupToPlainText src: ",a);a=a.replace(Vk,"\n");a=a.replace(Hk,ua(hl,[]));qk("markup- markupToPlainText result: ",a);a&&(a=gd(a),a=a.innerText||a.textContent||a.toString());return a}function il(a){a&&(a=a.replace(Wk,"&amp;"),a=a.replace($k,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;"));return a}
function fl(a,b){if(b){b=b.replace(/^(\r|\n)*/g,"").replace(/(\r|\n)*$/g,"").replace(/(?:(\s)\r)|(?:\r(\s))/g,"$1$2").replace(/(?:(\s)\n)|(?:\n(\s))/g,"$1$2").replace(/\r|\n/g," ");a&8&&(b=b.replace(Lk," "));var c=jl.length;a&24&&(a|=24);for(var d=-1;++d<c;){var f=jl[d];if(!f.filter||f.filter==(f.filter&a))b=b.replace(f.filter&2?Sk:Rk,function(a,b,c){return!c?a:b+c.replace(f.Gd,f.replace)})}}return b}
function kl(a,b,c,d,f,g,i){b="";g=g||i;d||(g="");if(c&&g&&(c=c.toLowerCase(),i="",a.Og[c]&&(i=a.Og[c](a,g)),a=i))a=a.replace(/"/g,"&#34;"),a=a.replace(/'/g,"&#39;"),b=c+(d||"")+'"'+a+'"';return" "+b}
function bl(a,b,c,d,f){qk("markup- filterTagsAndContent str: ",c);qk("markup- filterTagsAndContent content: ",d);qk("markup- filterTagsAndContent isTagOpen('a'): ",0<(a.jo.a||0));b|=0<(a.jo.a||0)?0:2;c=b&4?zk:b&16?Ak:Bk;d=fl(b,d);qk("markup- filterTagsAndContent filtered content: ",d);wk(a,d,c);if(f){var f=f.replace(/\r|\n/g," "),d=f.replace(/\s*(\/?\w+).*/,"$1").toLowerCase(),b=new yk(d,b,a.ll(),c),g=m;if(b.Og){g=0;if(f){var i=f.trim(),l=i.replace(/\/?(\w+).*/,"$1").toLowerCase(),q="/"+l;if(l&&0!=
l.search(/!--/)){g=1;if(0==i.search(/^\//)){g=-1;for(i=a.Ni.length;q&&i--;)if(q==a.Ni[i]){qk("markup- matched close tag: ",q);a.Ni.splice(i,a.Ni.length-i);a.Iu.splice(i,a.Iu.length-i);break}0>i&&qk("markup- unmatched close tag: ",q)}else 0<i.search(/\/$/)?g=0:l in rk?g=0:(a.Iu.push("<"+i+">"),a.Ni.push(q));g&&(l in a.jo||(a.jo[l]=0),a.jo[l]+=g)}}g=1==g}if(oa(b.Og)){if(a.ll()&&(!b.Og._skipTranslation||0>(f||"").search(b.Og._skipTranslation))){l=ua(kl,b);f=f.replace(Xk,l);b.Og._translate&&(d=b.Og._translate);
var f=(d=("<"+d+f.replace(/\s+/g," ")).trim())||"",d=[],s;for(s in b.Ov)b.Ov.hasOwnProperty(s)&&d.push(s+":"+b.Ov[s]);d.length&&(f.length&&" "!=f.charAt(f.length-1)&&(f+=" "),f+='style="'+d.sort().join(";")+'"');s=f||"";b.jn.length&&(s.length&&" "!=s.charAt(s.length-1)&&(s+=" "),s+=b.jn.sort().join(" "));s=s+">"||"";b.Gw.length&&(s+=b.Gw);b.Og._translateEnd&&(s+=b.Og._translateEnd);d=s}else d="<"+f+">";qk("markup- filterTagsAndContent filtered tag: ",d);wk(a,d,c,g)}else v(b.Og)&&(s=a.ll()?b.Og:"<"+
d+">",qk("markup- filterTagsAndContent stock replacement: ",s),wk(a,s,c,g))}return""}function cl(a,b,c){var d=b.replace(/\S{20,}/g,function(a){return ll(a)});d!=b&&(a=d,c&&(a+="<"+c+">"));return a}function ll(a){for(var b="",c=0,d=0;d<a.length;d++){c&&!(c%5)&&(b+="<wbr></wbr>");var f=a[d];if("&"==f){var g=a.substr(d,8).search(/;/);if(0<g){b+=a.substr(d,g+1);d+=g;c++;continue}}b+=f;c++;"-"==f&&(c=0)}return b}
function hl(a,b,c,d,f){var g=c,d=d?d.toLowerCase():"",i=ml[d];na(i)?(qk("markup- removeTags_ by tag function tag: ",d,"  tagAttr: ",f),g+=i(a,b,c,d,f)):v(i)?(qk("markup- removeTags_ replacement: ",i),g+=i):qk("markup- removeTags_ tag removed: ",d);return g}function nl(a,b){qk("markup- classString_ attr: ",b);var c=b;"aimFont"!=b&&0>b.search("messaging-avatarImg")&&0>b.search("aim-emoji")&&(c="");return c}
function ol(a){var b=a=a.replace(Mk,"$1"),c;for(c in Tk)if(-1!=a.search(Tk[c])){b=c;break}b==a&&(b=a.replace(/,[\s\S]*,/g,","));return b}function pl(a){for(var b={},a=a.replace(Nk,function(a,b,c){c&&(a="\n;");return a}),a=a.split("\n;"),c=a.length;c--;){var d=a[c].match(/([^:]+):(.*)/);if(d&&d[1]){var f=d[1].trim().toLowerCase();0==f.search("font")||"color"==f?(b[f]=d[2].trim(),"font-family"==f&&(b[f]=ol(b[f]))):"background-color"==f&&(b[f]=d[2].trim())}}return b}
function ql(a,b){qk("markup- cssString_ attr: ",b);var c=b.search(/(?:(?:^|:|\s*)url\s*\()|(?:(?:^|:|\s*)expression\s*\()/);0<=c&&(b=b.substr(0,c));c=pl(b);qk("markup- cssString_ saved attr component: ",c);for(var d in c){var f=c[d];if("font-size"==d&&-1!=f.search(/em$/)){var g=pk[f];g&&(f=g)}"0.90em"!=f&&(f=f.replace(Ok,function(a,b,c,d){if(b||c||d)a="#"+rl(b,2)+rl(c,2)+rl(d,2);return a}),Ck(a,d+":"+f))}return""}function sl(a,b){return b||""}
function tl(a,b){qk("markup- filterAttribute.url_ url: ",b);var c=b.match(/(^[a-zA-Z]+:)?([^:]*)(:)?/);c&&c[1]?0>c[1].search(Jk)&&(b=""):b=!c||c[3]||b!=c[2]?"":(ck(b)?"mailto:":"http://")+b;qk("markup- ffilterAttribute.url_ result: ",b);return b}function ul(a,b){(b=tl(0,b))&&!Ta(b,"mailto:")&&Dk(a,"target","_blank");b&&Dk(a,"title",b);return b}function rl(a,b){"number"!=typeof a&&(a=parseInt(a||"0",10));for(var c=a.toString(16);c.length<b;)c="0"+c;return c}
function vl(a){"number"==typeof a?a="#"+rl(a,6).replace(/(..)(..)(..)/,"$3$2$1"):a&&(a=a.replace(Ok,function(a,c,d,f,g){if(g&&0==parseInt(g,10))a="";else if(c||d||f)a="#"+rl(c,2)+rl(d,2)+rl(f,2);return a}));return a}
function wl(a,b){var c=pl(b);qk("markup- styleToFont styleObj: ",c);var d=c["font-family"];d&&Dk(a,"face",d);if(d=c.color)d=vl(d),0<=d.search(/[\(\)]/g)&&(d="");d&&(Dk(a,"color",d),a.filter&16&&Ck(a,"color:"+d));if(d=c["background-color"])d=d.replace(Ok,function(a,b,c,d){if(b||c||d)a="#"+rl(b,2)+rl(c,2)+rl(d,2);return a}),0<=d.search(/[\(\)]/g)&&(d=""),d&&(Dk(a,"back",d),a.filter&16&&Ck(a,"background-color:"+d));return""}
var zk={a:{href:ul,"class":nl,style:ql,target:function(a,b){var c=b?b.trim():"";if(!c||"_"==c.charAt(0))c="_blank";Dk(a,"target",c);return""}},b:{"class":nl,style:ql},br:{"class":nl,style:ql},div:{"class":nl,style:ql},font:{back:function(a,b){qk("markup- highlightColor_ attr: ",b);b&&(a.ll()||a.filter&16)&&Ck(a,"background-color:"+b);a.ll()&&(b="");return b},color:function(a,b){qk("markup- fontColorString_ attr: ",b);b&&(a.ll()?Ck(a,"color:"+b):Dk(a,"color",b));qk("markup- fontColorString_ color: ",
b);return""},face:function(a,b){qk("markup- fontFaceString_ attr: ",b);var c=b,d=b.search(",");0<=d&&(c=b.substr(0,d));qk("markup- fontFaceString_ font-family: ",c);a.ll()&&(c&&Ck(a,"font-family:"+c),c="");return c},size:function(a,b){qk("markup- fontSize attr: ",b);if(a.ll()){var c=ok[b];c&&Ck(a,"font-size:"+c);b=""}return b},sml:o(""),style:ql,_translate:'span class="aimFont"'},hr:"<hr/>",i:{"class":nl,style:ql},img:{"class":nl,src:function(a,b){var c=ul(a,b);c&&(Dk(a,"href",c),0>c.search(/(\.bmp|\.gif|\.ico|\.jpe|\.jpeg|\.jpg|\.png)([\/\?]|$)/i)&&
(c=-1==c.search(/\?/)?c+"?":c+"&",c+="aim_detect=a.jpg"),c=il(c),20<=c.length&&(c=ll(c)),a.Gw+=c);return""},_translate:'a class="sentImage"',_translateEnd:"</a>"},li:"<div>",span:{"class":nl,style:ql},u:{"class":nl,style:ql},"/a":"</a>","/b":"</b>","/br":"</br>","/div":"</div>","/font":"</span>","/hr":"</hr>","/i":"</i>","/img":"</img>","/li":"</div>","/p":"<br />","/span":"</span>","/u":"</u>"},Bk=Kc(zk);
Bk.font={color:function(a,b){qk("markup- colorAsAttribute_ attr: ",b);b&&Dk(a,"color",b);return""},face:function(a,b){return b.replace(/(,.*)/g,"")},size:sl,sml:sl,style:wl};Bk.span={style:wl,_translate:"font"};Bk["/font"]="</font>";Bk["/span"]="</font>";var Ak=Kc(Bk);Ak.img=Kc(Bk.img);Ak.img.src=tl;Ak.img.alt=function(a,b){qk("markup- entitizeAttribute_ value: ",b);var c=il(b);qk("markup- entitizeAttribute_ result: ",c);return c};Ak.span=Kc(Bk.span);Ak.span._skipTranslation=/class=['"]?aim-emoji['"]?/g;
delete Ak.img._translate;delete Ak.img._translateEnd;
var jl=[{Gd:/([^\s@]+@[^\s@\.]+(?:\.[^\s@\.]+)+)/,filter:6,replace:function(a,b){var c=a,d=b.replace(/mailto:/i,"");ck(d)&&(c=b,0>c.search(/mailto:/i)&&(c="mailto:"+d),c='<a class="aol-soy-autolink" href="'+c+'" title="'+c+'">'+d+"</a>");return c}},{Gd:hk,filter:6,replace:function(a){var b="";if(!Ta(a,"@")&&!Ta(a,"mailto:")||!ck(a))0<=a.search(/^[^:\/\.]*:/)?0<=a.search(Jk)&&(b=a):b="http://"+a;qk("markup- url matching - found URL: ",b,"  regExp match: ",a);return!b?a:'<a class="aol-soy-autolink" target="_blank" href="'+
b+'" title="'+b+'">'+a+"</a>"}},{Gd:Yk,filter:4,replace:function(a,b){return b||"&amp;"}},{Gd:mk,filter:5,replace:function(a,b){var c=a;if(b)var c=b.charCodeAt(0).toString(16).toUpperCase(),d=b.charCodeAt(1),d=d?d.toString(16).toUpperCase():k,c='<span class="aim-emoji" style="background-image:url(\''+P("common/images/emoji/"+(d?c+"-"+d:c)+".png")+"');\">"+b+"</span>";return c}},{Gd:/(\s|^|(?:&nbsp;)|(?:&#160;))@@((?:&#34;.*?&#34;)|[\w]+)/g,filter:7,replace:function(a,b,c){c&&c.length&&(c=c.replace(/&#34;/g,
""));c&&c.length&&(a=' <span class="replyLabelAtSign">@</span><span class="replyLabel">'+c+"</span>");return a}},{Gd:/(\s|^|(?:&nbsp;)|(?:&#160;))\+\+(?:($|(?:&#34;.*?&#34;)|[\w]+)|(?=\s))/g,filter:7,replace:function(a,b,c){(a=c)&&c.length&&(a=c.replace(/&#34;/g,""));if(!a||!a.length)a="+1";return' <span class="replyLabelPlusSign">'+a+"</span>"}},{Gd:/(&(?:(?:#[0-9]{2,4};)|(?:#x[0-9a-fA-F]{2,4};)|(?:[a-zA-Z]{2,8};))-?\))|(O:-\))|(:-\))|(;-\))|(:-\()|(:-P)|(=-O)|(:-\*)|(&GT;:O)|(:-D)|(:-\$)|(:-!)|(:-\[)|(:-[\/\\])|(:'-\()|(:-X)|(8-\))|(:-{\))|(\]:-&GT;)|\*&LT;(:-\))/ig,
filter:7,replace:function(a){var b=a,c=Uk[a.toUpperCase()];c||(c=Uk[a]);c&&(b='<span class="aim-emoticon emoticonId'+c+'">'+a+"</span>");return b}},{Gd:/(?:^|[.?>\s])(O:\)|:\)|;\)|:\(|:P|=O|:\*|&GT;:O|:D|:\$|:!|:\[|:-[\/\\]|:[\/\\](?![\/\\])|:'\(|:X|8\)|&LT;3|@\(\^_\^\)@|@}-&GT;--|\*&LT;:\)|:{\)|&LT;--|--&GT;|\bZZZ\b|l,lO|\[8\]|\[\?\]|\]:&GT;)+/gi,filter:7,replace:function(a){return a.replace(Kk,function(a){var c=a,d=Uk[a.toUpperCase()];d||(d=Uk[a]);d&&(c='<span class="aim-emoticon emoticonId'+d+
'">'+a+"</span>");return c})}},{Gd:/  /g,filter:4,replace:" &#160;"},{Gd:/&#160; /g,filter:4,replace:"&#160;&#160;"},{Gd:/^ /g,filter:4,replace:"&#160;"},{Gd:Yk,filter:8,replace:function(a,b){return b||"&amp;"}},{Gd:$k,filter:8,replace:"&lt;"},{Gd:/>/g,filter:8,replace:"&gt;"},{Gd:/"/g,filter:8,replace:"&#34;"},{Gd:Yk,filter:16,replace:function(a,b){return b||"&amp;"}},{Gd:$k,filter:16,replace:"&lt;"},{Gd:/>/g,filter:16,replace:"&gt;"},{Gd:/"/g,filter:16,replace:"&#34;"}],ml={a:function(a,b,c,d,f){b=
"";c=f.replace(/.*?(?:^|\s)href\s*=(?:(?:('|")(.*?)\1)|([^\s'"\/>]*)).*/ig,"$2$3");qk("markup- convertToAnchorHref_ found href: ",c);c&&("/"==f[f.length-1]?b=c+" ":a.push(c));return b},br:"\n",img:function(a,b,c,d,f){a=(a=f.match(/.*?(?:^|\s|'|")alt\s*=(?:(?:('|")(.*?)\1)|([^\s'"\/>]*)).*/i))?a[2]||a[3]||"":"";qk("markup- imgToAltText_ found alt: ",a);return a},"/a":function(a,b,c){b="";(a=a.pop())&&0>c.search(a)&&(b=" - "+a+" ");qk("markup- filterToText_popAnchorHref result: ",b);return b}};

var xl={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",
93:"context",96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};

function yl(a){this.Bv={};this.Ik={wc:[],time:0};this.MW=Pc(zl);this.bU=j;this.jC=this.cU=m;this.YY=j;this.Gk=a;M(this.Gk,"keydown",this.dm,m,this);ac&&H&&I("1.8")&&M(this.Gk,"keyup",this.iN,m,this);bc&&!H&&(M(this.Gk,"keypress",this.qN,m,this),M(this.Gk,"keyup",this.rN,m,this))}var Al;z(yl,xe);var zl=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Bl={KT:"shortcut",JT:"shortcut_"};p=yl.prototype;
p.hR=function(a,b){var c=Cl,d=this.Bv,f=arguments;if(v(f[1])){for(var f=f[1],f=f.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase(),f=f.split(" "),g=[],i,l=0;i=f[l];l++){var q=i.split("+"),s;i=0;for(var B,E=0;B=q[E];E++){switch(B){case "shift":i|=1;continue;case "ctrl":i|=2;continue;case "alt":i|=4;continue;case "meta":i|=8;continue}s=B;if(!Al){q={};B=h;for(B in xl)q[xl[B]]=B;Al=q}s=Al[s];break}g.push({keyCode:s,XO:i})}f=g}else{g=f;l=1;ja(f[1])&&(g=f[1],l=0);for(f=[];l<g.length;l+=2)f.push({keyCode:g[l],
XO:g[l+1]})}c(d,f,a)};p.n=function(){yl.g.n.call(this);this.Bv={};ne(this.Gk,"keydown",this.dm,m,this);ac&&H&&I("1.8")&&ne(this.Gk,"keyup",this.iN,m,this);bc&&!H&&(ne(this.Gk,"keypress",this.qN,m,this),ne(this.Gk,"keyup",this.rN,m,this));this.Gk=k};p.iN=function(a){if(224==a.keyCode)this.SO=j,N(function(){this.SO=m},400,this);else{var b=a.metaKey||this.SO;if((67==a.keyCode||88==a.keyCode||86==a.keyCode)&&b)a.metaKey=b,this.dm(a)}};function Dl(a){return bc&&!H&&a.ctrlKey&&a.altKey&&!a.shiftKey}
p.qN=function(a){32<a.keyCode&&Dl(a)&&(this.cO=j)};p.rN=function(a){!this.cO&&Dl(a)&&this.dm(a)};function Cl(a,b,c){var d=b.shift(),d=d.keyCode&255|d.XO<<8,f=a[d];f&&c&&(0==b.length||v(f))&&e(Error("Keyboard shortcut conflicts with existing shortcut"));b.length?(f||(f=a[d]={}),Cl(f,b,c)):a[d]=c}function El(a,b,c,d){c=c||0;return(d=(d||a.Bv)[b[c]])&&!v(d)&&1<b.length-c?El(a,b,c+1,d):d}
p.dm=function(a){var b;b=a.keyCode;if(16==b||17==b||18==b)b=m;else{var c=a.target,d="TEXTAREA"==c.tagName||"INPUT"==c.tagName||"BUTTON"==c.tagName||"SELECT"==c.tagName,f=!d&&(c.isContentEditable||c.ownerDocument&&"on"==c.ownerDocument.designMode);b=!d&&!f||this.MW[b]||this.jC?j:f?m:this.YY&&(a.altKey||a.ctrlKey||a.metaKey)?j:"INPUT"==c.tagName&&("text"==c.type||"password"==c.type)?13==b:"INPUT"==c.tagName||"BUTTON"==c.tagName?32!=b:m}if(b)if("keydown"==a.type&&Dl(a))this.cO=m;else{b=(H?He(a.keyCode):
a.keyCode)&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8;var g,i,c=x();this.Ik.wc.length&&1500>=c-this.Ik.time?g=El(this,this.Ik.wc):this.Ik.wc.length=0;g=g?g[b]:this.Bv[b];g||(g=this.Bv[b],this.Ik.wc=[]);g&&v(g)?i=g:g?(this.Ik.wc.push(b),this.Ik.time=c,H&&a.preventDefault()):this.Ik.wc.length=0;i&&(this.bU&&a.preventDefault(),this.cU&&a.stopPropagation(),b=a.target,g=this.dispatchEvent(new Fl(Bl.KT,i,b)),i=new Fl(Bl.JT+i,i,b),(g&=this.dispatchEvent(i))||a.preventDefault(),
this.Ik.wc.length=0)}};function Fl(a,b,c){L.call(this,a,c);this.identifier=b}z(Fl,L);

function V(a){Of.call(this,a);this.iO={}}z(V,Of);p=V.prototype;p.rn=k;p.rg=m;p.Hk=k;p.v=function(){V.g.v.call(this);this.rg=j};function Gl(a,b,c,d){c?c.versionString="2.38.0.6":c={versionString:"2.38.0.6"};a.K(gk(b,c,d||a.D()))}p.n=function(){V.g.n.call(this);this.Wt&&(this.Wt.o(),delete this.Wt);this.Hk&&(this.Hk.o(),delete this.Hk)};p.Pe=function(){this.G&&!this.Wt&&(this.Wt=new Ie(this.c()));return this.Wt};p.h1=function(a){a=this.iO[a.identifier];u(a)&&a()};p.sa=function(){return this.rn||this.c()};
p.replaceChild=function(a,b,c){a=ag(this,a);this.removeChild(Zf(this,a),j);this.bg(b,a,c)};p.isVisible=n("rg");p.Ib=function(){delete this.rg;O(this.c(),m)};p.show=function(){this.rg=j;O(this.c(),j)};

function Hl(){this.wa=new Kf(this)}z(Hl,xe);Hl.prototype.h=n("wa");Hl.prototype.n=function(){Hl.g.n.call(this);this.wa.o()};


function Il(a){Hl.call(this);R("Creating controller "+a);this.ya=a}z(Il,Hl);Il.prototype.BY=k;Il.prototype.n=function(){Il.g.n.call(this);R("Disposing controller "+this.ya);delete this.BY};Il.prototype.z=n("ya");function Jl(){("undefined"==typeof r._aim_session_||!(r._aim_session_ instanceof Kl))&&e("An aim controller could not find a session.");return r._aim_session_}Il.prototype.Le=o(m);

function Ll(){this.Pb={}}ga(Ll);p=Ll.prototype;p.add=function(a,b,c){this.Pb[a+"_"+b]=c};p.remove=function(a,b){delete this.Pb[a+"_"+b]};p.clear=function(){var a=this.Pb,b;for(b in a)delete a[b]};p.get=function(a,b){return this.Pb[a+"_"+b]};p.H=function(a){return this.get("model",a)};p.q=function(a){return this.get("ui",a)};p.Dw=function(a,b){this.add("controller",a,b)};p.Oe=function(a){return this.get("controller",a)};p.forEach=function(a,b){Cc(this.Pb,function(c,d){a.call(b,d,c)})};

function Ml(a){a=""+a;if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))}function Nl(a){return eval("("+a+")")}function Ol(a){var b=[];Pl(new Ql,a,b);return b.join("")}function Ql(){this.wA=h}
function Pl(a,b,c){switch(typeof b){case "string":Rl(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==k){c.push("null");break}if(ja(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++)c.push(f),f=b[g],Pl(a,a.wA?a.wA.call(b,""+g,f):f,c),f=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(f=b[g],"function"!=typeof f&&(c.push(d),Rl(g,c),c.push(":"),
Pl(a,a.wA?a.wA.call(b,g,f):f,c),d=","));c.push("}");break;case "function":break;default:e(Error("Unknown type: "+typeof b))}}var Sl={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Tl=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Rl(a,b){b.push('"',a.replace(Tl,function(a){if(a in Sl)return Sl[a];var b=a.charCodeAt(0),f="\\u";16>b?f+="000":256>b?f+="00":4096>b&&(f+="0");return Sl[a]=f+b.toString(16)}),'"')};

var Ul=Ml('{"API_PHOTO_UPLOAD":"/.api/profile/_photoUpload","PROFILE_NOT_FOUND":"/.profile-available/","API_UDR_SET_PRIVACY":"/.api/udr/setPrivacy","OAUTH":"/.oauth","API_PICNIC_AVATAR_UPLOAD":"/.api/picnic/_avatarUpload","OFFLINE_REDIRECT":"/offline","API_EMAIL_INVITE":"/.api/invite/email","NOTFOUND":"/.404","API_PROFILE_DEBUG":"/.api/profile/debug","API_REALITY_UPDATE":"/.api/profile/reality","ME":"/.me","API_UDR_GET_PRIVACY":"/.api/udr/getPrivacy","SETTINGS_PUBLIC":"/settings","API_UDR_DEVICE_WRITE":"/.api/udr/writeDevice","VIDEO_PUBLIC":"/videos","API_UDR_SEND_CODE":"/.api/udr/sendCode","API_UDR_SMS_DEVICE":"/.api/udr/smsDevice","HISTORY":"/.history","API_JS_WARNINGS":"/.jswarn/","AV":"/.av","INVITED":"/.invited","API_UDR_LOOKUP_CODE":"/.api/udr/lookupCode","AUTH4CLIENT":"/.auth4client","HEY":"/.hey","API_PLAYGROUND_UPLOAD":"/.api/playground/_imageUpload","API_PEEPS_ADD_NUMBER":"/.api/peeps/addProxyNumber","API_ICON_UPLOAD":"/.api/user/_iconUpload","BAD_BROWSER":"/.unsupported-browser","XMPP_PUBLIC":"/xmpp","GENERIC_ROOT_PAGES_PUBLIC":"/generic","PRODUCTS_PAGES_PUBLIC":"/products","API_STATUSES":"/.api/statuses/get","API_PEEPS_TOKEN_CREATE":"/.api/peeps/createToken","CLIENT":"/.client","SETTINGS":"/.settings","API_UDR_CONFIRM_CODE":"/.api/udr/confirmCode","API_PEEPS_PROXY":"/.api/peeps/proxy","UPGRADE_PUBLIC":"/upgrade","API_PEEPS_GET_NUMBERS":"/.api/peeps/getProxyNumbers","CLAIM":"/.profile-claim/","HOME_PUBLIC":"/.start","FEATURES_PUBLIC":"/whatsnew","EULA_PUBLIC":"/eula","SETTINGSGOOGLEVERIFIER":"/.associate/gtalk","API_PEEPS_TOKEN_POLL":"/.api/peeps/pollToken","API_UDR_DEVICE_READ":"/.api/udr/readDevice","API_PEEPS_REMOVE_NUMBER":"/.api/peeps/removeProxyNumber","ERROR":"/.error","API_NAME_UPDATE":"/.api/user/update-name","LEGACYDOWNLOADS_PUBLIC":"/legacydownloads","API_WIM_RELAY":"/.api/wimrelay","SCREENNAME":"/.screenname/","API_UDR_DEVICE_DELETE":"/.api/udr/deleteDevice","DOWNLOAD_PUBLIC":"/download","POPUP":"/popup","API_LIFESTREAM_GET_SINGLE":"/.api/ls/getSingle","SERVERERROR":"/.500","FAQ_PUBLIC":"/faq","VALIDATE":"/.validate","HOME":"/.home","API_STATUS_DELETE":"/.api/status/delete","API_PEEPS_CONFIRM_NUMBER":"/.api/peeps/confirmProxyNumber","API_UDR_SERVICE_WRITE":"/.api/udr/writeService","SETTINGSFACEBOOKVERIFIER":"/.associate/facebook","API_UDR_GENERATE_CODE":"/.api/udr/generateCode","API_PROFILE_UPDATE":"/.api/profile/update","API_PLAYGROUND_FETCHER":"/.api/playground/_fetcher","PEEPS":"/.peeps"}');
(function(){var a=k;if(!Q("app.auth")){var b=function(){var c=window.AUTH_LINKS;c?(Nc(Ul,c),clearInterval(a)):a||(a=setInterval(b,10))};b()}})();

function Vl(a){var b=k;u(window.localStorage)&&(b=window.localStorage.getItem(a))&&0==b.indexOf("{")&&(b=Ml(b));return b}function Wl(a,b){if(u(window.localStorage)){b&&oa(b)&&(b=Ol(b));try{window.localStorage.setItem(a,b)}catch(c){S("Exceeded local storage limit, cleaning up some old data",c);Xl();try{window.localStorage.setItem(a,b)}catch(d){S("Failed to clean up old data")}}}}function Yl(a){u(window.localStorage)&&window.localStorage.removeItem(a)}var Xl=fa;

function Zl(a){this.Max=this.Min=a;u(a)?(this._total=a,this.Count=1):this.Count=this._total=0;this._type="single";this._start=x();this._wasActive=m}Zl.prototype.Jr=function(){this._start=x();Ic(this,"Average")};Zl.prototype.Qs=function(a){if(this._start){a=x()-this._start;if(!u(this.Min)||this.Min>a)this.Min=a;if(!u(this.Max)||this.Max<a)this.Max=a;this._total+=a;1<++this.Count&&(this._type="average");this._wasActive=j}};
function $l(){this.data={};this.Fy=t(window.app)&&t(window.app.log);setInterval(w(this.n4,this),this.c6);this.BJ=x();this.tR=this.BJ+this.sR;this.e6=0;var a="sessionStorage"in window;if(a)var b=window.sessionStorage.getItem("sessionUUID");if(!b&&(b=am(8)+"-"+am(4)+"-4"+am(3)+"-"+am(1,4,8)+am(3)+"-"+am(12),a))try{window.sessionStorage.setItem("sessionUUID",b)}catch(c){}}p=$l.prototype;p.sR=36E5;p.c6=500;p.z5=575;p.M5=20;
function am(a,b,c){b||(b=16);for(var d="";d.length<a;){var f=Math.floor(Math.random()*b|0);c&&(f|=c);d+=f.toString(16)}return d}p.Jr=function(a){u(this.data[a])?this.data[a].Jr():this.data[a]=new Zl};p.Qs=function(a){u(this.data[a])&&this.data[a].Qs()};
p.n4=function(){var a=x(),b=a-this.BJ,c=this.e6++<this.M5?"startUpTimerDelayed":"timerDelayed";b>=this.z5&&(c in this.data?this.data[c].Qs(b):this.data[c]=new Zl(b));if(this.tR<=a){b=r._aim_session_;if((b?b.xa():bm)==cm){for(var d in this.data)this.data[d]&&this.data[d]._wasActive&&"single"!=this.data[d]._type&&(b=this.data[d],b.Average=Math.round(100*b._total/b.Count)/100);Ic(this.data,c)}this.tR=a+this.sR}this.BJ=x()};ga($l);$l.j().Jr("scriptStartup");

function dm(a,b,c){this.target=a;this.handle=b||a;this.MF=c||new Oe(NaN,NaN,NaN,NaN);this.Xb=Rc(a);this.wa=new Kf(this);M(this.handle,["touchstart","mousedown"],this.Kv,m,this)}z(dm,xe);var em=G||H&&I("1.9.3");p=dm.prototype;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.tS=0;p.uS=0;p.xn=0;p.Kl=0;p.Qb=j;p.Kh=m;p.FN=0;p.KX=m;p.h=n("wa");function fm(a,b){a.MF=b||new Oe(NaN,NaN,NaN,NaN)}p.TR=ca("CA");p.uc=ca("Qb");
p.n=function(){dm.g.n.call(this);ne(this.handle,["touchstart","mousedown"],this.Kv,m,this);this.wa.o();delete this.target;delete this.handle;delete this.wa};
p.Kv=function(a){var b="mousedown"==a.type;if(this.Qb&&!this.Kh&&(!b||de(a))){gm(a);if(0==this.FN)if(hm(this,a),this.Kh)a.preventDefault();else return;else a.preventDefault();var b=this.Xb,c=b.documentElement,d=!em;this.wa.e(b,["touchmove","mousemove"],this.tX,d);this.wa.e(b,["touchend","mouseup"],this.Rl,d);em?(c.setCapture(m),this.wa.e(c,"losecapture",this.Rl)):this.wa.e(bd(b),"blur",this.Rl);G&&this.KX&&this.wa.e(b,"dragstart",Wd);this.CA&&this.wa.e(this.CA,"scroll",this.Fu,d);this.clientX=this.tS=
a.clientX;this.clientY=this.uS=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.xn=this.target.offsetLeft;this.Kl=this.target.offsetTop;this.DH=Od(J(this.Xb));x()}else this.dispatchEvent("earlycancel")};function hm(a,b){a.dispatchEvent(new im("start",a,b.clientX,b.clientY))!==m&&(a.Kh=j)}
p.Rl=function(a,b){this.wa.Rd();em&&this.Xb.releaseCapture();var c=jm(this,this.xn),d=km(this,this.Kl);this.Kh?(gm(a),this.Kh=m,this.dispatchEvent(new im("end",this,a.clientX,a.clientY,0,c,d,b||"touchcancel"==a.type))):this.dispatchEvent("earlycancel");("touchend"==a.type||"touchcancel"==a.type)&&a.preventDefault()};
function gm(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.oc(a.lc.targetTouches[0],a.currentTarget):("touchend"==b||"touchcancel"==b)&&a.oc(a.lc.changedTouches[0],a.currentTarget)}
p.tX=function(a){if(this.Qb){gm(a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.Kh){var d=this.tS-this.clientX,f=this.uS-this.clientY;if(d*d+f*f>this.FN&&(hm(this,a),!this.Kh)){this.Rl(a);return}}c=lm(this,b,c);b=c.x;c=c.y;this.Kh&&this.dispatchEvent(new im("beforedrag",this,a.clientX,a.clientY,0,b,c))!==m&&(mm(this,a,b,c),a.preventDefault())}};
function lm(a,b,c){var d=Od(J(a.Xb)),b=b+(d.x-a.DH.x),c=c+(d.y-a.DH.y);a.DH=d;a.xn+=b;a.Kl+=c;b=jm(a,a.xn);a=km(a,a.Kl);return new zc(b,a)}p.Fu=function(a){var b=lm(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;mm(this,a,b.x,b.y)};function mm(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new im("drag",a,b.clientX,b.clientY,0,c,d))}
function jm(a,b){var c=a.MF,d=!isNaN(c.left)?c.left:k,c=!isNaN(c.width)?c.width:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function km(a,b){var c=a.MF,d=!isNaN(c.top)?c.top:k,c=!isNaN(c.height)?c.height:0;return Math.min(d!=k?d+c:Infinity,Math.max(d!=k?d:-Infinity,b))}function im(a,b,c,d,f,g,i,l){L.call(this,a);this.clientX=c;this.clientY=d;this.left=u(g)?g:b.xn;this.top=u(i)?i:b.Kl;this.sV=!!l}z(im,L);


function nm(a){this.F=a;a=G?"focusout":"blur";this.xY=M(this.F,G?"focusin":"focus",this,!G);this.yY=M(this.F,a,this,!G)}z(nm,xe);nm.prototype.handleEvent=function(a){var b=new be(a.lc);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";try{this.dispatchEvent(b)}catch(c){}finally{b.o()}};nm.prototype.n=function(){nm.g.n.call(this);pe(this.xY);pe(this.yY);delete this.F};


function om(a,b){this.Bb=new Kf(this);this.FI(a||k);b&&(this.Cb=b)}z(om,xe);p=om.prototype;p.F=k;p.XK=j;p.WK=k;p.rg=m;p.r5=m;p.EF=-1;p.AF=-1;p.AN=m;p.EV=j;p.Cb="toggle_display";p.Ga=n("Cb");p.c=n("F");p.FI=function(a){pm(this);this.F=a};p.dp=function(a){pm(this);this.XK=a};function qm(a){pm(a);a.AN=j}function pm(a){a.rg&&e(Error("Can not change this state of the popup while showing."))}p.isVisible=n("rg");p.Rt=function(){return this.rg||150>x()-this.AF};
p.L=function(a){this.Hv&&this.Hv.stop();this.Dt&&this.Dt.stop();a?this.Cr():this.ih()};p.Xc=fa;
p.Cr=function(){if(!this.rg&&this.wG()){this.F||e(Error("Caller must call setElement before trying to show the popup"));this.Xc();var a=Rc(this.F);this.AN&&this.Bb.e(a,"keydown",this.zP,j);if(this.XK)if(this.Bb.e(a,"mousedown",this.Xq,j),G){var b;try{b=a.activeElement}catch(c){}for(;b&&"IFRAME"==b.nodeName;){try{var d=zd(b)}catch(f){break}a=d;b=a.activeElement}this.Bb.e(a,"mousedown",this.Xq,j);this.Bb.e(a,"deactivate",this.Dz)}else this.Bb.e(a,"blur",this.Dz);"toggle_display"==this.Cb?(this.F.style.visibility=
"visible",O(this.F,j)):"move_offscreen"==this.Cb&&this.Xc();this.rg=j;this.Hv?(me(this.Hv,"end",this.xQ,m,this),this.Hv.play()):this.xQ()}};p.ih=function(a){if(!this.rg||!this.dispatchEvent({type:"beforehide",target:a}))return m;this.Bb&&this.Bb.Rd();this.rg=m;this.Dt?(me(this.Dt,"end",ua(this.EL,a),m,this),this.Dt.play()):this.EL(a);return j};
p.EL=function(a){"toggle_display"==this.Cb?this.r5?N(this.BN,0,this):this.BN():"move_offscreen"==this.Cb&&(this.F.style.left="-200px",this.F.style.top="-200px");this.Ho(a)};p.BN=function(){this.F.style.visibility="hidden";O(this.F,m)};p.wG=function(){return this.dispatchEvent("beforeshow")};p.xQ=function(){this.EF=x();this.AF=-1;this.dispatchEvent("show")};p.Ho=function(a){this.AF=x();this.dispatchEvent({type:"hide",target:a})};
p.Xq=function(a){a=a.target;!ud(this.F,a)&&(!this.WK||ud(this.WK,a))&&!(150>x()-this.EF)&&this.ih(a)};p.zP=function(a){27==a.keyCode&&this.ih(a.target)&&(a.preventDefault(),a.stopPropagation())};p.Dz=function(a){if(this.EV){var b=Rc(this.F);if(G||gc){if(a=b.activeElement,!a||ud(this.F,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>x()-this.EF||this.ih()}};p.n=function(){om.g.n.call(this);this.Bb.o();Rd(this.Hv);Rd(this.Dt);delete this.F;delete this.Bb};

function rm(a,b){Of.call(this,b);this.u6=!!a}z(rm,Of);p=rm.prototype;p.Hn=k;p.Xd=m;p.cg=k;p.Je=k;p.Mj=k;p.la=o("goog-modalpopup");p.Yi=n("cg");p.l=function(){rm.g.l.call(this);var a=this.c();C(a,this.la());Fd(a,j);O(a,m);sm(this);tm(this)};function sm(a){if(a.u6&&!a.Je){var b;b=a.D().l("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.Je=b;a.Je.className=a.la()+"-bg";O(a.Je,m);mf(a.Je,0)}a.cg||(a.cg=a.D().l("div",a.la()+"-bg"),O(a.cg,m))}
function tm(a){a.Mj||(a.Mj=a.D().createElement("span"),O(a.Mj,m),Fd(a.Mj,j),a.Mj.style.position="absolute")}p.ae=function(a){return!!a&&"DIV"==a.tagName};p.K=function(a){rm.g.K.call(this,a);C(this.c(),this.la());sm(this);tm(this);O(this.c(),m)};p.v=function(){this.Je&&ld(this.Je,this.c());ld(this.cg,this.c());rm.g.v.call(this);md(this.Mj,this.c());this.Hn=new nm(this.D().Ia());this.h().e(this.Hn,"focusin",this.Pf)};
p.$=function(){this.isVisible()&&this.L(m);Rd(this.Hn);rm.g.$.call(this);od(this.Je);od(this.cg);od(this.Mj)};p.L=function(a){a!=this.Xd&&(this.kr&&this.kr.stop(),this.is&&this.is.stop(),this.jr&&this.jr.stop(),this.hs&&this.hs.stop(),a?this.Cr():this.ih())};
p.Cr=function(){if(this.dispatchEvent("beforeshow")){this.hI();this.Xc();this.h().e(this.D().va(),"resize",this.hI);um(this,j);try{this.focus()}catch(a){}this.Xd=j;this.kr&&this.is?(me(this.kr,"end",this.Uz,m,this),this.is.play(),this.kr.play()):this.Uz()}};p.ih=function(){this.dispatchEvent("beforehide")&&(this.h().M(this.D().va(),"resize",this.hI),this.Xd=m,this.jr&&this.hs?(me(this.jr,"end",this.Kz,m,this),this.hs.play(),this.jr.play()):this.Kz())};
function um(a,b){a.Je&&O(a.Je,b);a.cg&&O(a.cg,b);O(a.c(),b);O(a.Mj,b)}p.Uz=function(){this.dispatchEvent("show")};p.Kz=function(){um(this,m);this.dispatchEvent("hide")};p.isVisible=n("Xd");p.focus=function(){this.FM()};p.hI=function(){this.Je&&O(this.Je,m);this.cg&&O(this.cg,m);var a=this.D().Ia(),b=$c(bd(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height);this.Je&&(O(this.Je,j),gf(this.Je,c,a));this.cg&&(O(this.cg,j),gf(this.cg,c,a))};
p.Xc=function(){var a=this.D().Ia(),b=bd(a)||window;if("fixed"==Ue(this.c()))var c=a=0;else c=Od(this.D()),a=c.x,c=c.y;var d=jf(this.c()),b=$c(b||window),a=Math.max(a+b.width/2-d.width/2,0),c=Math.max(c+b.height/2-d.height/2,0);Ve(this.c(),a,c);Ve(this.Mj,a,c)};p.Pf=function(a){a.target==this.Mj&&N(this.FM,0,this)};p.FM=function(){try{G&&this.D().Ia().body.focus(),this.c().focus()}catch(a){}};p.n=function(){Rd(this.kr);this.kr=k;Rd(this.jr);this.jr=k;Rd(this.is);this.is=k;Rd(this.hs);this.hs=k;rm.g.n.call(this)};

function vm(a,b,c){rm.call(this,b,c);this.Cd=a||"modal-dialog";this.$a=wm()}z(vm,rm);p=vm.prototype;p.fq=j;p.At=j;p.WO=j;p.uD=j;p.Sw=0.5;p.xf="";p.ib="";p.hc=k;p.pD=m;p.ld=k;p.Pj=k;p.sB=k;p.yi=k;p.pb=k;p.Gc=k;p.la=n("Cd");p.zb=function(a){this.xf=a;this.Pj&&Ad(this.Pj,a)};p.pk=n("xf");p.pa=function(a){this.ib=a;this.pb&&(this.pb.innerHTML=a)};p.Yb=n("ib");function xm(a){a.c()||a.T()}p.sa=function(){xm(this);return this.pb};p.XM=function(){xm(this);return this.ld};
function ym(a){xm(a);return a.Gc}function zm(a){xm(a);return a.c()}p.Yi=function(){xm(this);return vm.g.Yi.call(this)};function Am(a,b){a.Sw=b;if(a.c()){var c=a.Yi();c&&mf(c,a.Sw)}}function Bm(a,b){a.c()&&Ub(a.ld,a.Cd+"-title-draggable",b);b&&!a.hc?(a.hc=new dm(a.c(),a.ld),C(a.ld,a.Cd+"-title-draggable"),M(a.hc,"start",a.k5,m,a)):!b&&a.hc&&(a.hc.o(),a.hc=k)}
p.l=function(){vm.g.l.call(this);var a=this.c(),b=this.D();this.ld=b.l("div",{className:this.Cd+"-title",id:this.z()},this.Pj=b.l("span",this.Cd+"-title-text",this.xf),this.yi=b.l("span",this.Cd+"-title-close"));jd(a,this.ld,this.pb=b.l("div",this.Cd+"-content"),this.Gc=b.l("div",this.Cd+"-buttons"));this.sB=this.ld.id;Ce(a,"dialog");De(a,"labelledby",this.sB||"");this.ib&&(this.pb.innerHTML=this.ib);O(this.yi,this.At);this.$a&&(a=this.$a,a.F=this.Gc,a.T());O(this.Gc,!!this.$a);Am(this,this.Sw)};
p.K=function(a){vm.g.K.call(this,a);a=this.Cd+"-content";(this.pb=Tc(k,a,this.c())[0])?this.ib=this.pb.innerHTML:(this.pb=this.D().l("div",a),this.ib&&(this.pb.innerHTML=this.ib),this.c().appendChild(this.pb));var a=this.Cd+"-title",b=this.Cd+"-title-text",c=this.Cd+"-title-close";(this.ld=Tc(k,a,this.c())[0])?(this.Pj=Tc(k,b,this.ld)[0],this.yi=Tc(k,c,this.ld)[0],this.ld.id||(this.ld.id=this.z())):(this.ld=this.D().l("div",{className:a,id:this.z()}),this.c().insertBefore(this.ld,this.pb));this.sB=
this.ld.id;this.Pj?this.xf=Gd(this.Pj):(this.Pj=this.D().l("span",b,this.xf),this.ld.appendChild(this.Pj));De(this.c(),"labelledby",this.sB||"");this.yi||(this.yi=this.D().l("span",c),this.ld.appendChild(this.yi));O(this.yi,this.At);a=this.Cd+"-buttons";(this.Gc=Tc(k,a,this.c())[0])?(this.$a=new Cm(this.D()),this.$a.qa(this.Gc)):(this.Gc=this.D().l("div",a),this.c().appendChild(this.Gc),this.$a&&(a=this.$a,a.F=this.Gc,a.T()),O(this.Gc,!!this.$a));Am(this,this.Sw)};
p.v=function(){vm.g.v.call(this);this.h().e(this.c(),"keydown",this.sj).e(this.c(),"keypress",this.sj);this.h().e(this.Gc,"click",this.WZ);Bm(this,this.uD);this.h().e(this.yi,"click",this.C3);Ce(this.c(),"dialog");""!==this.Pj.id&&De(this.c(),"labelledby",this.Pj.id);if(!this.WO&&(this.WO=m,this.G)){var a=this.D(),b=this.Yi();a.removeNode(this.Je);a.removeNode(b)}};p.$=function(){this.isVisible()&&this.L(m);Bm(this,m);vm.g.$.call(this)};
p.L=function(a){a!=this.isVisible()&&(this.G||this.T(),vm.g.L.call(this,a))};p.Uz=function(){vm.g.Uz.call(this);this.dispatchEvent(Dm)};p.Kz=function(){vm.g.Kz.call(this);this.dispatchEvent(Em);this.pD&&this.o()};
p.focus=function(){vm.g.focus.call(this);if(this.$a){var a=this.$a.Cs;if(a)for(var b=this.D().Ia(),c=this.Gc.getElementsByTagName("button"),d=0,f;f=c[d];d++)if(f.name==a){try{if(hc||gc){var g=b.createElement("input");g.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.c().appendChild(g);g.focus();this.c().removeChild(g)}f.focus()}catch(i){}break}}};
p.k5=function(){var a=this.D().Ia(),b=$c(bd(a)||window||window),c=Math.max(a.body.scrollWidth,b.width),a=Math.max(a.body.scrollHeight,b.height),d=jf(this.c());"fixed"==Ue(this.c())?fm(this.hc,new Oe(0,0,Math.max(0,b.width-d.width),Math.max(0,b.height-d.height))):fm(this.hc,new Oe(0,0,c-d.width,a-d.height))};p.C3=function(){if(this.At){var a=this.$a,b=a&&a.dg;b?(a=a.get(b),this.dispatchEvent(new Fm(b,a))&&this.L(m)):this.L(m)}};p.n=function(){this.Gc=this.yi=k;vm.g.n.call(this)};
function Gm(a,b){a.$a=b;if(a.Gc){if(a.$a){var c=a.$a;c.F=a.Gc;c.T()}else a.Gc.innerHTML="";O(a.Gc,!!a.$a)}}p.WZ=function(a){a:{for(a=a.target;a!=k&&a!=this.Gc;){if("BUTTON"==a.tagName)break a;a=a.parentNode}a=k}if(a&&!a.disabled){var a=a.name,b=this.$a.get(a);this.dispatchEvent(new Fm(a,b))&&this.L(m)}};
p.sj=function(a){var b=m,c=m,d=this.$a,f=a.target;if("keydown"==a.type)if(this.fq&&27==a.keyCode){var g=d&&d.dg,f="SELECT"==f.tagName&&!f.disabled;g&&!f?(c=j,b=d.get(g),b=this.dispatchEvent(new Fm(g,b))):f||(b=j)}else 9==a.keyCode&&a.shiftKey&&f==this.c()&&(c=j);else if(13==a.keyCode){if("BUTTON"==f.tagName)g=f.name;else if(d){var i=d.Cs,l=i&&Hm(d,i),f=("TEXTAREA"==f.tagName||"SELECT"==f.tagName)&&!f.disabled;l&&!l.disabled&&!f&&(g=i)}g&&d&&(c=j,b=this.dispatchEvent(new Fm(g,""+d.get(g))))}if(b||
c)a.stopPropagation(),a.preventDefault();b&&this.L(m)};function Fm(a,b){this.type=Im;this.key=a;this.caption=b}z(Fm,L);var Im="dialogselect",Em="afterhide",Dm="aftershow";function Cm(a){this.ba=a||J();Ch.call(this)}z(Cm,Ch);p=Cm.prototype;p.Cd="goog-buttonset";p.Cs=k;p.F=k;p.dg=k;p.set=function(a,b,c,d){Ch.prototype.set.call(this,a,b);c&&(this.Cs=a);d&&(this.dg=a);return this};p.Ta=function(a,b,c){return this.set(a.key,a.caption,b,c)};
p.T=function(){if(this.F){this.F.innerHTML="";var a=J(this.F);uh(this,function(b,c){var d=a.l("button",{name:c},b);c==this.Cs&&(d.className=this.Cd+"-default");this.F.appendChild(d)},this)}};p.qa=function(a){if(a&&1==a.nodeType){this.F=a;for(var a=this.F.getElementsByTagName("button"),b=0,c,d,f;c=a[b];b++)if(d=c.name||c.id,f=Gd(c)||c.value,d){var g=0==b;this.set(d,f,g,c.name==Jm);g&&C(c,this.Cd+"-default")}}};p.c=n("F");p.D=n("ba");
function Hm(a,b){for(var c=a.F.getElementsByTagName("BUTTON"),d=0,f;f=c[d];d++)if(f.name==b||f.id==b)return f;return k}var Jm="cancel",Km=y("OK"),Lm=y("Cancel"),Mm=y("Yes"),Nm=y("No"),Om=y("Save"),Pm=y("Continue"),Qm={key:"ok",caption:Km},Rm={key:Jm,caption:Lm},Sm={key:"yes",caption:Mm},Tm={key:"no",caption:Nm},Um={key:"save",caption:Om},Vm={key:"continue",caption:Pm};function Wm(){return(new Cm).Ta(Qm,j,j)}function wm(){return(new Cm).Ta(Qm,j).Ta(Rm,m,j)}
"undefined"!=typeof document&&(Wm(),wm(),(new Cm).Ta(Sm,j).Ta(Tm,m,j),(new Cm).Ta(Sm).Ta(Tm,j).Ta(Rm,m,j),(new Cm).Ta(Vm).Ta(Um).Ta(Rm,j,j));


function Xm(a){switch(a){case "aim":return"AIM";case "facebook":return"Facebook";case "twitter":return"Twitter";case "instagram":return"Instagram";case "gmail":return"Gmail";case "aolmail":return"AOL Mail";default:return""}}var Ym="aim,facebook,twitter,instagram,gmail,aolmail".split(",");

function Zm(a){vm.call(this,h,h,a);$m(this,"aim-dialog");C(this.Yi(),"aim-dialog-bg");this.pD=this.fq=j}z(Zm,vm);function $m(a,b){C(zm(a),b)}p=Zm.prototype;p.v=function(){Zm.g.v.call(this);this.h().e(this,Im,this.L_).e(window,"resize",this.oH)};p.oH=function(){this.Xc()};p.L_=o(j);function an(a){var a=a.$a,b=a.Cs;return b?Hm(a,b):k}p.focus=function(){Zm.g.focus.call(this);var a=Tc("textarea",h,this.c());0==a.length&&(a=Tc("input",h,this.c()));a.length&&a[0].focus()};
p.L=function(a){Zm.g.L.call(this,a);a&&setTimeout(w(function(){this.isVisible()&&this.focus()},this),500)};function bn(a){Ch.call(this,a)}z(bn,Cm);bn.prototype.c=function(){return this.F.getElementsByTagName("BUTTON")[0].parentNode};function cn(){return(new Cm).Ta(Tm,m,j).Ta(Sm,j)}function dn(a,b){Zm.call(this);$m(this,"aim-confirm");C(this.Yi(),"aim-confirm-bkg");this.pa(a);Gm(this,Wm());t(b)&&this.D().UR(an(this),b)}z(dn,Zm);
function en(a,b,c,d,f){this.jM=b?gk(b,c):k;Zm.call(this,d);$m(this,"aim-confirm");C(this.Yi(),"aim-confirm-bkg");b=f;b||(b=cn(),t(a)&&b.set("yes",a));Gm(this,b)}z(en,Zm);en.prototype.l=function(){en.g.l.call(this);this.jM&&this.sa().appendChild(this.jM)};function fn(a,b,c,d){var f=(new Cm).Ta(Sm,j);t(a)&&f.set("yes",a);en.call(this,a,b,c,d,f)}z(fn,en);function gn(a,b,c,d){a=a?a:"Yes";en.call(this,a,b,c,d);C(an(this),"danger");this.D().UR(an(this),a)}z(gn,en);
function hn(a){this.Dj=a;a=Xm(this.Dj);Zm.call(this);$m(this,"dialog-service-reauth");this.zb("Connection Error");this.pa(a+" is no longer connected.");var b=new Cm;b.Ta({caption:"Cancel",key:Jm},m,j);b.Ta({caption:"Reconnect "+a,key:this.Dj},j,m);b.Ta({caption:"Or remove "+a,key:"remove"},m,m);Gm(this,b);C(Hm(b,this.Dj),"danger");C(Hm(b,"remove"),"remove-service")}z(hn,Zm);function jn(a){a=new hn(a);a.L(j);return a};

function kn(a){this.Xb=a}var ln=/\s*;\s*/;p=kn.prototype;p.isEnabled=function(){var a=navigator.cookieEnabled;if(a&&hc){var b="COOKIES_TEST_"+x();mn.set(b,"1");if(!this.get(b))return m;this.remove(b)}return a};
p.set=function(a,b,c,d,f,g){/[;=\s]/.test(a)&&e(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(b)&&e(Error('Invalid cookie value "'+b+'"'));u(c)||(c=-1);f=f?";domain="+f:"";d=d?";path="+d:"";g=g?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(x()+1E3*c)).toUTCString();this.Xb.cookie=a+"="+b+f+d+c+g};p.get=function(a,b){for(var c=a+"=",d=(this.Xb.cookie||"").split(ln),f=0,g;g=d[f];f++){if(0==g.indexOf(c))return g.substr(c.length);if(g==a)return""}return b};
p.remove=function(a,b,c){var d=this.Dd(a);this.set(a,"",0,b,c);return d};p.Qe=function(){return nn(this).keys};p.dd=function(){return nn(this).IB};p.wb=function(){return!this.Xb.cookie};p.Db=function(){return!this.Xb.cookie?0:(this.Xb.cookie||"").split(ln).length};p.Dd=function(a){return u(this.get(a))};p.Kp=function(a){for(var b=nn(this).IB,c=0;c<b.length;c++)if(b[c]==a)return j;return m};p.clear=function(){for(var a=nn(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
function nn(a){for(var a=(a.Xb.cookie||"").split(ln),b=[],c=[],d,f,g=0;f=a[g];g++)d=f.indexOf("="),-1==d?(b.push(""),c.push(f)):(b.push(f.substring(0,d)),c.push(f.substring(d+1)));return{keys:b,IB:c}}var mn=new kn(document);mn.o8=3950;

Ml('["2.38.0.6/js/aim.chats.js","2.38.0.6/js/aim.rootpages.js","2.38.0.6/js/aim.upgrade.js","2.38.0.6/js/aim.home.js","2.38.0.6/js/aim.wimworker.js","2.38.0.6/js/aim.hey.widget.js","2.38.0.6/js/aim.download.js","2.38.0.6/js/aim.products.js","2.38.0.6/js/aim.client.js","2.38.0.6/js/aim.legacydownloads.js","2.38.0.6/js/test.aim.chats.js","2.38.0.6/js/aim.settings.facebook.js","2.38.0.6/js/aim.features.js","2.38.0.6/js/aim.settings.gtalk.js","2.38.0.6/js/aim.videos.js","2.38.0.6/js/aim.settings.js"]');

function on(){}on.prototype.IM=ba();on.prototype.gc=ba();on.prototype.log=ba();var pn=new on;

function qn(){this.Po=[]}p=qn.prototype;p.$J="AIMFocusData";p.Vj=k;p.Fd=k;p.hb=k;p.sp=m;p.ls=k;p.Yt=x();p.DY=0;p.GK=function(){this.LB((new Date).toString())};p.Lf=function(){return this.hb&&!this.hb.closed?j:m};
function rn(a){var b={"file-uploader":"file-input"};S("Looking up alternate element to highlight for "+a.nodeName+"."+a.className);for(var c in b)if(F(a,c)){S("found element with class: "+c);b=b[c];for(c=a.parentNode;c;){S(" class:"+c.className);if(F(c,b))return S("highlight: "+c.className),c;c=c.parentNode}break}S("highlight (nc): "+a.nodeName+"."+a.className);return a}
function sn(a){R("focus diag window is closing.");pn=new on;A(a.Fd||[],function(a){R("unregistering "+a[1]);a[0].removeEventListener?a[0].removeEventListener(a[1],a[2],m):a[0].detachEvent&&a[0].detachEvent("on"+a[1],a[2])});delete a.Fd;if(a.Vj){R("clearing ccpFocusHL on last active element: "+a.Vj.nodeName+"."+a.Vj.className);var b=rn(a.Vj);D(b,"ccpFocusHL");delete a.Vj}}
p.Am=function(){var a=this.Lf();if(a||this.sp)a&&this.hb.focus();else if(this.sp=j,(this.hb=window.open("about:blank",this.$J,"width=800,height=400,toolbar=no,resizable=yes,scrollbars=yes,status=no"))?"appWindow"in this.hb&&(this.hb.appWindow.isVisible=j):this.cJ||(this.cJ=j,alert("The AIM Focus Data popup was blocked by your browser.")),delete this.sp,this.hb){this.cK();var b=this;G||tn(this,this.hb,"beforeunload",function(){sn(b);return k});tn(this,this.hb,"unload",function(){sn(b)});pn=new un}};
p.gc=function(a,b){this.log(pa(a)+" > "+b)};p.log=function(a){a=La(Xa(Ma(a)));this.LB(['<div class="msg">[<span>',Xa(vn(this.gD())),"</span>] ",a,"</div>"].join(""))};function vn(a){for(var a=a.toFixed(0),b=3-a.length;0<b--;)a=" "+a;return a}p.gD=function(){return++this.DY};p.LB=function(a){this.Lf()&&this.Wr(a)};
function wn(a,b){var c=xn();-1==mb(c,b)&&A(c,function(a){A(a.document.getElementsByTagName("IFRAME"),function(c){c.contentWindow===b&&(R("Found top level window for. "+c.nodeName+"."+c.className),b=a)})});N(function(){var a=b.document.activeElement;if(a&&this.Vj!=a){this.log("Focus is now on: "+a.nodeName+"."+a.className);if(this.Vj){var c=rn(this.Vj);D(c,"ccpFocusHL")}c=rn(a);C(c,"ccpFocusHL");this.Vj=a}else this.log("Focus is still on: "+a.nodeName+"."+a.className)},0,a)}
p.Wr=function(a){this.Po.push(a);r.clearTimeout(this.ls);750<x()-this.Yt?this.qw():this.ls=r.setTimeout(w(this.qw,this),250)};p.qw=function(){this.Yt=x();if(this.Lf()){var a=this.hb.document.body,a=a&&100>=a.scrollHeight-(a.scrollTop+a.clientHeight);this.hb.document.write(this.Po.join(""));this.Po.length=0;a&&this.hb.scrollTo(0,1E6)}};
p.cK=function(){if(this.Lf()){this.hb.document.open();this.hb.document.title="AIM Focus Data";this.Wr('<style>*{font:normal 12px monospace;}body{margin:8px; padding:0; margin-top:40px;}.msg span{color:green;}.msg{color:black;}.hdr{border-bottom:2px solid black; background-color:white; margin:0; padding:0; position:fixed; top:0; left:0; height:24px; width:100%; overflow:hidden; }.menu { margin:5px 10px 0 2px; padding:0; }.menu li { display:inline; list-style:none; margin:0 4px 0 0; padding:0; }.menu li a { color:black; background:#fff; border: 1px solid #ccc; padding:3px 10px; border-radius:10px; cursor:pointer; text-decoration: none; }.menu li a:hover { background:#5d9ddd; border:1px solid #2a7ecd; color:#fff; border-radius:10px;</style><div class="hdr"><ul class="menu"><li><a id="clr" href="#">Clear Log</a></li><li><a id="focus" href="#" title="Hover over this area to show focus rings around each window\'s active element.">Who Has Focus?</a></li></ul></div>');var a=
this;wn(this,window);yn(function(b){var d=b.va();tn(a,d.document.body,"keydown",function(b){9==b.keyCode&&wn(a,d)})});var b=this.hb?this.hb.document.getElementById("clr"):k;tn(this,b,"click",function(){if(a.Lf()){for(var b=a.hb.document.getElementsByTagName("div"),d=b[b.length-1];"msg"==d.className;)d.parentNode.removeChild(d),d=b[b.length-1];a.hb.scrollTo(0,1E6)}return m});b=this.hb?this.hb.document.getElementById("focus"):k;tn(this,b,"click",o(m));tn(this,b,"mouseover",function(){yn(function(a){if(a=
a.va().document.activeElement){var b=rn(a);C(b,"ccpFocusHL");this.log("focus is on an element with class:"+a.className)}},a)});tn(this,b,"mouseout",function(){yn(function(a){if(a=a.va().document.activeElement)a=rn(a),D(a,"ccpFocusHL")},a)})}};function tn(a,b,c,d){b&&(b.addEventListener?b.addEventListener(c,d,m):b.attachEvent&&b.attachEvent("on"+c,d),a.Fd?a.Fd.push([b,c,d]):a.Fd=[[b,c,d]])}var zn=new qn;function un(){pn=this}z(un,on);un.prototype.IM=function(a){wn(zn,a)};
un.prototype.gc=function(a,b){zn.gc(a,b)};un.prototype.log=function(a){zn.log(a)};

function An(){V.call(this)}z(An,V);An.prototype.DL=m;An.prototype.NF=k;var Bn=m;p=An.prototype;p.l=function(){An.g.l.call(this);Gl(this,Cn)};p.v=function(){An.g.v.call(this);var a=K("banner-link",this.c());a&&this.h().e(a,"click",this.l1)};p.$=function(){An.g.$.call(this);this.h().Rd()};p.l1=function(a){if(this.NF)this.NF.call();else{if(Q("app.appWindows")){Dn();for(var b=window.app.appWindows.length-1;0<b;--b)window.app.appWindows[b].close()}window.location.reload();a.preventDefault()}};
p.update=function(a,b,c,d){if(!Bn||!this.DL)K("message",this.c()).innerHTML=a,K("banner-link",this.c()).innerHTML=b,a=K("spinner",this.c()),c?D(a,"hideSpinner"):C(a,"hideSpinner"),d&&(this.NF=d),this.DL=j};

function En(){Hl.call(this)}z(En,Hl);ga(En);En.prototype.Mv=k;En.prototype.qI=k;function Dn(){var a=En.j();a.Mv={};a.dispatchEvent(Fn);var b=r._aim_user_.m()+"-client-state";Wl(b,a.Mv);a.Mv=k}En.prototype.ka=function(a,b){this.Mv&&(this.Mv[a]=b)};En.prototype.xa=function(a){if(!this.qI){var b=r._aim_user_.m()+"-client-state";this.qI=Vl(b)||{};Yl(b)}return this.qI[a]};var Fn="saveStateRequest";

function Gn(a){switch(a){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}};


function Hn(a){switch(a){case 200:case 201:case 202:case 204:case 304:case 1223:return j;default:return m}};

function In(){}In.prototype.eL=k;function Jn(a){var b;if(!(b=a.eL))b={},Kn(a)&&(b[0]=j,b[1]=j),b=a.eL=b;return b};


var Ln;function Mn(){}z(Mn,In);function Nn(a){return(a=Kn(a))?new ActiveXObject(a):new XMLHttpRequest}Mn.prototype.WE=k;
function Kn(a){if(!a.WE&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.WE=d}catch(f){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.WE}Ln=new Mn;

function On(a){this.headers=new Ch;this.sl=a||k}z(On,xe);On.prototype.Z=hj("goog.net.XhrIo");var Pn=/^https?$/i,Qn=[];function Rn(a,b,c){var d=new On;Qn.push(d);b&&M(d,"complete",b);M(d,"ready",ua(Sn,d));d.send(a,c,h,h)}function Sn(a){a.o();Cb(Qn,a)}p=On.prototype;p.sb=m;p.ha=k;p.rl=k;p.$b="";p.bu="";p.Ac=0;p.ze="";p.Dn=m;p.vk=m;p.eo=m;p.pf=m;p.He=0;p.Ze=k;p.Yk="";p.aK=m;p.zv=function(a){this.He=Math.max(0,a)};
p.send=function(a,b,c,d){this.ha&&e(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.$b=a;this.ze="";this.Ac=0;this.bu=b;this.Dn=m;this.sb=j;this.ha=this.ZC();this.rl=this.sl?Jn(this.sl):Jn(Ln);this.ha.onreadystatechange=w(this.Cu,this);try{dj(this.Z,this.Id("Opening Xhr")),this.eo=j,this.ha.open(b,a,j),this.eo=m}catch(f){dj(this.Z,this.Id("Error opening Xhr: "+f.message));this.En(5,f);return}var a=c||"",g=this.headers.Hb();d&&uh(d,function(a,b){g.set(b,
a)});"POST"==b&&!g.Dd("Content-Type")&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");uh(g,function(a,b){this.ha.setRequestHeader(b,a)},this);this.Yk&&(this.ha.responseType=this.Yk);"withCredentials"in this.ha&&(this.ha.withCredentials=this.aK);try{this.Ze&&(ze.clearTimeout(this.Ze),this.Ze=k),0<this.He&&(dj(this.Z,this.Id("Will abort after "+this.He+"ms if incomplete")),this.Ze=ze.setTimeout(w(this.Ec,this),this.He)),dj(this.Z,this.Id("Sending request")),this.vk=j,this.ha.send(a),
this.vk=m}catch(i){dj(this.Z,this.Id("Send error: "+i.message)),this.En(5,i)}};p.ZC=function(){return this.sl?Nn(this.sl):Nn(Ln)};p.Ec=function(){"undefined"!=typeof da&&this.ha&&(this.ze="Timed out after "+this.He+"ms, aborting",this.Ac=8,dj(this.Z,this.Id(this.ze)),this.dispatchEvent("timeout"),this.abort(8))};p.En=function(a,b){this.sb=m;this.ha&&(this.pf=j,this.ha.abort(),this.pf=m);this.ze=b;this.Ac=a;this.Ks();this.ck()};p.Ks=function(){this.Dn||(this.Dn=j,this.dispatchEvent("complete"),this.dispatchEvent("error"))};
p.abort=function(a){this.ha&&this.sb&&(dj(this.Z,this.Id("Aborting")),this.sb=m,this.pf=j,this.ha.abort(),this.pf=m,this.Ac=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.ck())};p.n=function(){this.ha&&(this.sb&&(this.sb=m,this.pf=j,this.ha.abort(),this.pf=m),this.ck(j));On.g.n.call(this)};p.Cu=function(){!this.eo&&!this.vk&&!this.pf?this.mH():this.Bu()};p.mH=function(){this.Bu()};
p.Bu=function(){this.sb&&"undefined"!=typeof da&&(this.rl[1]&&4==this.Nh()&&2==this.lb()?dj(this.Z,this.Id("Local request error detected and ignored")):this.vk&&4==this.Nh()?ze.setTimeout(w(this.Cu,this),0):(this.dispatchEvent("readystatechange"),this.Mt()&&(dj(this.Z,this.Id("Request complete")),this.sb=m,this.ro()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Ac=6,this.ze=this.qt()+" ["+this.lb()+"]",this.Ks()),this.ck())))};
p.ck=function(a){if(this.ha){var b=this.ha,c=this.rl[0]?fa:k;this.rl=this.ha=k;this.Ze&&(ze.clearTimeout(this.Ze),this.Ze=k);a||this.dispatchEvent("ready");try{b.onreadystatechange=c}catch(d){bj(this.Z,"Problem encountered resetting onreadystatechange: "+d.message)}}};p.isActive=function(){return!!this.ha};p.Mt=function(){return 4==this.Nh()};p.ro=function(){var a=this.lb();return Hn(a)||0===a&&!this.mF()};p.mF=function(){var a=Hh(""+this.$b);return Pn.test(a)};
p.Nh=function(){return this.ha?this.ha.readyState:0};p.lb=function(){try{return 2<this.Nh()?this.ha.status:-1}catch(a){return cj(this.Z,"Can not get status: "+a.message),-1}};p.qt=function(){try{return 2<this.Nh()?this.ha.statusText:""}catch(a){return dj(this.Z,"Can not get status: "+a.message),""}};p.Yx=function(){return""+this.$b};p.On=function(){try{return this.ha?this.ha.responseText:""}catch(a){return dj(this.Z,"Can not get responseText: "+a.message),""}};
p.nf=function(a){if(this.ha){var b=this.ha.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Ml(b)}};
p.Oh=function(){try{if(!this.ha)return k;if("response"in this.ha)return this.ha.response;switch(this.Yk){case "":case "text":return this.ha.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.ha)return this.ha.mozResponseArrayBuffer}bj(this.Z,"Response type "+this.Yk+" is not supported on this browser");return k}catch(a){return dj(this.Z,"Can not get response: "+a.message),k}};p.lE=n("Ac");p.kE=function(){return v(this.ze)?this.ze:""+this.ze};
p.Id=function(a){return a+" ["+this.bu+" "+this.$b+" "+this.lb()+"]"};

function Tn(){N(this.lQ,1E3*(Un+Math.floor(Math.random()*Vn)),this)}z(Tn,Hl);ga(Tn);var Un=ai("updater_pollInterval")?parseInt(ai("updater_pollInterval"),10):3600,Vn=ai("updater_pollInterval")?0:3600,Wn=ai("updater_useTestFeed")?"http://o.aolcdn.com/os/aim_clientfeed/clientfeedTest.json":"http://o.aolcdn.com/os/aim_clientfeed/clientfeed.json";Tn.prototype.LJ=m;Tn.prototype.lQ=function(){N(this.lQ,1E3*Un,this);Rn(Wn,w(this.h0,this))};
Tn.prototype.h0=function(a){if(a=a&&a.target?a.target.Oh():""){var b=Ml(a).clientUpdate.version,c=ai("updater_forceUpdate"),a=!!c;if(!c)for(var c=["2","38","0","6"],b=b?b.split("."):[],d=Math.max(c.length,b.length),f=0;f<d;f++){var g=c[f]?Number(c[f]):0,i=b[f]?Number(b[f]):0;if(g>i)break;else if(g<i){a=j;break}}a&&(this.LJ=j,this.dispatchEvent(Xn))}};var Xn="updateReady";

var Yn={},Zn={};function $n(a,b,c,d){V.call(this);this.S=k;this.Ub=a||this.z();this.dF=m;this.Ka=b||k;this.Vp=d||k;this.Is=k;this.$L=1E3;c&&(this.S=window,this.qa(document.body),b&&(b&&(this.Ka=b),ao(this)),bo(this));this.cn=this.hm=this.ib=this.Hi=k;this.ZJ=0}z($n,V);var co={},eo=k;p=$n.prototype;
p.K=function(a){$n.g.K.call(this,a);co[pa(this)]=this;this.Vp&&("appWindow"in this.S&&(this.S.appWindow.onmove=w(this.CR,this)),this.h().e(this.S,"resize",this.CR));this.h().e(r._aim_session_,fo,this.Vb).e(Tn.j(),Xn,this.BG).e(this.S.document.body,"dragenter",this.OG).e(this.S.document.body,"dragover",this.OG).e(this.S.document.body,"drop",this.OG);"appWindow"in this.S&&(this.S.appWindow.autoSnapToEdgeThreshold=20);go(["system.settings"],this.IK,this);this.IK()};
function ho(a){a=a.toString(16);6>a.length&&(a="000000".substr(0,6-a.length)+a);return"#"+a}
p.IK=function(){if(this.S&&this.S.app&&(this.hm&&(this.hm.parentNode.removeChild(this.hm),delete this.hm),this.S.app.system.settings&&this.S.app.system.settings.highContrast)){var a="html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, a, abbr, acronym, address, big, cite, code, del, dfn, em, font, img, ins, kbd, q, s, samp, small, strike, sub, sup, tt, var, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, li {color: %fgColor% !important; background-image: none !important; background-color: %bkColor% !important; border-color: %borderColor% !important; }",b=
ho(this.S.app.system.settings.colors.windowText),c=ho(this.S.app.system.settings.colors.window),d=ho(this.S.app.system.settings.colors.windowFrame),a=a.replace(/%fgColor%/g,b).replace(/%bkColor%/g,c).replace(/%borderColor%/g,d);this.hm=this.S.document.createElement("style");this.hm.type="text/css";this.hm.innerHTML=a;this.S.document.body.appendChild(this.hm)}};
p.n=function(){try{$n.g.n.call(this)}catch(a){}ma(this.Is)&&clearTimeout(this.Is);"appWindow"in this.S&&this.Vp&&(this.S.appWindow.onmove=k);delete co[pa(this)]};p.BG=function(){C(this.ib.c(),"showbanner");this.ib.ed&&this.ib.ed();D(this.Hi.c(),"hide");this.Hi.update("AIM update available","Update Now!",m,function(){Tn.j();Dn();if(Q("app.appWindows"))for(var a=window.app.appWindows.length-1;0<a;--a)window.app.appWindows[a].close();window.location.reload(j)});Bn=j};
function io(a){C(a.ib.c(),"showbanner");a.ib.ed&&a.ib.ed();D(a.Hi.c(),"hide");a.Hi.update("A new version of AIM is available!","Install & Relaunch Now",m,function(){window.app.info.update.install();window.App.Yo(m);window.App.vz=j;window.app.terminate()});Bn=j}
p.Vb=function(a){R("client.ui.Window::onSessionStateChange_");if(t(this.ib)&&t(this.Hi)){var b=this.ib.c(),c=this.Hi.c(),a=a.ud;switch(a){case jo:case ko:N(function(){var a=r._aim_session_,f=a.tg;S("isUnloading got called in Monitor");!f.o6&&a.xa()!=cm&&a.xa()!=bm&&(D(c,"hide"),C(b,"showbanner"))},3E3,this);case lo:case mo:case no:case oo:a=a==ko;this.Hi.update(a?"No Internet Connection":"Trying to connect to AIM servers","Try Again",!a);break;case cm:case bm:Tn.j().LJ?this.BG():(C(c,"hide"),D(b,
"showbanner"))}}};p.pa=function(a){this.ib=a;this.ib.getParent()&&this.ib.getParent().removeChild(this.ib);this.O(this.ib,this.G);ia(this.Hi)&&(this.Hi=new An,this.O(this.Hi,this.G));if(a instanceof po){this.h().e(this.ib,qo,w(this.I1,this));var b=this.ib.getName();Ca(b)||(this.S.document.title=b);this.ib.Vf(ro);this.Ka||so(this,this.ib.Ka);var c;switch(a.wF){case to:bc?c=uo.ET:ac&&(c=uo.DT);break;case vo:bc?c=uo.GT:ac&&(c=uo.FT)}c&&wo(Ai(window.App),this.z(),this.S.document,c)}Tn.j().LJ&&this.BG()};
p.I1=function(a){a.target==Zf(this,0)&&this.S.close()};function xo(a,b,c){var d=m;try{if(!a.S||!a.S.closed&&(!a.S.outerHeight||!a.S.outerWidth)&&(!G||!a.S.document.body.offsetHeight||!a.S.document.body.offsetWidth)){d=j;if(a.S){var f=a.vj;a.vj=k;a.S.close();a.vj=f}var g=new fn("Try Again");g.pa(y("The popup window for <b>{$popup}</b> was blocked.",{popup:a.Ub}));Mf(a.h(),g,Im,w(a.open,a,a.vj,b,c));g.L(j)}}catch(i){}return d}
p.open=function(a,b,c){this.vj=a;var a="Win32"==navigator.platform,d="about:blank";G&&(c=j);c&&(d=window.location.protocol+"//"+window.location.host+"/static/2.38.0.6/common/html/clientPopup.html",Q("app.blankWindowUrl")&&(window.app.blankWindowUrl=d));var f=this.Ub.replace(/[^A-Z\d]/ig,""),g={target:f,height:this.Ka.size.height,width:this.Ka.size.width,menubar:Q()&&a?1:0,toolbar:0,scrollbars:0,status:0,resizable:1,center:0,createnew:0,location:0};ti(this.Ub,g);this.S=ji(d,g);this.dF=m;this.S?(G&&
N(function(){ui(this.Ub,this.S);vi(this.Ub,this.S)},0,this),Hj&&(S("Window name: "+f+" opened.  Valid Object: "+!!this.S+"  Same as last window: "+(eo==this.S)),eo=this.S),a&&this.S.appWindow&&(this.S.appWindow.menu.items={},yo(Ai(window.App),this.S.appWindow)),c?(this.cn=w(this.TV,this,b,c),this.ZJ=window.setInterval(this.cn,100),this.h().e(this.S.document,"readystatechange",this.cn,m,window),this.cn(),c&&!Q()&&this.h().e(this.S,"beforeunload",this.mP)):(this.S.document.write(zo()),N(function(){Q()||
this.h().e(this.S,"beforeunload",this.mP);Ao(this,b,c)},20,this))):xo(this,b,c)};p.TV=function(a,b){if(this.cn)try{var c=this.S.document;!this.dF&&c.body&&c.getElementsByTagName("link")[0]&&(window.clearInterval(this.ZJ),this.cn=k,N(function(){Ao(this,a,b)},20,this))}catch(d){}};
function Ao(a,b,c){try{if(!xo(a,b,c)){a.dF=j;var d=a.S.document;if("app"in a.S&&("Win32"==navigator.platform?a.S.onunload=w(a.wH,a):"appWindow"in a.S&&(a.S.appWindow.onclose=w(a.wH,a)),a.Ka)){var f=a.Ka;f&&(a.Ka=f);ao(a)}C(a.S.document.body,"client","client-popup");si&&Bi(a.S);a.qa(d.body);bo(a);a.vj&&(a.pa(a.vj),a.vj=k);b&&b()}}catch(g){}}
function bo(a){"appWindow"in a.S&&(a.S.appWindow.oncontextmenu=function(a){for(var c=t(a.itemByTag(2024)),d=a.items.length-1;0<=d;d--){var f=a.items[d],g=f.tag;f.separator?(0==d||d==a.items.length-1||a.items[d+1].separator)&&a.deleteItemByIndex(d):(7==g||20==g||21==g||9<=g&&11>=g||12==g&&!c||23<=g&&32>=g||40005<=g&&40099>=g)&&a.deleteItemByIndex(d)}(c=a.items)&&c.length&&c[0].separator&&a.deleteItemByIndex(0)})}
function ao(a){if(!Ca(a.Vp)){var b=Vl("window-dimension-"+a.Vp)||{};a.Ka.size.width=b.width?b.width:a.Ka.size.width;a.Ka.size.height=b.height?b.height:a.Ka.size.height;a.Ka.Mk.width=b.minWidth?b.minWidth:a.Ka.Mk.width;a.Ka.Mk.height=b.minHeight?b.minHeight:a.Ka.Mk.height;a.Ka.position=ma(b.x)&&ma(b.y)?new zc(b.x,b.y):k}if(a.Ka&&(so(a,a.Ka),"MacIntel"!=navigator.platform||a.Ka.position))a.Ka.position=a.Ka.position,"appWindow"in a.S&&(t(a.Ka.position)?a.S.appWindow.moveTo(a.Ka.position.x,a.Ka.position.y):
a.S.appWindow.center());"appWindow"in a.S&&(a.S.appWindow.fitToScreen(),window.App.log("Window.prototype.reloadDimensionFromPrefs - displaying the window."),a.S.appWindow.isVisible=j)}function so(a,b){a.Ka.size=b.size;a.Ka.Mk=b.Mk;"appWindow"in a.S&&(a.S.appWindow.setMinContentSize(a.Ka.Mk.width||0,Math.min(a.Ka.Mk.height,600)||0),a.S.appWindow.setStandardSize(a.Ka.size.width||200,a.Ka.size.height||200),a.S.appWindow.resizeTo(a.Ka.size.width||200,a.Ka.size.height||200,m))}
p.S4=function(){this.$L=250;!Ca(this.Vp)&&"appWindow"in this.S&&this.S.appWindow.isVisible&&Wl("window-dimension-"+this.Vp,{x:this.S.appWindow.x,y:this.S.appWindow.y,width:this.S.innerWidth||this.S.document.documentElement.clientWidth||this.S.document.body.clientWidth,height:this.S.innerHeight||this.S.document.documentElement.clientHeight||this.S.document.body.clientHeight})};p.CR=function(){"appWindow"in this.S&&(ma(this.Is)&&clearTimeout(this.Is),this.Is=setTimeout(w(this.S4,this),this.$L))};
p.bringToForeground=function(){Q("appWindow")&&"appWindow"in this.S?(this.S.appWindow.isMiniaturized&&this.S.appWindow.deminiaturize(),this.S.appWindow.isActive=j):this.S.focus()};p.close=function(){this.S.close();this.o()};p.isActive=function(){return"appWindow"in this.S?this.S.appWindow.isActive:this.S.document.hasFocus()};
p.wH=function(){try{var a;this.ib instanceof po&&(a=this.ib);Bo(Ai(window.App),this.z());t(a)&&a.G&&a.o()}catch(b){S("aim.client.ui.Window.onUnload_ - failure to unload the panel for: "+this.Ub)}};
p.mP=function(){try{this.S.document.body.setAttribute("x-closed","true")}catch(a){}wi(this.Ub,this.S);if(this.cn)try{this.cn=k,window.clearInterval(this.ZJ)}catch(b){}if(this.vj){try{this.vj.o()}catch(c){}this.vj=k}var d="";try{d=pa(this),this.wH(),this.o()}catch(f){S("aim.client.ui.Window.onBeforeUnload_ - error fallback force removing intstance: "+d+" for: "+this.Ub),d&&delete co[d]}};p.va=n("S");p.showPopupMenu=function(a,b,c){this.S.appWindow.showPopupMenu(a,b,c)};
p.OG=function(a){var b=a.lc;b&&b.dataTransfer&&(b.dataTransfer.effectAllowed&&(b.dataTransfer.effectAllowed="none"),b.dataTransfer.dropEffect&&(b.dataTransfer.dropEffect="none"));a.stopPropagation();a.preventDefault()};function Co(a){for(;a&&!(a instanceof $n);a=a.getParent());return a}function Do(){var a=window;Cc(co,function(b){b&&b.S&&a!=b.S&&b.S.close()})}function yn(a,b){Cc(co,a,b)}function xn(){var a=[];Cc(co,function(b){a.push(b.va())});return a};


function Eo(a,b,c){V.call(this);this.Aa=a||k;this.u5=!!b;this.V5=!!c;this.qF=m;Fo||(Fo=setInterval(Go,6E4))}z(Eo,V);var Tj=new Date,Fo=k,Ho=new xe;function Go(){Tj=new Date;we(Ho,"aol.ui.Timestamp.UpdateTimestamps")}function Io(){we(Ho,"aol.ui.Timestamp.Refresh")}Eo.prototype.v=function(){Eo.g.v.call(this);this.h().e(Ho,"aol.ui.Timestamp.UpdateTimestamps",w(this.q6,this)).e(Ho,"aol.ui.Timestamp.Refresh",w(this.k2,this));Jo(this)};Eo.prototype.q6=function(){this.qF||Jo(this)};Eo.prototype.k2=function(){Jo(this)};
function Jo(a){if(a.G){a.qF=m;var b="";a.Aa&&(b=Ll.j().get("other","preferences"),b=a.V5&&b&&0==b.viewIMTimestampsRelative?Uj(a.Aa,j):Sj(a.Aa,a.u5));b!=a.c().innerHTML&&(a.c().innerHTML=b,a.c().title=a.Aa?Uj(a.Aa,j):"",a.c().setAttribute("time",a.Aa?a.Aa.getTime():""),Rj.test(b)&&(a.qF=j))}}function Ko(){Fo||(Fo=setInterval(Go,6E4));return Ho}Eo.prototype.setTime=function(a){this.Aa=a||new Date;Jo(this)};

function Lo(a){var b;if(!(b=a.outerHTML))b=document.createElement("div"),b.appendChild(a.cloneNode(j)),b=b.innerHTML;return b}function Mo(a){if(!a)return"";a=a.replace(/([^\w-])/gi,"-");return""==a?a:"-"==a[0]||0<a[0]-0?"_"+a:a}function No(a,b){var c=Re(a,b);!c&&G&&(c=Se(a,b));return c}function Oo(a,b){try{var c=parseInt(No(a,b),10);return isNaN(c)?0:c}catch(d){return R("Could not parse computed style as an int. Returning 0."),0}}
function Po(a){return a.replace(/[&'@:"<>\[\]\(\)\-\\\/]/g," ").replace(/ +/g," ")}function Qo(a){return a?document.createTextNode(a).nodeValue:""};


function Ro(a){this.F=a;this.yO=M(this.F,H?"DOMMouseScroll":"mousewheel",this)}z(Ro,xe);
Ro.prototype.handleEvent=function(a){var b=0,c=0,d=0,a=a.lc;if("mousewheel"==a.type){c=1;if(G||hc&&(bc||I("532.0")))c=40;d=hc&&ac&&0!=-a.wheelDelta%c?-a.wheelDelta:-a.wheelDelta/c;u(a.wheelDeltaX)?(b=hc&&ac&&0!=-a.wheelDeltaX%c?-a.wheelDeltaX:-a.wheelDeltaX/c,c=hc&&ac&&0!=-a.wheelDeltaY%c?-a.wheelDeltaY:-a.wheelDeltaY/c):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),u(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ma(this.JO)&&(b=Math.min(Math.max(b,-this.JO),this.JO));ma(this.KO)&&(c=Math.min(Math.max(c,
-this.KO),this.KO));b=new So(d,a,b,c);try{this.dispatchEvent(b)}catch(f){}finally{b.o()}};Ro.prototype.n=function(){Ro.g.n.call(this);pe(this.yO);delete this.yO};function So(a,b,c,d){b&&this.oc(b,h);this.type="mousewheel";this.detail=a;this.xn=c;this.Kl=d}z(So,be);

function To(){this.Te=[];this.Wf=[];this.kv=[]}z(To,xe);p=To.prototype;p.rF=m;p.sF=m;p.fF=m;p.Ad=function(){e(Error("Call to pure virtual method"))};function Uo(a,b){a.Wf.push(b);b.sF=j;a.rF=j}p.TR=ca("CA");p.oc=function(){if(!this.fF){for(var a,b=0;a=this.Te[b];b++)Vo(this,a);this.fF=j}};function Vo(a,b){a.rF&&(M(b.element,"mousedown",b.ZO,m,b),a.kJ&&C(b.element,a.kJ));a.sF&&a.zJ&&C(b.element,a.zJ)}
function Wo(a,b){a.rF&&(ne(b.element,"mousedown",b.ZO,m,b),a.kJ&&D(b.element,a.kJ));a.sF&&a.zJ&&D(b.element,a.zJ)}function Xo(a){for(var b,c=0;b=a.Te[c];c++)Wo(a,b);a.Te.length=0}
p.Kv=function(a,b){if(!this.Yg){this.Yg=b;var c=new Yo("dragstart",this,this.Yg);if(this.dispatchEvent(c)==m)c.o(),this.Yg=k;else{c.o();var d=b.Pp;this.aq=this.YC(d);c=Rc(d);c.body.appendChild(this.aq);var f=this.aq,g=af(d),d=uf(d,"margin");g.x-=2*(d.left||0);g.y-=2*(d.top||0);f.style.position="absolute";f.style.left=g.x+"px";f.style.top=g.y+"px";this.hc=new dm(f);this.hc.TR(this.CA);M(this.hc,"drag",this.aP,m,this);M(this.hc,"end",this.Rl,m,this);M(c.body,"selectstart",this.AS);this.Mr=[];for(f=
0;c=this.Wf[f];f++)for(var i,g=0;i=c.Te[g];g++)for(var d=c,l=[i.element],q=this.Mr,s=0;s<l.length;s++){var B=l[s],E=af(B),Z=jf(B),E=new Ne(E.y,E.x+Z.width,E.y+Z.height,E.x);q.push(new Zo(E,d,i,B));$o(this,E)}this.il||(this.il=new Ne(0,0,0,0));for(f=0;c=this.kv[f];f++)c.TC=[],c.DR=c.F.scrollLeft,c.ER=c.F.scrollTop,g=af(c.F),d=jf(c.F),c.Da=new Ne(g.y,g.x+d.width,g.y+d.height,g.x);for(f=0;d=this.Mr[f];f++)for(g=0;c=this.kv[g];g++)ud(c.F,d.F)&&(c.TC.push(d),d.jv=c);this.gn=k;for(f=0;c=this.kv[f];f++)M(c.F,
"scroll",this.yL,m,this);this.hc.Kv(a);a.preventDefault()}}};
p.Rl=function(a){var b=a.sV?k:this.gn;if(b&&b.Ha){var c=a.clientX,a=a.clientY,d=Od(J(this.aq)),f=c+d.x,d=a+d.y;this.Rv&&this.Rv(b.ye,b.Da,f,d);var g=new Yo("drag",this,this.Yg,b.Ha,b.ye,b.F,c,a,f,d);this.dispatchEvent(g);g.o();c=new Yo("drop",this,this.Yg,b.Ha,b.ye,b.F,c,a,f,d);b.Ha.dispatchEvent(c);c.o()}b=new Yo("dragend",this,this.Yg);this.dispatchEvent(b);b.o();ne(this.hc,"drag",this.aP,m,this);ne(this.hc,"end",this.Rl,m,this);ne(Rc(this.Yg.Pp).body,"selectstart",this.AS);for(b=0;c=this.kv[b];b++)ne(c.F,
"scroll",this.yL,m,this),c.TC=[];this.hc.o();od(this.aq);delete this.Yg;delete this.aq;delete this.hc;delete this.Mr;delete this.gn};
p.aP=function(a){var b=a.clientX,c=a.clientY,d=Od(J(this.aq)),b=b+d.x,c=c+d.y,d=this.gn,f;if(d){this.Rv&&d.Ha&&(f=this.Rv(d.ye,d.Da,b,c));if(ap(b,c,d.Da)&&f==this.PT)return;if(d.Ha){var g=new Yo("dragout",this,this.Yg,d.Ha,d.ye,d.F);this.dispatchEvent(g);g.o();g=new Yo("dragout",this,this.Yg,d.Ha,d.ye,d.F,h,h,h,h);d.Ha.dispatchEvent(g);g.o()}this.PT=f;this.gn=k}if(ap(b,c,this.il)){a:{for(g=0;d=this.Mr[g];g++)if(ap(b,c,d.Da))if(d.jv){if(ap(b,c,d.jv.Da))break a}else break a;d=k}if((d=this.gn=d)&&d.Ha)this.Rv&&
(f=this.Rv(d.ye,d.Da,b,c)),c=new Yo("dragover",this,this.Yg,d.Ha,d.ye,d.F),c.x$=f,this.dispatchEvent(c),c.o(),a=new Yo("dragover",this,this.Yg,d.Ha,d.ye,d.F,a.clientX,a.clientY,h,h),d.Ha.dispatchEvent(a),a.o();else if(!d){a=b;this.Zg||(this.Zg=new Zo(this.il.Hb()));f=this.Zg.Da;f.top=this.il.top;f.right=this.il.right;f.bottom=this.il.bottom;f.left=this.il.left;for(b=0;g=this.Mr[b];b++){d=g.Da;g.jv&&(g=g.jv.Da,d=new Ne(Math.max(d.top,g.top),Math.min(d.right,g.right),Math.min(d.bottom,g.bottom),Math.max(d.left,
g.left)));g=k;a>=d.right?g=d.right>f.left?d.right:f.left:a<d.left&&(g=d.left<f.right?d.left:f.right);var i=k;c>=d.bottom?i=d.bottom>f.top?d.bottom:f.top:c<d.top&&(i=d.top<f.bottom?d.top:f.bottom);!ia(g)&&!ia(i)&&(Math.abs(g-a)>Math.abs(i-c)?i=k:g=k);ia(g)?ia(i)||(i<=c?f.top=i:f.bottom=i):g<=a?f.left=g:f.right=g}this.gn=10<=(f.right-f.left)*(f.bottom-f.top)?this.Zg:k}}};p.AS=o(m);
p.yL=function(a){for(var b=0,c;c=this.kv[b];b++)if(a.target==c.F){var d=c.ER-c.F.scrollTop,f=c.DR-c.F.scrollLeft;c.ER=c.F.scrollTop;c.DR=c.F.scrollLeft;this.gn==this.Zg&&(0<d?this.Zg.Da.top+=d:this.Zg.Da.bottom+=d,0<f?this.Zg.Da.left+=f:this.Zg.Da.right+=f);for(var g=0,i;i=c.TC[g];g++)i=i.Da,i.top+=d,i.left+=f,i.bottom+=d,i.right+=f,$o(this,i)}this.hc.Fu(a)};
p.YC=function(a){a:{var b=a.cloneNode(j);switch(a.tagName.toLowerCase()){case "tr":a=cd("table",k,cd("tbody",k,b));break a;case "td":case "th":a=cd("table",k,cd("tbody",k,cd("tr",k,b)));break a;default:a=b}}this.tV&&C(a,this.tV);return a};function $o(a,b){if(1==a.Mr.length)a.il=new Ne(b.top,b.right,b.bottom,b.left);else{var c=a.il;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
function ap(a,b,c){return a>=c.left&&a<c.right&&b>=c.top&&b<c.bottom}p.n=function(){To.g.n.call(this);Xo(this)};function Yo(a,b,c,d,f,g,i,l,q,s){L.call(this,a);this.uV=b;this.tD=c;this.vV=d;this.xV=f;this.wV=g;this.clientX=i;this.clientY=l;this.z6=q;this.A6=s}z(Yo,L);Yo.prototype.n=function(){Yo.g.n.call(this);delete this.uV;delete this.tD;delete this.vV;delete this.xV;delete this.wV};function bp(a,b){this.element=Sc(a);this.data=b;this.bb=k;this.element||e(Error("Invalid argument"))}z(bp,xe);p=bp.prototype;
p.Pp=k;p.getData=n("data");p.ZO=function(a){if(de(a)){var b=a.target;b&&(M(b,"mousemove",this.Pq,m,this),M(b,"mouseout",this.Pq,m,this),M(b,"mouseup",this.eG,m,this),this.Pp=b,this.rJ=new zc(a.clientX,a.clientY),a.preventDefault())}};p.Ej=ca("bb");p.Pq=function(a){var b=this.Pp,c="mouseout"==a.type&&a.relatedTarget==b;if(5<Math.abs(a.clientX-this.rJ.x)+Math.abs(a.clientY-this.rJ.y)||c)ne(b,"mousemove",this.Pq,m,this),ne(b,"mouseout",this.Pq,m,this),ne(b,"mouseup",this.eG,m,this),this.bb.Kv(a,this)};
p.eG=function(){var a=this.Pp;ne(a,"mousemove",this.Pq,m,this);ne(a,"mouseout",this.Pq,m,this);ne(a,"mouseup",this.eG,m,this);delete this.rJ;this.Pp=k};function Zo(a,b,c,d){this.Da=a;this.Ha=b;this.ye=c;this.F=d}Zo.prototype.jv=k;

function cp(){To.call(this)}z(cp,To);cp.prototype.Ad=function(a,b){var c=new bp(a,b);c.Ej(this);this.Te.push(c);this.fF&&Vo(this,c)};cp.prototype.removeItem=function(a){for(var a=Sc(a),b,c=0;b=this.Te[c];c++)if(b.element==a){this.Te.splice(c,1);Wo(this,b);break}};

function dp(a,b,c){Of.call(this,c);a||(a=[]);this.vc(a);this.U5=!!b}z(dp,Of);dp.prototype.vc=function(a){dp.g.vc.call(this,a);0>=this.zi&&(this.zi=-1,this.$v=0,this.Zv=k,this.Mb=0,this.cb&&(this.cb.scrollTop=0));ep(this)};dp.prototype.l=function(){this.K(this.ba.createElement("div"))};
dp.prototype.K=function(a){dp.g.K.call(this,a);C(a,"virtual-list");this.cb=this.D().Ia().createElement("div");C(this.cb,"vl-scrollbar un");this.pr=this.D().Ia().createElement("div");C(this.pr,"vl-scrollbar-extent");this.cb.appendChild(this.pr);a.appendChild(this.cb);this.rows=this.D().Ia().createElement("div");this.rows.setAttribute("tabIndex","8");this.rows.setAttribute("role","list");C(this.rows,"vl-rows");this.rows.setAttribute("aria-label","contact list, use arrow keys to navigate the list");
a.appendChild(this.rows)};var fp=bc?30:1,gp=ih?50:5;p=dp.prototype;p.Ve=0;p.oG=0;p.xc=0;p.Mb=0;p.zi=-1;p.$v=0;p.Zv=k;p.Zn=-1;p.Hm=-1;p.jm=k;p.Bj=k;p.$p=k;p.scrollTop=0;p.uh=0;p.ZQ=-1;p.Qx=50;p.rows=k;p.cb=k;p.pr=k;p.Ui=k;p.Iq=k;p.bn=k;p.qf=m;p.Ne=k;p.Pl=m;p.v=function(){dp.g.v.call(this);hp(this);N(this.O5,0,this)};p.$=function(){dp.g.$.call(this);this.Ui.Rd();this.Ui&&(this.Ui.o(),delete this.Ui);this.Iq&&(this.Iq.o(),delete this.Iq);this.bn&&(this.bn.o(),delete this.bn)};
function ep(a){a.Ve=a.H().length;a.Zn=k;a.Hm=k;if(a.G&&0<jf(a.c()).height){if(a.Zv&&a.Zv!=ip(a,a.zi)){var b=a.nt(a.Zv);b&&(a.zi=b,a.cb.scrollTop=jp(a,b)+a.rows.scrollTop,kp(a,a.cb.scrollTop))}a.mi()}}p.O5=function(){this.G&&(this.cb.style.width=lp(this)+"px",ep(this))};
function hp(a){a.Ui=new Kf(a);var b=a.c();a.Iq=new Ie(b);a.bn=new Ro(b);b=bd(b.ownerDocument||b.document)||window;a.Ui.e(a.Iq,"key",a.aH).e(a.bn,"mousewheel",a.w1).e(b,"resize",a.x2).e(a.cb,"scroll",a.A2).e(a.c(),"mousedown",a.Au).e(a.c(),"mouseup",a.u1).e(a.c(),"dblclick",a.Q_);a.U5&&(a.Ne&&a.Ne.o(),a.Ne=new cp,Uo(a.Ne,a.Ne),a.Ne.oc(),a.Ui.e(a.Ne,["dragover","dragout","drop","dragstart","dragend"],a.R_).e(mp(),"key",w(function(a){var b=this.Ne.hc;b&&b.Rl(a.lc,j)},a)))}
p.mi=function(){this.xc=jf(this.c()).height;this.uh=this.dE();this.qf=j;this.scroll();if(this.uh<this.xc)this.cb.style.width="0px";else{var a=lp(this);G&&(a++,this.cb.style.marginLeft="-1px");this.cb.style.width=a+"px"}};p.scroll=function(){var a=np(this);this.zi=a.index;this.$v=a.rj;this.Zv=a.id;this.G&&0<this.xc&&(this.pr.style.height!=this.uh+"px"&&(this.pr.style.height=this.uh+"px"),this.cb.scrollTop!=this.Mb&&(this.cb.scrollTop=this.Mb));this.Zf()};
p.dE=function(){var a=0;0!=this.Ve&&(a=this.Nw()?this.Ve*this.Qx:jp(this,this.Ve-1)+this.kg(this.Ve-1));return a};function np(a){var b=k;if(a.Nw())var b=Math.floor(a.Mb/a.Qx),c=jp(a,b),d=ip(a,b),b={index:b,rj:c,id:d};else{b=0;for(c=a.kg(b);c<a.Mb&&b<a.H().length;)c+=a.kg(++b);d=ip(a,b);b={index:b,rj:c-a.kg(b),id:d}}return b}function jp(a,b){var c=0;if(a.Nw())c=b*a.Qx;else for(var d=0;d<b;d++)c+=a.kg(d);return c}
p.Zf=function(){var a="",b=this.zi,c=this.$v;if(!this.qf&&0<c&&this.uh-c<this.xc)this.cb.scrollTop=this.uh-this.xc;else{var d=this.Mb+this.xc;if(this.qf||this.ZQ!=this.zi){this.oG=0;var f=this.kg(b);f>this.xc&&(f=this.xc);for(;c<d+f&&b<this.Ve;){var g=this.kg(b),i=0;ip(this,b)==this.jm&&(i|=1);ip(this,b)==this.Bj&&(i|=2);var l=c-this.Mb,q=0;this.$p&&l<this.$p.y&&this.$p.y<l+g&&(q|=8,l+=g/2,q|=this.DC(b)&&this.$p.y<l?16:32);i|=q;a+=this.iE(b,i,g);c+=g;b++;this.oG++}this.rows.innerHTML!=a&&(b=document.activeElement==
this.rows,c=this.rows,d=c.cloneNode(m),d.innerHTML=a,c.parentNode.replaceChild(d,c),d.setAttribute("aria-label","contact list, use arrow keys to navigate the list"),b&&d.focus(),this.rows=d,this.ZQ=this.zi,this.qf=m)}this.rows.scrollTop=this.Mb-this.$v}if(this.Ne){Xo(this.Ne);a=rd(this.rows);for(b=0;b<a.length;b++)this.Ne.Ad(a[b],a[b].nodeValue)}};
p.iE=function(a,b){var c="Item with id: "+ip(this,a);return"<div class='vl-item"+(b&1?" highlighted":"")+(b&2?" selected":"")+"' style=''>  <div style='position: absolute; top: 0px; height: 1px; width: 100%; background-color: black;'></div>  <div style='float: left'>"+c+"</div>  <div style='float: right'>"+c+"</div>  <div style='overflow: hidden; border: solid black 1px; text-align: center'>"+c+"</div></div>"};
function ip(a,b){if(0>b||b>=a.H().length)return k;var c=a.H()[b];return c.id!==h?c.id:c}p.nt=function(a){var b=k;if(a!==k)for(var c=0;c<this.H().length;c++){var d=ip(this,c);if(d&&d==a){b=c;break}}return b};p.kg=n("Qx");function kp(a,b){a.Mb=b;0>a.Mb?a.Mb=0:a.Mb+a.xc>a.uh&&(a.Mb=a.xc>a.uh?0:a.uh-a.xc)}p.Uh=o(j);p.Nw=o(j);
function op(a,b,c){if(t(b)&&0<=b&&b<a.Ve){var d=ip(a,b);a.jm!=d&&a.Uh(b)&&(a.Zn=b,a.jm=d,a.qf=j,c?a.scrollIntoView(pp(a)):a.Zf(),(a=a.H()[b])&&a.mk&&qp(rp.j(),a.mk()))}else a.Zn=a.Hm,a.jm=a.Bj,a.qf=j,a.Zf()}function sp(a){for(var b=0;b<a.Ve;b++)if(a.Uh(b,j)){op(a,b,j);break}}
function tp(a,b,c){op(a,b,c);if(0<=b&&b<a.Ve){var d=ip(a,b),f=a.H()[b];a.Bj!=d&&a.Uh(b)&&(a.Hm=b,a.Bj=d,a.qf=j,c?a.scrollIntoView(a.Qn()):a.Zf(),f&&a.dispatchEvent({type:"select",index:a.Qn(),item:f,id:a.Bj}));a.Nz(f,b)}else a.Hm=-1,a.Bj=k,a.qf=j,a.Zf()}p.Nz=ba();p.scrollIntoView=function(a){if(this.G){var b=jp(this,a);if(b<this.Mb)this.Mb=this.cb.scrollTop=b;else{var c=this.Mb+this.xc,a=this.kg(a);b+a>c?this.Mb=this.cb.scrollTop=b-this.xc+a:this.Zf()}}};
function up(a,b,c){for(;b&&b!=a.c()&&!F(b,c);)b=b.parentNode;c=b?ub(a.rows.childNodes,function(a){return a.id==b.id}):-1;return-1<c?c+a.zi:-1}p.DC=o(j);function vp(a,b){var c=-1,d=np(a);if(d){var f=d.index,g=ff(a.c()).x,i=ff(a.c()).y,l=a.c().offsetWidth,q=a.c().offsetHeight;if(b.x>g&&b.x<g+l&&b.y>i&&b.y<i+q){g=a.Mb-a.$v;for(l=a.H().length;f<l;f++){var q=jp(a,f),s=a.kg(f),B=b.y+d.rj+g-i;if(q+s>B){c=a.DC(f)&&B-q<s/2?f:f+1;break}}}}return c}p.mt=o("vl-item");
function pp(a){if(ia(a.Zn)&&t(a.jm)){a.Zn=-1;var b=a.nt(a.jm);t(b)&&(a.Zn=b)}return a.Zn}p.Qn=function(){if(ia(this.Hm)&&t(this.Bj)){this.Hm=-1;var a=this.nt(this.Bj);t(a)&&(this.Hm=a)}return this.Hm};p.uE=function(){return jf(this.c()).height};
p.aH=function(a){if(this.G&&0<this.uE()){var b=0,b=m;switch(a.keyCode){case 13:case 32:b=pp(this);tp(this,b,j);this.YG(this.H()[b],b);b=j;break;case 40:for(b=pp(this)+1;b<this.Ve;b++)if(this.Uh(b)){op(this,b,j);break}b=j;break;case 38:if(-1==pp(this))this.cb.scrollTop-=fp;else for(b=pp(this)-1;0<=b;b--)if(this.Uh(b)){op(this,b,j);break}b=j;break;case 34:if(-1==pp(this))this.cb.scrollTop+=this.xc;else{this.Mb=jp(this,pp(this));this.scroll();if(this.Mb+this.xc>=this.uh)b=this.Ve-1;else for(var c=this.Mb+
this.xc,b=pp(this)+1;b<this.Ve;b++)if(jp(this,b)+this.kg(b)>c){b-1!=pp(this)&&(b-=1);break}for(;b<this.Ve;b++)if(this.Uh(b)){op(this,b,j);break}}b=j;break;case 33:if(-1==pp(this))this.cb.scrollTop-=this.xc;else{this.Mb=jp(this,pp(this))-this.xc+this.kg(this.Qn());0>this.Mb&&(this.Mb=0);this.scroll();b=this.zi;for(0!=b&&b+1!=pp(this)&&(b+=1);b<pp(this);b++)if(this.Uh(b)){op(this,b,j);break}}b=j;break;case 36:this.Mb=0;this.scroll();if(-1!=pp(this))for(b=0;b<this.Ve;b++)if(this.Uh(b)){op(this,b,j);
break}b=j;break;case 35:if(-1==pp(this))this.cb.scrollTop=this.uh-this.xc;else if(0<this.Ve)for(b=this.Ve-1;0<=b;b--)if(this.Uh(b)){op(this,b,j);break}b=j}b&&(a.preventDefault(),a.stopPropagation())}};p.w1=function(a){kp(this,this.Mb+a.Kl/3*(ac?gp:fp));this.scroll();a.preventDefault()};function wp(a){if(a.G){var b=jf(a.c()).height;0<b&&b!=a.xc&&(a.xc=b,a.qf=j,a.scroll())}}p.x2=function(a){wp(this);a.preventDefault()};p.A2=function(a){kp(this,this.cb.scrollTop);this.scroll();a.preventDefault()};
p.Au=function(a){this.pO=ip(this,up(this,a.target,this.mt()))};p.oO=0;p.Z5=400;function xp(a,b){b?a.FS=j:N(function(){this.FS=m},a.Z5,a)}p.u1=function(a){if(!this.FS||400<x()-this.oO)this.oO=x(),this.pO&&this.pO==ip(this,up(this,a.target,this.mt()))&&this.uu(a)};p.uu=function(a){if(!this.Kh){var b=up(this,a.target,this.mt());this.Uh(b)&&(N(w(function(){try{this.c().focus()}catch(a){}},this),0),tp(this,b,j),this.H());a.stopPropagation();a.preventDefault();a.lc.returnValue=m}};
p.Q_=function(a){var b=up(this,a.target,this.mt());this.YG(this.H()[b],b);a.stopPropagation();a.preventDefault();a.lc.returnValue=m};p.YG=ba();p.n=function(){this.bn&&(this.bn.o(),this.bn=k);this.Ui&&(this.Ui.o(),this.Ui=k);this.pr=this.cb=this.rows=k;dp.g.n.call(this)};gg("virtual-list",function(){return new dp(k)});p=dp.prototype;p.uI=k;
function lp(a){var b=0;if(a.G&&0<a.xc&&a.uh<a.xc)b=0;else{if(!dp.prototype.uI){var c=a.D().l("P");c.style.width="100%";c.style.height="200px";b=a.D().l("DIV");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.visibility="hidden";b.style.width="200px";b.style.height="150px";b.style.overflow="hidden";a.D().appendChild(b,c);a.D().appendChild(document.body,b);a=c.offsetWidth;b.style.overflow="scroll";c=c.offsetWidth;a==c&&(c=b.clientWidth);dp.prototype.uI=a-c||0;b.parentNode.removeChild(b)}b=
dp.prototype.uI}return b}p.bN=ba();p.hL=o(m);p.lF=o(m);
p.R_=function(a){switch(a.type){case "dragstart":var b=a.tD.element;this.hL(b)?(this.Kh=j,C(this.c(),"dragging"),mf(b,0.6),b.style.width=No(b,"width")):a.preventDefault();break;case "dragend":this.Kh=this.Pl=m;D(this.c(),"dragging");this.$p=k;this.qf=j;ep(this);this.h().M(this.Ne.hc,"drag",this.Ez);break;case "dragover":se(this.Ne.hc,"drag",this.Ez,m,this)||this.h().e(this.Ne.hc,"drag",this.Ez);break;case "dragout":this.Pl=m;break;case "drop":this.Pl=m}this.bN(a)};
p.Ez=function(a){var b=a.top,c=ff(this.c()).y,d=this.c().offsetHeight;b<c+40?(this.Pl=j,kp(this,this.cb.scrollTop-20),this.scroll()):b>c+d-40?(this.Pl=j,kp(this,this.cb.scrollTop+20),this.scroll()):this.Pl=m;var b=ff(this.c()),c=this.c().offsetWidth,d=this.c().offsetHeight,f=new zc(a.clientX,a.clientY);this.$p=f.x>b.x&&f.x<b.x+c&&f.y>b.y&&f.y<b.y+d?new zc(f.x-b.x,f.y-b.y):k;this.qf=j;ep(this);b=vp(this,new zc(f.x,f.y));if(d=this.Ne.hc.target)b=-1<b&&this.lF(b,d),d.style.cursor=b?"none":"no-drop";
this.Pl&&N(w(function(a){this.Pl&&this.Ez(a)},this,a),200)};

function yp(a,b,c){dp.call(this,a,b,c)}z(yp,dp);yp.prototype.Pe=n("Iq");function zp(a,b){this.id=b;this.height=a}function Ap(a,b,c,d){zp.call(this,b||27,a);this.xf=a;this.bJ=!!c;this.XF=d||""}z(Ap,zp);Ap.prototype.pk=n("xf");

function Bp(a,b,c){c=c||J();a=a(b||Cp,h,h);return hd(c.Xb,a)}var Cp={};

function Dp(){this.W=Ep;this.ED=this.startTime=k}z(Dp,xe);var Ep=0;Dp.prototype.su=function(){this.Si("begin")};Dp.prototype.Gz=function(){this.Si("end")};Dp.prototype.QG=function(){this.Si("finish")};Dp.prototype.Si=function(a){this.dispatchEvent(a)};

var Fp={},Gp=k;function Hp(a){a=pa(a);delete Fp[a];Hc(Fp)&&Gp&&(Be(Gp),Gp=k)}function Ip(){Gp||(Gp=N(function(){Gp=k;Jp()},20))}function Jp(){var a=x();Cc(Fp,function(b){Kp(b,a)});Hc(Fp)||Ip()};

function Lp(a,b,c,d){Dp.call(this);(!ja(a)||!ja(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.Lv=a;this.FV=b;this.duration=c;this.zK=d;this.coords=[]}z(Lp,Dp);p=Lp.prototype;p.Sf=0;
p.play=function(a){if(a||this.W==Ep)this.Sf=0,this.coords=this.Lv;else if(1==this.W)return m;Hp(this);this.startTime=a=x();-1==this.W&&(this.startTime-=this.duration*this.Sf);this.ED=this.startTime+this.duration;this.Sf||this.su();this.Si("play");-1==this.W&&this.Si("resume");this.W=1;var b=pa(this);b in Fp||(Fp[b]=this);Ip();Kp(this,a);return j};p.stop=function(a){Hp(this);this.W=Ep;a&&(this.Sf=1);Mp(this,this.Sf);this.Si("stop");this.Gz()};p.pause=function(){1==this.W&&(Hp(this),this.W=-1,this.Si("pause"))};
p.SR=function(a){this.Sf=a;1==this.W&&(this.startTime=x()-this.duration*this.Sf,this.ED=this.startTime+this.duration)};p.n=function(){this.W==Ep||this.stop(m);this.Si("destroy");Lp.g.n.call(this)};function Kp(a,b){a.Sf=(b-a.startTime)/(a.ED-a.startTime);1<=a.Sf&&(a.Sf=1);Mp(a,a.Sf);1==a.Sf?(a.W=Ep,Hp(a),a.QG(),a.Gz()):1==a.W&&a.ru()}function Mp(a,b){na(a.zK)&&(b=a.zK(b));a.coords=Array(a.Lv.length);for(var c=0;c<a.Lv.length;c++)a.coords[c]=(a.FV[c]-a.Lv[c])*b+a.Lv[c]}p.ru=function(){this.Si("animate")};
p.Si=function(a){this.dispatchEvent(new Np(a,this))};function Np(a,b){L.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.duration=b.duration;this.Sf=b.Sf;this.state=b.W}z(Np,L);

var Op={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};

function Pp(a){var b={},a=""+a,c="#"==a.charAt(0)?a:"#"+a;if(Qp.test(c))return b.py=Rp(c),b.type="hex",b;a:{var d=a.match(Sp);if(d){var c=Number(d[1]),f=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=f&&255>=f&&0<=d&&255>=d){c=[c,f,d];break a}}c=[]}if(c.length)return f=c[0],a=c[1],c=c[2],f=Number(f),a=Number(a),c=Number(c),(isNaN(f)||0>f||255<f||isNaN(a)||0>a||255<a||isNaN(c)||0>c||255<c)&&e(Error('"('+f+","+a+","+c+'") is not a valid RGB color')),f=Tp(f.toString(16)),a=Tp(a.toString(16)),c=Tp(c.toString(16)),
b.py="#"+f+a+c,b.type="rgb",b;if(Op&&(c=Op[a.toLowerCase()]))return b.py=c,b.type="named",b;e(Error(a+" is not a valid color string"))}var Up=/#(.)(.)(.)/;function Rp(a){Qp.test(a)||e(Error("'"+a+"' is not a valid hex color"));4==a.length&&(a=a.replace(Up,"#$1$1$2$2$3$3"));return a.toLowerCase()}var Qp=/^#(?:[0-9a-f]{3}){1,2}$/i,Sp=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Tp(a){return 1==a.length?"0"+a:a};

function Vp(a,b,c,d,f){Lp.call(this,b,c,d,f);this.element=a}z(Vp,Lp);Vp.prototype.Tr=fa;Vp.prototype.ru=function(){this.Tr();Vp.g.ru.call(this)};Vp.prototype.Gz=function(){this.Tr();Vp.g.Gz.call(this)};Vp.prototype.su=function(){this.Tr();Vp.g.su.call(this)};function Wp(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));Vp.apply(this,arguments)}z(Wp,Vp);
Wp.prototype.Tr=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Xp(a,b,c,d,f){(2!=b.length||2!=c.length)&&e(Error("Start and end points must be 2D"));Vp.apply(this,arguments)}z(Xp,Vp);Xp.prototype.Tr=function(){this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};
function Yp(a,b,c,d,f){ma(b)&&(b=[b]);ma(c)&&(c=[c]);Vp.call(this,a,b,c,d,f);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}z(Yp,Vp);Yp.prototype.Tr=function(){mf(this.element,this.coords[0])};Yp.prototype.show=function(){this.element.style.display=""};Yp.prototype.Ib=function(){this.element.style.display="none"};function Zp(a,b,c){Yp.call(this,a,1,0,b,c)}z(Zp,Yp);function $p(a,b,c){Yp.call(this,a,0,1,b,c)}z($p,Yp);function aq(a,b,c){Yp.call(this,a,0,1,b,c)}z(aq,Yp);
aq.prototype.su=function(){this.show();aq.g.su.call(this)};

function bq(a,b,c){this.Gm=[];this.Fm={};dp.call(this,a,b,c)}z(bq,yp);p=bq.prototype;p.ZI=j;p.K=function(a){bq.g.K.call(this,a);C(a,"accordion-list");var a=this.D().Ia(),b=this.c();this.Bh=a.createElement("div");C(this.Bh,"top-fixed-headers");this.Bh.setAttribute("aria-hidden","true");b.appendChild(this.Bh);this.Pg=a.createElement("div");C(this.Pg,"bottom-fixed-headers");this.Pg.setAttribute("aria-hidden","true");b.appendChild(this.Pg)};
function cq(a,b){if(a.ZI){var c=pb(b,function(a){return a instanceof Ap},a);c.length!=a.Gm.length&&(dq(a),A(c,function(a){if(!this.Fm[a.id]){var b=new eq(a);this.Fm[a.id]=b;this.Gm.push(b);a=this.D().Ia().createElement("div");a.innerHTML=fq(this,b.getItem());a=a.firstChild;b.ce=b.ce||a.cloneNode(j);b.Hd=b.Hd||a.cloneNode(j)}},a),A(a.Gm,a.SX,a))}}function dq(a){kd(a.Bh);kd(a.Pg);A(a.Gm,function(a){a&&(this.h().M(a,gq,this.rH),a.o())},a);a.Gm=[];a.Fm={}}
p.SX=function(a){this.h().M(a,gq,this.rH);a.o();this.Bh.appendChild(a.ce);this.Pg.appendChild(a.Hd);A([a.ce,a.Hd],a.iU,a);hq(a.ce);hq(a.Hd);this.h().e(a,gq,this.rH)};p.Yd=function(){D(this.c(),"off")};p.rH=function(a){iq(this,a.target)};function iq(a,b){if(b){var c=jp(a,jq(a,b)),d=27*mb(a.Gm,b),c=new Xp(a.cb,[0,a.cb.scrollTop],[0,c-d||0],100);Mf(a.h(),c,"end",a.gz);c.play()}}
p.uu=function(a){if(!F(a.target,"aimlist-item-header-menu")){var b=up(this,a.target,"accordion-list-header");if(0>b){var c=Ld(a.target,"accordion-list-header");c&&(b=this.H(),b=ub(b,function(a){return a instanceof kq&&F(c,a.id.replace(/ /g,""))},this))}0<=b&&(b=this.H()[b])&&iq(this,this.Fm[b.id])}bq.g.uu.call(this,a)};function jq(a,b){var c=a.H();return ub(c,function(a){return a.id==b.z()},a)}p.gz=function(){A(this.Gm,this.KY,this)};
p.KY=function(a){if(a){a.z();var b=this.zi,c=b+this.oG-1,d=jq(this,a);d<=b&&(D(a.ce,"gone"),hq(a.Hd));c<=d&&(D(a.Hd,"gone"),hq(a.ce));if(b<d&&d<c&&(c=a.oy)){var b=ff(c).y,d=jf(c).height,f=!F(a.Hd,"gone"),c=ff(a.ce).y,d=ff(a.Hd).y-(f?0:d);b<c?(D(a.ce,"gone"),hq(a.Hd)):b>d?(D(a.Hd,"gone"),hq(a.ce)):(hq(a.ce),hq(a.Hd))}}else S("Could not display section header; it's missing!")};
p.Zf=function(){bq.g.Zf.call(this);cq(this,this.H());var a=this.D().Zi("aimlist-item-header",this.rows);A(this.Gm,function(b){var c=tb(a,function(a){return F(a,(b.z()+"").replace(" ",""))});c&&lq(b,c);mq(this,b)},this);this.gz()};
p.scrollIntoView=function(a){if(this.G){var b=jp(this,a),c=this.Bh.offsetHeight;if(b<this.Mb+c){if(b-=c,0>b&&(b=0),this.Mb!=this.cb.scrollTop||this.cb.scrollTop!=b)this.Mb=this.cb.scrollTop=b}else{var c=this.Pg.offsetHeight,d=this.Mb+this.xc-c,a=this.kg(a);if(b+a>d){if(b=b-this.xc+a+c,0>b&&(b=0),this.Mb!=this.cb.scrollTop||this.cb.scrollTop!=b)this.Mb=this.cb.scrollTop=b}else this.Zf()}}};
p.jE=function(){var a=tb(this.rows.childNodes,function(a){return!F(a,"accordion-list-header")});if(!a)return 0;var a=jf(a).width,b=jf(this.c()).width;return a+lp(this)>b?a-lp(this):a};function mq(a,b){if(!b.n$&&a.rows.firstChild){var c=a.jE();0>=c||A([a.Bh,a.Pg,b.ce,b.Hd],function(a){a&&Pe(a,"width",c+"px")})}}p.iE=function(a,b){var c=this.H()[a];return c instanceof Ap?fq(this,c):Lo(Bp(nq,{content:c.id,selected:b&2},this.ba))};
function fq(a,b){return Lo(Bp(oq,{id:b.id?b.id.replace(" ",""):"",title:b.pk(),QO:b.XF},a.ba))}function eq(a){Hl.call(this);this.ye=a;this.ya=a.id}z(eq,Hl);function lq(a,b){a.oy=b;a.oy&&C(b,"accordion-list-header")}p=eq.prototype;p.n=function(){eq.g.n.call(this);this.oy&&od(this.oy);pq(this)};function pq(a){J();a.ce&&od(a.ce);a.Hd&&od(a.Hd)}p.o=function(){pq(this);A([this.ce,this.Hd],this.XS,this);eq.g.o.call(this)};p.XS=function(a){this.h().M(a,"click",this.Kb)};
p.iU=function(a){this.XS(a);this.h().e(a,"click",this.Kb)};p.Kb=function(a){F(a.target,"aimlist-item-header-menu")||this.dispatchEvent(new qq)};function hq(a){C(a,"gone")}p.getItem=n("ye");p.z=n("ya");var gq="aol-ui-VirtualAccordionEventType-SELECT";function qq(){L.call(this,gq)}z(qq,L);

function rq(a,b){this.Hl=a instanceof zc?a:new zc(a,b)}z(rq,Ff);rq.prototype.Xc=function(a,b,c,d){var f=Xe(a);zf(f,0,a,b,new zc(this.Hl.x+f.scrollLeft,this.Hl.y+f.scrollTop),c,k,d)};

function sq(a,b){rq.call(this,a,b)}z(sq,rq);sq.prototype.xo=0;sq.prototype.TA=ca("xo");sq.prototype.Xc=function(a,b,c,d){var f=Xe(a),f=$e(f),g;g=J(a);g=ad(g.Xb);g=new zc(this.Hl.x+g.scrollLeft,this.Hl.y+g.scrollTop);var i=b,l=Af(g,a,i,c,f,10,d);if(0!=(l&496)){if(l&16||l&32)i^=2;if(l&64||l&128)i^=1;l=Af(g,a,i,c,f,10,d);0!=(l&496)&&Af(g,a,b,c,f,this.xo,d)}};

function tq(a,b){Ug.call(this,a,b);Vg(this,j);this.L(m,j);this.Wf=new Ch}z(tq,Ug);p=tq.prototype;p.EJ=m;p.mO=0;p.K=function(a){tq.g.K.call(this,a);(a=a.getAttribute("for")||a.htmlFor)&&this.Fh(this.D().c(a),1)};p.v=function(){tq.g.v.call(this);uh(this.Wf,this.SK,this);var a=this.h();a.e(this,"action",this.Tq);a.e(this.D().Ia(),"mousedown",this.yP,j);hc&&a.e(this.D().Ia(),"contextmenu",this.yP,j)};
p.Fh=function(a,b,c,d,f){if(!a||!this.Wf.Dd(pa(a)))a?(b={F:a,CS:b,TY:c,Rs:d?"contextmenu":"click",SF:f},this.Wf.set(pa(a),b),a=b):a=k,this.G&&this.SK(a)};p.SK=function(a){this.h().e(a.F,a.Rs,this.GQ)};p.detach=function(a){(!a||!this.Wf.Dd(pa(a)))&&e(Error("Menu not attached to provided element, unable to detach."));a=pa(a);if(this.G){var b=this.Wf.get(a);this.h().M(b.F,b.Rs,this.GQ)}this.Wf.remove(a)};
function uq(a,b,c,d){var f=a.isVisible();a.Rt()&&a.EJ?a.Ib():a.dispatchEvent("beforeshow")&&(c="undefined"!=typeof c?c:4,f||(a.c().style.visibility="hidden"),O(a.c(),j),b.Xc(a.c(),c,d),f||(a.c().style.visibility="visible"),a.gd(-1),a.L(j))}p.cB=function(a,b,c){b=u(a.CS)?new Hf(a.F,a.CS,j):new sq(b,c);b.TA&&b.TA(5);uq(this,b,a.TY,a.SF)};p.Ib=function(){this.isVisible()&&(this.L(m),this.isVisible()||(this.mO=x()))};p.Rt=function(){return this.isVisible()||150>x()-this.mO};p.Tq=function(){this.Ib()};
p.GQ=function(a){for(var b=this.Wf.Qe(),c=0;c<b.length;c++){var d=this.Wf.get(b[c]);if(d.F==a.currentTarget){this.cB(d,a.clientX,a.clientY);a.preventDefault();a.stopPropagation();break}}};p.yP=function(a){this.isVisible()&&!this.Gl(a.target)&&this.Ib()};p.ej=function(a){tq.g.ej.call(this,a);this.Ib()};p.n=function(){tq.g.n.call(this);this.Wf&&(this.Wf.clear(),delete this.Wf)};

function vq(a,b,c){bq.call(this,a,b,c)}z(vq,bq);p=vq.prototype;p.Zk=k;p.wd="normal";p.Mo=j;p.v=function(){vq.g.v.call(this);this.h().e(Ko(),"aol.ui.Timestamp.UpdateTimestamps",this.j2).e(document,"mousedown",this.Z3).e(this.c(),"mousedown",this.J2);ep(this)};p.mt=o("aimlist-item");p.Nw=o(m);p.kg=function(a){var b=0;(a=this.H()[a])&&a instanceof wq&&"normal"!=this.wd?b=33:a&&(b=a.height);return b};p.Cg=ca("wd");p.xr=ca("Mo");
p.Uh=function(a,b){var c=this.H()[a];return c&&(c instanceof xq||c instanceof wq||c instanceof yq&&!b||c instanceof zq||c instanceof Aq)};p.j2=function(){this.qf=j;ep(this)};
p.iE=function(a,b){var c="",d=this.H()[a];if(d instanceof wq){var c=d.V.Sa(),f=d.timestamp,g=ik(d.message||"");Ba(g)&&d.om===Bq&&(f=k);c.icon=Cq(c.icon);var i=d.V.aa(),l=d.V.Yw()?d.V.m():d.V.R(),q=b&1,s=b&2,B=d.kq,E=d.count,Z=d.om,T=f?Sj(f,h):k,f=f?Uj(f):k,gb=d.ZD||!d.V.Mc()||d.V.aa(),d=d.mk(),Cv=new W;Cv.append("<div class='aimlist-item chat-item",E?" has-unread":""," ",X(c.state),q?" highlighted":"",s?" selected":"","' id=\"chat_",X(c.cc),'" title="',X(l),'" role="listitem" aria-label="',X(d),'"><div class="aimlist-item-buddyicon-div" aria-hidden="true">',
i?'<img class="aimlist-item-buddyicon isGroupChat" src="'+X(c.icon)+'" onerror="aim.ui.iconFail.Handle(this)" alt=""/>':'<img class="aimlist-item-buddyicon" src="'+X(c.icon)+'" onerror="aim.ui.iconFail.Handle(this)" alt=""/><div class="sprite user-stateicon '+X(c.Xp)+'"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="'+X(c.Xp)+'"/></div>',"</div>",E?'<div class="recentchat-item-unread-marker" aria-hidden="true"></div>':"",'<div class="recentchat-item-container-top"><div class="aimlist-item-name-block"><div class="aimlist-item-name">',
i?'<div class="aimlist-item-groupicon"></div>':"",X(c.Pa),"</div></div>","invite"==Z||"google-invite"==Z?'<div class="aimlist-item-count" aria-hidden="true">NEW</div>':E?'<div class="aimlist-item-count" aria-hidden="true">'+X(E)+"</div>":"",gb?'<div class="aimlist-item-timestamp-div" aria-hidden="true"><span class="aimlist-item-timestamp" title="'+(f?X(f):"")+'">'+(T?X(T):"")+"</span></div>":"","</div>",gb?'<div class="aimlist-item-message-div" aria-hidden="true">'+(B?'<div class="aimlist-item-message-reply-div"></div>':
"")+("tweet"==Z?'<div class="aimlist-item-tweet"></div><span class="aimlist-item-message">Tweet</span>':"video"==Z?'<div class="aimlist-item-video"></div><span class="aimlist-item-message">Video</span>':"image"==Z?'<div class="aimlist-item-image"></div><span class="aimlist-item-message">Image</span>':"photo"==Z?'<div class="aimlist-item-image"></div><span class="aimlist-item-message">Image</span>':"file"==Z?'<div class="aimlist-item-file"></div><span class="aimlist-item-message">'+(g?X(g):"File")+
"</span>":"voice"==Z?'<div class="aimlist-item-voice"></div><span class="aimlist-item-message">'+(g?X(g):"Voice message")+"</span>":"invite"==Z?'<div class="aimlist-item-invite"></div><span class="aimlist-item-message">'+(g?X(g):"Group Chat Invite")+"</span>":"google-invite"==Z?'<span class="aimlist-item-message">Google Chat Invite</span>':'<span class="aimlist-item-message">'+(g?!g?g:g.replace(mk,nk):"")+"</span>")+"</div>":"",'<div class="aimlist-item-actionicon close" aria-hidden="true"></div></div>');
c=Cv.toString()}else d instanceof xq?(c=d.V.Sa(),g=d.V.aa(),c.icon=Cq(c.icon),l=xa(d.id||"","search_"),i=!l&&!Dq(d.V)&&!g||xa(d.id||"","favorites_"),l=!l&&!Dq(d.V)&&!g,q=d.id,s=d.V.Yw()?d.V.m():d.V.R(),B=b&1,E=b&2,Z=b&8,T=b&16,f=b&32,d=d.mk(),gb=new W,gb.append('<div class="aimlist-item user-item ',X(c.state),B?" highlighted":"",E?" selected":"",Z?" dragOver":"",T?" dragOverTop":"",f?" dragOverBottom":"",g?" groupchat":"",i?" can-delete":"",'" id="',X(q),'" title="',X(s),'" role="listitem" aria-label="',
X(d),'"><div class="aimlist-item-buddyicon-div" aria-hidden="true"><img class="aimlist-item-buddyicon',g?" isGroupChat":"",'" src="',X(c.icon),'" onerror="aim.ui.iconFail.Handle(this)" alt=""/></div><span class="aimlist-item-name-block">',X(c.Pa),"</span>",l?'<div class="aimlist-item-edit" title="Edit" aria-hidden="true"></div>':"",c.nv?'<span class="aimlist-item-service" aria-hidden="true">'+X(c.nv)+"</span>":"",'<div class="sprite user-stateicon ',X(c.Xp),i?" aimlist-item-close":"",'" aria-hidden="true"><img src="',
X(P()),'common/spritelo/LoSprite.png" alt="',X(c.Xp),'"/></div></div>'),c=gb.toString()):d instanceof Aq?(c=d.V.Sa(),c.icon=Cq(c.icon),g=d.id,i=d.V.aa(),l=d.V.Yw()?d.V.m():d.V.R(),q=b&1,s=b&2,d=!Dq(d.V),B=b&8,E=b&16,Z=b&32,T=new W,T.append('<div class="aimlist-item user-item ',X(c.state),q?" highlighted":"",s?" selected":"",B?" dragOver":"",E?" dragOverTop":"",Z?" dragOverBottom":"",i?" groupchat":"",d?" can-delete":"",'" role="listitem" id="',X(g),'" title="',X(l),'"><div class="aimlist-item-buddyicon-div"><img class="aimlist-item-buddyicon',
i?" isGroupChat":"",'" src="',X(c.icon),'" onerror="aim.ui.iconFail.Handle(this)" alt=""/></div><div class="mdir-item-topline"><span class="aimlist-item-name-block">',X(c.Pa),"</span>","sms"==c.type?'<div class="aimlist-item-edit" title="Edit"></div>':"",c.nv?'<span class="aimlist-item-service">'+X(c.nv)+"</span>":"",c.yb?'<div class="sprite user-stateicon '+X(c.Xp)+' aimlist-item-close"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="'+X(c.Xp)+'"/></div>':"",'</div><span class="mdir-item-bottomline">',
X(c.cc),"</span></div>"),c=T.toString()):d instanceof Eq?(d=new W,d.append('<div class="aimlist-item user-item title="Searching..." role="listitem"><div class="aimlist-item-buddyicon-div"><img src="',X(P()),'common/images/ajax-medium-transparent.gif" alt=""/></div><span class="aimlist-item-name-block mdir-search">Searching...</span></div>'),c=d.toString()):d instanceof yq?(c=d.id,g=d.group.Sa(),i=b&1,l=b&8,q=b&16,s=b&32,d=d.mk(),B=new W,B.append('<h2 id="',X(c),'" title="',X(g.name),'" class="aimlist-item-group aimlist-item',
i?" highlighted":"",l?" dragOver":"",q?" dragOverTop":"",s?" dragOverBottom":"",'" aria-label="',X(d),'"><div class="aimlist-item-group-twisty',g.Lx?" expanded":"",'" aria-hidden="true"></div>',g.nR?'<input class="aimlist-item-group-input" spellcheck="false" maxlength="48" value="'+X(g.I4)+'"/>':'<div class="aimlist-item-group-label">'+X(g.name)+"</div>",g.iZ&&!g.nR?'<div class="aimlist-item-group-add" title="Add contacts"></div><div class="aimlist-item-edit" title="Rename '+X(g.name)+'"></div><div class="aimlist-item-group-close" title="Delete '+
X(g.name)+'"></div>':"","</h2>"),c=B.toString()):d instanceof Ap?c=fq(this,d):d instanceof zq&&(c="service-promo-"+d.rb,d=d.rb,g=b&1,i=b&2,l=new W,l.append('<div class="aimlist-item servicepromo-item online ',g?" highlighted":""," ",i?" selected":"",'" id="',X(c),'" role="listitem"><div class="aimlist-item-buddyicon-div"><img class="aimlist-item-buddyicon" src="',"facebook"==d?X(P())+"settings/images/servicelogos/service-facebook.png":X(P())+"settings/images/servicelogos/service-google.png",'" onerror="aim.ui.iconFail.Handle(this)" alt=""/></div><span class="aimlist-item-name-block">',
"facebook"==d?"Add Facebook Friends...":"Add Google Talk Contacts...",'</span><div class="sprite aimlist-item-close"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="Close"/></div></div>'),c=l.toString());return c};
p.gz=function(){var a=this.Fm["Recent chats"],b=this.Fm.Favorites,c=this.Fm["Group chats"],d=this.Fm.Contacts;kd(this.Bh);kd(this.Pg);a&&(this.Bh.appendChild(a.ce),this.Pg.appendChild(a.Hd));b&&(this.Bh.appendChild(b.ce),this.Pg.appendChild(b.Hd));c&&(this.Bh.appendChild(c.ce),this.Pg.appendChild(c.Hd));d&&(this.Bh.appendChild(d.ce),this.Pg.appendChild(d.Hd));vq.g.gz.call(this)};p.jE=function(){return vq.g.jE.call(this)};p.Zf=function(){vq.g.Zf.call(this);var a=Tc("input",h,this.c())[0];a&&a.focus()};
p.Nz=function(a){a.V?this.Mo&&this.dispatchEvent(new Fq(Gq,a)):a instanceof zq&&(a=a.rb,"facebook"==a?Hq(Iq):"google"==a&&Hq(Jq))};
p.uu=function(a){if(!(a.button&&1!=a.button)){var b=m,c=a.target,d=up(this,c,"aimlist-item"),d=this.H()[d];if(c&&d)if(b=m,d instanceof wq)b=m,F(c,"close")&&(this.Hs(),this.dispatchEvent(new Fq(Kq,d)),b=j);else if(d instanceof xq)b=Lq(this,c,d);else if(d instanceof zq){if(b=m,F(c,"aimlist-item-close")&&(c=d.rb))d=Y.j(),$(d,"service","setAttributes",{serviceName:c,promo:"signup",hidePromo:1},h),b=j}else d instanceof yq&&(b=k,F(c,"aimlist-item-edit")?b=new Fq(Mq,d):F(c,"aimlist-item-group-close")?b=
new Fq(Nq,d):F(c,"aimlist-item-group-input")||(F(c,"aimlist-item-group-add")?(Oq.j(),c=d.pk(),(new Pq(c)).Di()):b=new Fq(Qq,d)),b&&this.dispatchEvent(b),b=j);b||vq.g.uu.call(this,a)}};p.YG=function(a){this.Mo||this.dispatchEvent(new Fq(Gq,a))};
function Lq(a,b,c){var d=m;if(F(b,"aimlist-item-edit"))a.dispatchEvent(new Fq(Rq,c)),d=j;else if(F(b,"aimlist-item-close")||Ld(b,"aimlist-item-close"))xa(c.id||"","favorites_")?(Sq(Oq.j(),c.V),d=j):(b=c.V.Vl(),rb(b,function(a){return Tq(a)||Uq(a)})&&(Oq.j().xg(c.V,j,h,J(a.c())),d=j));return d}p.Ss=function(a){var b=r._cmd_controller_,a={enabled:m,tag:a};b.dispatchEvent(new Vq(a));a.enabled&&b.dispatchEvent(new Wq(a))};
p.aH=function(a){var b=m;if(this.G){var c=document.activeElement;if(c&&"INPUT"==c.tagName){var d=up(this,c,"aimlist-item"),f=0<=d?this.H()[d]:k;f&&(b=j,13==a.keyCode?(this.dispatchEvent(new Fq(Xq,f)),this.Mo||(d=pp(this),(f=this.H()[d])&&this.dispatchEvent(new Fq(Gq,f)))):27==a.keyCode?this.dispatchEvent(new Fq(Yq,f)):f&&f instanceof yq&&N(function(){f.group.cv=c.value},0))}else if(37==a.keyCode)if(d=pp(this),(f=this.H()[d])&&f instanceof yq)this.dispatchEvent(new Fq(Qq,f));else for(;0<d;d--)if(f=
this.H()[d],f instanceof yq){op(this,d,j);break}else{if(f instanceof Zq)break}else 39==a.keyCode&&(d=pp(this),(f=this.H()[d])&&f instanceof yq&&this.dispatchEvent(new Fq(Qq,f)))}b||vq.g.aH.call(this,a)};p.Z3=function(a){if(!F(a.target,"aimlist-item-group-input")&&(a=Tc("input",h,this.c())[0]))a=up(this,a,"aimlist-item"),(a=0<=a?this.H()[a]:k)&&a instanceof yq&&this.dispatchEvent(new Fq(Yq,a))};
p.J2=function(a){a=a.target;if(F(a,"aimlist-item-header-menu"))if(F(a,"contacts")){var b=[$q,ar];br()&&Ab(b,cr,1);var c=dr("facebook");c&&!c.associated&&b.push(er);(c=dr("google"))&&!c.associated&&b.push(fr);this.cB(b,a)}else F(a,"groupchats")&&this.Ss(gr)};
p.cB=function(a,b){if(Q("appWindow.showPopupMenu")){var c=ff(b),d=jf(b),f=c.x,c=c.y,d=d.height;if(Yn&&Zn&&$n&&Co){var g=Co(this);g&&a&&u(g.showPopupMenu)&&g.showPopupMenu(a,f,c+d)}}else this.Zk&&(re(this.Zk),this.Zk.o()),this.Zk=new tq,A(a,function(a){this.Zk.O(new Rg(a.title,a.tag),j)},this),this.Zk.Fh(b,1,0),this.Zk.T(window.document.body),N(function(){uq(this.Zk,new Jf(b,1,j),0,k)},0,this),this.h().e(this.Zk,"action",this.I2)};p.I2=function(a){a=a.target.w();r._cmd_controller_.dispatchEvent(new Wq({tag:a}))};
p.Hs=function(){this.jm=this.Bj=k};function hr(a,b,c){var d=k;a instanceof Zq?(c=a,d=new kq(c.getName(),c.bJ,c.XF)):a instanceof ir?d=new yq(a):(c=c?c.z()+"_":"",c+=b?b.getName()+"_":"",c+=a.m(),d=new xq(a,c));return d}p.hL=function(a){return br()&&0==a.id.indexOf("contacts_")&&!F(a,"aimlist-item-group")};
p.lF=function(a,b){var c=!!b.id;if(c){var d=b.id.split("_");3==d.length&&(c="contacts"==d[0],d=jr(d[2]),c=c&&!Dq(d))}if(c&&(d=this.H()[a-1],c=!d,!c&&d.id)){var f=b.id.split("_"),g=d.id.split("_");if(2<=g.length)var d=Oq.j(),c="contacts"==g[0],f=f[1],g=g[1],i=d.Vl()[g],d=i&&Tq(i)&&(!d.Ap||f!=g),c=c&&d}return c};p.DC=function(a){return!(this.H()[a]instanceof yq)};
p.bN=function(a){switch(a.type){case "drop":var b=a.tD.element,c=vp(this,new zc(a.z6,a.A6));if(b&&this.lF(c,b)){a=m;if(c==this.H().length||this.H()[c]instanceof yq||Oq.j().Ap)c--,a=j;var d=b.id.split("_"),b=d[1],f=Oq.j().Vl()[b],g=d[2],d=jr(g),i=this.H()[c].id.split("_"),l=i[1],c=Oq.j().Vl()[l],q=!a?i[2]:h,s=q&&b!=l?function(a){kr(a)&&lr(Y.j(),l,g,h,q)}:fa,a=q?jr(q):k;mr(d,f,c,a);f&&!f.Ck()&&!Uq(f)?lr(Y.j(),b,g,l,q,s):f&&Uq(f)?Y.j().Di(g,l,s):(a=w(function(a){kr(a)&&Y.j().Di(g,l,s)},this),Oq.j().xg(d,
m,a))}}};function mr(a,b,c,d){if(b&&!b.Ck())b.xg(a);else for(var b=a.Vl(),f=0;f<b.length;f++)b[f].xg(a);c.Zd(a);d&&(d=mb(c.wg,d))&&nr(c,a,d);a=Oq.j();a.uy=x();a.dispatchEvent(or)}var Kq="aim.ui.AimList.CloseChat",Gq="aim.ui.AimList.OpenChat",Rq="aim.ui.AimList.EditContact",Qq="aim.ui.AimList.GroupToggled",Mq="aim.ui.AimList.RenameGroupStart",Xq="aim.ui.AimList.RenameGroupComplete",Yq="aim.ui.AimList.RenameGroupCancel",Nq="aim.ui.AimList.RemoveGroup";
function Fq(a,b){L.call(this,a);S("[Event] "+a);this.ye=b}z(Fq,L);Fq.prototype.getItem=n("ye");function wq(a,b,c,d,f,g,i,l){zp.call(this,57,b);this.V=a||k;this.message=c||"";this.kq=d||m;this.timestamp=f||k;this.count=g||0;this.om=i||Bq;this.ZD=!!l}z(wq,zp);wq.prototype.mk=function(){var a="";try{a=this.V.aa()?this.V.R()+" group chat":this.V.R()+", "+this.V.xa(),this.count&&(a+=" "+this.count+" unread messages")}catch(b){}return a};function xq(a,b){zp.call(this,33,b);this.V=a||k}z(xq,zp);
xq.prototype.mk=function(){var a="";try{a=this.V.aa()?this.V.R()+" group chat":this.V.R()+", "+this.V.xa()}catch(b){}return a};function Aq(a,b){zp.call(this,33,b);this.V=a||k}z(Aq,zp);function Eq(a){zp.call(this,33,a)}z(Eq,zp);function kq(a,b,c){Ap.call(this,a||"",h,b,c)}z(kq,Ap);function yq(a){zp.call(this,22,"contacts_"+a.getName());this.group=a}z(yq,zp);yq.prototype.mk=function(){var a="";try{a=this.group.getName()+" ",a+=this.group.lm()?"expanded":"collapsed"}catch(b){}return a};
yq.prototype.pk=function(){return this.group.getName()};function zq(a){zp.call(this,33);this.rb=a}z(zq,zp);zq.prototype.mk=function(){return"facebook"==this.rb?"Add Facebook Friends":"Add Google Talk Contacts"};var pr={};function Cq(a){t(pr[a])&&(a=pr[a]);return a}function qr(a){a.onerror=k;pr[a.src]=F(a,"isGroupChat")?"/static/2.38.0.6/common/images/default-group.png":"/static/2.38.0.6/messaging/images/new_chat.png";a.src=pr[a.src]}va("aim.ui.iconFail.Handle",qr);

function rr(){}p=rr.prototype;p.xO=[];p.mf="";p.qU=m;p.update=ca("xO");p.GI=ca("mf");
p.Mn=function(){var a=[],b=m,c=k,d=k,f=j,g="",i=!Ca(this.mf);A(this.xO,function(l){if(l instanceof wq)sr(this,l,this.mf)&&(c&&(a.push(c),c=k),a.push(l));else if(l instanceof kq)l.bJ?a.push(l):c=l;else if(l instanceof yq)i?d=l:(c&&(a.push(c),c=k),a.push(l),d=k),g=l.pk(),f=l.group.lm();else if(l instanceof xq){if(sr(this,l,this.mf,g)&&(i||f))c&&(a.push(c),c=k),d&&(a.push(d),d=k),a.push(l),!b&&i&&l.V.m()==this.mf&&(b=j)}else l instanceof zq&&sr(this,l,this.mf)&&(c&&(a.push(c),c=k),a.push(l))},this);
2<=this.mf.length&&!b&&tr(this,a);return a};function tr(a,b){var c=a.mf;if(ur(c)){var d=vr(c);Ba(d)||(c=d)}c=jr(oi(c));b.push(new kq("Not in list"));b.push(new xq(c,"search_"+c.m()))}function sr(a,b,c,d){var f=m;b instanceof xq||b instanceof wq?(f="AIM"==b.V.qb()||b.V.Wh(),c=Ca(c)||!b.V||b.V.ez(c,d),a=!a.qU||!b.V.aa()&&!wr(b.V)&&"AIM"==b.V.qb()&&b.V.cj()!=xr,f=f&&c&&a):b instanceof zq&&(f=!c);return f};

function po(a){V.call(this);this.Ub="";this.Of=yr;this.wF=zr;this.Ki=k;this.Py=a||m;this.uL=k;this.Ka=new Ar(new Bc(400,600),new Bc(210,140));Br.dispatchEvent(new Cr(Dr,this))}z(po,V);var Br=new xe;function Er(a){for(var b=k;a;){if(a instanceof po){b=a;break}a=a.getParent()}return b}p=po.prototype;p.l=function(){this.K(this.ba.createElement("div"))};p.v=function(){po.g.v.call(this);var a=this.Pe();this.h().e(this,Fr,this.E6).e(this,Gr,this.rT).e(this,Hr,this.o_).e(a,"key",this.J1);this.dispatchEvent(Ir)};
p.n=function(){this.G&&D(this.c(),"loading");this.dispatchEvent(qo);Br.dispatchEvent(new Cr(Jr,this));po.g.n.call(this)};p.E6=function(){var a=this.c();a&&C(a,"loading")};p.rT=function(){var a=this.c();a&&D(a,"loading")};p.vm=function(){this.dispatchEvent(Kr)};p.J1=function(a){27==a.keyCode&&this.Py&&this.uL!==m&&this.close()};p.o_=function(){this.o()};p.show=function(){Br.dispatchEvent(new Cr(Lr,this))};p.Ib=function(){Mr(this)&&Br.dispatchEvent(new Cr(Nr,this))};
p.close=function(){Br.dispatchEvent(new Cr(Jr,this))};p.Yd=ba();p.hf=ba();p.tr=ba();p.ed=ba();p.dw=ba();p.getName=n("Ub");p.gp=ca("Ub");p.CO=o(m);p.Vf=ca("Of");function Or(a,b){a.Ka=b}p.EI=function(a){this.Ka.size=a};function Pr(a,b){a.Ka.Mk=b}p.vd=function(a){this.Ka.position=a};function Mr(a){return a.G&&"none"!=a.c().style.display}p.hE=function(){return Mr(this)};p.ua=o(k);p.TN=o(m);function Ar(a,b){this.size=a||new Bc(-1,-1);this.Mk=b||new Bc(-1,-1);this.position=k}
var Dr="aim.ui.Panel.Register",Jr="aim.ui.Panel.Unregister",Fr="aim.ui.Panel.InProgress",Gr="aim.ui.Panel.Loaded",Lr="aim.ui.Panel.Show",Nr="aim.ui.Panel.Hide",Kr="aim.ui.Panel.Hiding",qo="aim.ui.Panel.ExitingDom",Hr="aim.ui.Panel.Close",Ir="aim.ui.Panel.Rendered";function Cr(a,b){L.call(this,a);this.Lu=b}z(Cr,L);var yr=1,ro=3,zr=0,to=1,vo=2;


var Qr;

function Rr(a,b,c,d){this.PK=a;this.ZF=b;this.TQ=c||{};this.state=Sr;this.ns=d||fa}z(Rr,Pd);var Sr="request.Unregistered";p=Rr.prototype;p.xA=k;p.BS=k;p.AA=k;p.gA=h;p.VC="text/plain";p.kT=m;p.register=function(a,b){this.state!=Sr&&e("Cannot register a non-UNREGISTERED request (would be duplicate)");this.state="request.Registered";this.xA=a;this.BS=b};p.n=function(){Rr.g.n.call(this);delete this.ns;delete this.BS;delete this.AA};
function Tr(a,b){a.state="request.Failed";Ur.log("Request result for "+Vr(a)+" code:"+(b?b.statusCode||"0":"?")+" "+(b?b.statusDetailCode||0:"?")+" "+(b?b.statusText||"":""));a.ns&&(a.AA=b,a.ns(b,a))}p.uW=n("PK");p.xa=n("state");p.Oh=n("AA");p.Mt=function(){return"request.Complete"==this.state};function Vr(a){return a.PK+"/"+a.ZF}p.Jf=n("xA");p.fI="GET";p.fE=function(){if(t(this.gA))return{"Content-Type":this.VC}};

function Wr(a,b,c,d){var f=Vl("devIdName");if(!f||!Xr[f])Q()?(f="Win32"==navigator.platform?"WIN":"MAC",Xr.n8):f=qi?"POPUP":"WEB";this.Me=c||Xr[f];this.VK=a;this.fT=!uj&&"true"===ai("plain")?"http":"https";this.Sj=Yr(this.fT,b);this.G6="http://"+document.location.host+"/.api/wimrelay";this.vl=[this.Sj,this.Sj];this.C5=Zr;this.mx=$r;this.DU=as;this.LU=bs;this.VX=cs;this.e5=ds;this.Fd=es;this.bY=d||m;this.UK=k;this.bO=m;this.Eq=j}
var fs={DEFAULT:"http://api.oscar.aol.com",DEV:"http://api-red.aim.net",QA:"http://api-qh.aim.net",PROD:"http://api.nina.chat",STAGE:"http://staging.api.nina.chat"},gs={DEV:"https://login.tred.aol.com",QA:"https://my.screenname.qh.aol.com",PROD:"https://my.screenname.aol.com"},Xr={WIN:"ku1NcPjJKz3AoCXl",MAC:"ao1MAhgjR1VUApyG",WEB:"ao1yOLlHVHhsa3o6",POPUP:"ao1ZqnOhiY5udFbG",SoftonicMarch2013:"ao1WSsctiw0kGlzf"},$r={facebook:"http://lifestream.aim.com/facebook/login"},hs={facebook:"http://webred.lifestream.aol.com/facebook/login"},
is={facebook:"http://web-qh.lifestream.aol.com/facebook/login"},Zr="/_cqr/login/login.psp",as=["094601124c7f11d18222444553540000","094601114c7f11d18222444553540000","507027c0b88a11e0a4dd0800200c9a66","0415DDD2CB091D88B0D639D1821FF88D","094601164C7F11D18222444553540000"],js=["094601154C7F11D18222444553540000","094601134C7F11D18222444553540000"],ks=["094601154C7F11D18222444553540000","094601144C7F11D18222444553540000"],as=Fb(as,qi?js:ks),cs=["094601114c7f11d18222444553540000","507027c0b88a11e0a4dd0800200c9a66",
"5b1ebdcd899a40ffb695d4c0a9e2dead"],ds=["facebook","google"],bs=["multiWindow","bubblelessChat"];function ls(a){return a.Eq?a.VK:a.VK.replace(/api-/,"")}function Yr(a,b){var c=/^.*?\/\/(.+?)\/?$/.exec(b);return c!=k&&1<c.length?a+"://"+c[1]:b}Wr.prototype.nB=function(a){this.Sj=this.vl[a]};function ms(a,b){var c=a.vl[0];t(b)&&(c=Yr(a.fT,b));a.vl[1]=c}Wr.prototype.et=n("DU");
function ns(a,b,c,d){a=new Ih(a.Sj+"/fss/store");Zh(a,"f","json");Zh(a,"k",b);c&&Zh(a,"aimsid",c);if(d)for(var f in d)d.hasOwnProperty(f)&&Zh(a,f,d[f]);Zh(a,"r","6673732f73746f7265");Zh(a,"nocache",+new Date);return a}Wr.prototype.zt=function(){return!this.bO};

function os(a){return qb(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")}function ps(a){for(var a=a.replace(/\r\n/g,"\n"),b=[],c=0,d=0;d<a.length;d++){var f=a.charCodeAt(d);128>f?b[c++]=f:(2048>f?b[c++]=f>>6|192:(b[c++]=f>>12|224,b[c++]=f>>6&63|128),b[c++]=f&63|128)}return b};

function qs(){};

function rs(){this.Qc=Array(4);this.rU=Array(64);this.vB=this.js=0;this.reset()}z(rs,qs);rs.prototype.reset=function(){this.Qc[0]=1732584193;this.Qc[1]=4023233417;this.Qc[2]=2562383102;this.Qc[3]=271733878;this.vB=this.js=0};
function ss(a,b,c){c||(c=0);var d=Array(16);if(v(b))for(var f=0;16>f;++f)d[f]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(f=0;16>f;++f)d[f]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;var b=a.Qc[0],c=a.Qc[1],f=a.Qc[2],g=a.Qc[3],i=0,i=b+(g^c&(f^g))+d[0]+3614090360&4294967295,b=c+(i<<7&4294967295|i>>>25),i=g+(f^b&(c^f))+d[1]+3905402710&4294967295,g=b+(i<<12&4294967295|i>>>20),i=f+(c^g&(b^c))+d[2]+606105819&4294967295,f=g+(i<<17&4294967295|i>>>15),i=c+(b^f&
(g^b))+d[3]+3250441966&4294967295,c=f+(i<<22&4294967295|i>>>10),i=b+(g^c&(f^g))+d[4]+4118548399&4294967295,b=c+(i<<7&4294967295|i>>>25),i=g+(f^b&(c^f))+d[5]+1200080426&4294967295,g=b+(i<<12&4294967295|i>>>20),i=f+(c^g&(b^c))+d[6]+2821735955&4294967295,f=g+(i<<17&4294967295|i>>>15),i=c+(b^f&(g^b))+d[7]+4249261313&4294967295,c=f+(i<<22&4294967295|i>>>10),i=b+(g^c&(f^g))+d[8]+1770035416&4294967295,b=c+(i<<7&4294967295|i>>>25),i=g+(f^b&(c^f))+d[9]+2336552879&4294967295,g=b+(i<<12&4294967295|i>>>20),i=
f+(c^g&(b^c))+d[10]+4294925233&4294967295,f=g+(i<<17&4294967295|i>>>15),i=c+(b^f&(g^b))+d[11]+2304563134&4294967295,c=f+(i<<22&4294967295|i>>>10),i=b+(g^c&(f^g))+d[12]+1804603682&4294967295,b=c+(i<<7&4294967295|i>>>25),i=g+(f^b&(c^f))+d[13]+4254626195&4294967295,g=b+(i<<12&4294967295|i>>>20),i=f+(c^g&(b^c))+d[14]+2792965006&4294967295,f=g+(i<<17&4294967295|i>>>15),i=c+(b^f&(g^b))+d[15]+1236535329&4294967295,c=f+(i<<22&4294967295|i>>>10),i=b+(f^g&(c^f))+d[1]+4129170786&4294967295,b=c+(i<<5&4294967295|
i>>>27),i=g+(c^f&(b^c))+d[6]+3225465664&4294967295,g=b+(i<<9&4294967295|i>>>23),i=f+(b^c&(g^b))+d[11]+643717713&4294967295,f=g+(i<<14&4294967295|i>>>18),i=c+(g^b&(f^g))+d[0]+3921069994&4294967295,c=f+(i<<20&4294967295|i>>>12),i=b+(f^g&(c^f))+d[5]+3593408605&4294967295,b=c+(i<<5&4294967295|i>>>27),i=g+(c^f&(b^c))+d[10]+38016083&4294967295,g=b+(i<<9&4294967295|i>>>23),i=f+(b^c&(g^b))+d[15]+3634488961&4294967295,f=g+(i<<14&4294967295|i>>>18),i=c+(g^b&(f^g))+d[4]+3889429448&4294967295,c=f+(i<<20&4294967295|
i>>>12),i=b+(f^g&(c^f))+d[9]+568446438&4294967295,b=c+(i<<5&4294967295|i>>>27),i=g+(c^f&(b^c))+d[14]+3275163606&4294967295,g=b+(i<<9&4294967295|i>>>23),i=f+(b^c&(g^b))+d[3]+4107603335&4294967295,f=g+(i<<14&4294967295|i>>>18),i=c+(g^b&(f^g))+d[8]+1163531501&4294967295,c=f+(i<<20&4294967295|i>>>12),i=b+(f^g&(c^f))+d[13]+2850285829&4294967295,b=c+(i<<5&4294967295|i>>>27),i=g+(c^f&(b^c))+d[2]+4243563512&4294967295,g=b+(i<<9&4294967295|i>>>23),i=f+(b^c&(g^b))+d[7]+1735328473&4294967295,f=g+(i<<14&4294967295|
i>>>18),i=c+(g^b&(f^g))+d[12]+2368359562&4294967295,c=f+(i<<20&4294967295|i>>>12),i=b+(c^f^g)+d[5]+4294588738&4294967295,b=c+(i<<4&4294967295|i>>>28),i=g+(b^c^f)+d[8]+2272392833&4294967295,g=b+(i<<11&4294967295|i>>>21),i=f+(g^b^c)+d[11]+1839030562&4294967295,f=g+(i<<16&4294967295|i>>>16),i=c+(f^g^b)+d[14]+4259657740&4294967295,c=f+(i<<23&4294967295|i>>>9),i=b+(c^f^g)+d[1]+2763975236&4294967295,b=c+(i<<4&4294967295|i>>>28),i=g+(b^c^f)+d[4]+1272893353&4294967295,g=b+(i<<11&4294967295|i>>>21),i=f+(g^
b^c)+d[7]+4139469664&4294967295,f=g+(i<<16&4294967295|i>>>16),i=c+(f^g^b)+d[10]+3200236656&4294967295,c=f+(i<<23&4294967295|i>>>9),i=b+(c^f^g)+d[13]+681279174&4294967295,b=c+(i<<4&4294967295|i>>>28),i=g+(b^c^f)+d[0]+3936430074&4294967295,g=b+(i<<11&4294967295|i>>>21),i=f+(g^b^c)+d[3]+3572445317&4294967295,f=g+(i<<16&4294967295|i>>>16),i=c+(f^g^b)+d[6]+76029189&4294967295,c=f+(i<<23&4294967295|i>>>9),i=b+(c^f^g)+d[9]+3654602809&4294967295,b=c+(i<<4&4294967295|i>>>28),i=g+(b^c^f)+d[12]+3873151461&4294967295,
g=b+(i<<11&4294967295|i>>>21),i=f+(g^b^c)+d[15]+530742520&4294967295,f=g+(i<<16&4294967295|i>>>16),i=c+(f^g^b)+d[2]+3299628645&4294967295,c=f+(i<<23&4294967295|i>>>9),i=b+(f^(c|~g))+d[0]+4096336452&4294967295,b=c+(i<<6&4294967295|i>>>26),i=g+(c^(b|~f))+d[7]+1126891415&4294967295,g=b+(i<<10&4294967295|i>>>22),i=f+(b^(g|~c))+d[14]+2878612391&4294967295,f=g+(i<<15&4294967295|i>>>17),i=c+(g^(f|~b))+d[5]+4237533241&4294967295,c=f+(i<<21&4294967295|i>>>11),i=b+(f^(c|~g))+d[12]+1700485571&4294967295,b=c+
(i<<6&4294967295|i>>>26),i=g+(c^(b|~f))+d[3]+2399980690&4294967295,g=b+(i<<10&4294967295|i>>>22),i=f+(b^(g|~c))+d[10]+4293915773&4294967295,f=g+(i<<15&4294967295|i>>>17),i=c+(g^(f|~b))+d[1]+2240044497&4294967295,c=f+(i<<21&4294967295|i>>>11),i=b+(f^(c|~g))+d[8]+1873313359&4294967295,b=c+(i<<6&4294967295|i>>>26),i=g+(c^(b|~f))+d[15]+4264355552&4294967295,g=b+(i<<10&4294967295|i>>>22),i=f+(b^(g|~c))+d[6]+2734768916&4294967295,f=g+(i<<15&4294967295|i>>>17),i=c+(g^(f|~b))+d[13]+1309151649&4294967295,
c=f+(i<<21&4294967295|i>>>11),i=b+(f^(c|~g))+d[4]+4149444226&4294967295,b=c+(i<<6&4294967295|i>>>26),i=g+(c^(b|~f))+d[11]+3174756917&4294967295,g=b+(i<<10&4294967295|i>>>22),i=f+(b^(g|~c))+d[2]+718787259&4294967295,f=g+(i<<15&4294967295|i>>>17),i=c+(g^(f|~b))+d[9]+3951481745&4294967295;a.Qc[0]=a.Qc[0]+b&4294967295;a.Qc[1]=a.Qc[1]+(f+(i<<21&4294967295|i>>>11))&4294967295;a.Qc[2]=a.Qc[2]+f&4294967295;a.Qc[3]=a.Qc[3]+g&4294967295}
rs.prototype.update=function(a,b){u(b)||(b=a.length);for(var c=b-64,d=this.rU,f=this.js,g=0;g<b;){if(0==f)for(;g<=c;)ss(this,a,g),g+=64;if(v(a))for(;g<b;){if(d[f++]=a.charCodeAt(g++),64==f){ss(this,d);f=0;break}}else for(;g<b;)if(d[f++]=a[g++],64==f){ss(this,d);f=0;break}}this.js=f;this.vB+=b};
function ts(a){var b=Array((56>a.js?64:128)-a.js);b[0]=128;for(var c=1;c<b.length-8;++c)b[c]=0;for(var d=8*a.vB,c=b.length-8;c<b.length;++c)b[c]=d&255,d/=256;a.update(b);b=Array(16);for(c=d=0;4>c;++c)for(var f=0;32>f;f+=8)b[d++]=a.Qc[c]>>>f&255;return b};

function us(){this.YD=this.TO="";this.Uy={}}ga(us);function vs(a,b){var c=b?ws(oi(b)):"";a.YD!=c&&(a.Uy={},a.YD=c)}function ws(a){var b=new rs;b.update(a);return os(ts(b))}us.prototype.MA=function(a){var b=new Ih(this.TO+"/sendIM");Zh(b,"from",this.YD);a=oi(a);a in this.Uy||(this.Uy[a]=ws(a));Zh(b,"to",this.Uy[a]);Zh(b,"nc",x().toString(36));Rn(b)};

function xs(a){"statusCode"in a||Ur.log("Got a response with no statusCode");this.na=a}function kr(a){return 200==a.na.statusCode}xs.prototype.tJ=function(){return this.na.statusCode||0};xs.prototype.yS=function(){return this.na.statusDetailCode||0};xs.prototype.w=function(a,b){for(var c=a.split("."),d=this.na[c[0]],f=1;d&&f<c.length;f++)d=d[c[f]];u(b)&&!u(d)&&(d=b);return d};

var ys=k;

var bm=0,ko=100,lo=300,mo=400,no=600,oo=800,cm=900,jo=1E3;function Y(){}ga(Y);p=Y.prototype;p.N=k;function zs(a,b,c,d,f,g,i){if(a.N){b=new Rr(b,c,f,As(g));if(d){var c=[],l;for(l in d)c.push(encodeURIComponent(l)+"="+encodeURIComponent(d[l]));d=c.join("&");b.fI="POST";b.gA=d;t("application/x-www-form-urlencoded")&&(b.VC="application/x-www-form-urlencoded")}i&&(b.CU=j);a.N.send(b)}}function $(a,b,c,d,f,g){zs(a,b,c,h,d,f,g)}function As(a){return a?ua(function(a,c){a(new xs(c))},a):k}
function Bs(a,b){for(var c=[];1<=a;)c.push(a%256),a/=256;c.reverse();b.update(c)}function Cs(a,b,c){var d={statusMsg:1,awayMsg:1,friendly:1,capabilities:1};b?d.t=v(b)?[b]:b:d.bl=1;$(a,"presence","get",d,c)}function Ds(a,b,c){var d={};b&&(d.t=b);$(a,"memberDir","get",d,c,j)}function Es(a,b,c,d,f){d=d||[];xb(d,"aim")||d.push("aim");$(a,"presence","setStatus",{statusMsg:c,s:b.m(),pushServices:d.join(",")},f)}function Fs(a,b,c){$(a,"lifestream","commonsUnfollow",{t:b},c)}
p.ka=function(a,b){$(this,"presence","setState",{view:a},b)};p.ds=function(a,b){$(this,"buddylist","addGroup",{group:a},b)};p.Di=function(a,b,c){$(this,"buddylist","addBuddy",{buddy:a,group:b||"Buddies"},c)};function Gs(a,b,c){$(a,"aim",c?"addTempBuddy":"removeTempBuddy",{t:b},h)}function lr(a,b,c,d,f,g){c={group:b,buddy:c};(b=d&&b!=d?d:k)&&(c.newGroup=b);!b&&f&&(c.beforeBuddy=f);$(a,"buddylist","moveBuddy",c,g)}function Hs(a,b,c){$(a,"buddylist","removeBuddy",{buddy:b,allGroups:j},c)}
function Is(a,b,c,d){$(a,"buddylist","renameGroup",{oldGroup:b.getName(),newGroup:c},d)}p.Xu=function(a,b){$(this,"buddylist","removeGroup",{group:a.getName()},b)};function Js(a,b,c){$(a,"aim","saveData",{itemName:"pbu:3:"+b,contentType:"application/json",data:Ol(c)},h)}function Ks(a,b,c){$(a,"buddylist","setBuddyAttribute",{t:b,friendly:c},h)}function Ls(a,b,c,d,f,g){b={to:c,type:b?1:2,sortOrder:"ascendingDate",nToGet:100,skipMsgId:d};f&&(b.stopMsgId=f);$(a,"imlog","fetchStoredIMs",b,g)}
function Ms(a,b,c){$(a,"imserv","getMembers",{imserv:b},c)}function Ns(a,b,c,d){b={imserv:b};c&&(b.filter="startTime="+c);$(a,"imserv","getRecentActivity",b,d)}p.pp=function(a,b,c,d){a={t:a};ma(b)&&(a.activeTime=b);ma(c)&&(a.focusTime=c);$(this,"conversation","update",a,d)};function Os(a,b){$(a,"conversation","close",{t:b},h)}function Ps(a,b){$(a,"imlog","markRead",{t:b,all:"1"},h)}
function Qs(a,b,c){$(a,"imserv","create",{friendly:b.substring(0,45),archive:1,domain:"groupchat.aim.com",membershipPolicy:"restricted",sendIMs:["owner","editor","member","moderator"],imReplyType:"imserv"},c)}function Rs(a,b,c){$(a,"imserv","delete",{imserv:b},c)}function Ss(a,b,c,d){$(a,"imserv","invite",{imserv:b,t:c},d)}function Ts(a,b){$(a,"imserv","reject",{imserv:b,t:r._aim_user_.m()},h)}p.Jk=function(a,b,c){$(this,"imserv","remove",{t:b?b.m():k,imserv:a},c)};
function Us(a,b,c,d){$(a,"imserv","setUserSettings",{imserv:b,t:c,memberType:"owner"},d)}p.MA=function(a,b,c,d,f,g){var i={t:a};c&&(i.offlineIM=j);d&&(i.parentMsgId=d);f&&(i.metaData=oa(f)?Ol(f):f,i.metaDataType="json");G&&!I("10.0")?(i.message=b,$(this,"im","sendIM",i,g)):zs(this,"im","sendIM",{message:b},i,g);us.j().MA(a)};p.W4=0;p.yI={};
function Vs(a,b,c,d,f,g){if(!f){var i="";if(a.N&&(f=a.N.m())){i=new rs;i.update(f);Bs((new Oj).getTime(),i);Bs(++a.W4,i);f=ts(i);8<f.length&&(f=f.slice(0,8));ka(f)||e(Error("encodeByteArray takes an array as a parameter"));if(!ys){ys={};for(i=0;65>i;i++)ys[i]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i)}for(var i=ys,l=[],q=0;q<f.length;q+=3){var s=f[q],B=q+1<f.length,E=B?f[q+1]:0,Z=q+2<f.length,T=Z?f[q+2]:0,gb=s>>2,s=(s&3)<<4|E>>4,E=(E&15)<<2|T>>6,T=T&63;Z||(T=64,
B||(E=64));l.push(i[gb],i[s],i[E],i[T])}i=l.join("")}f=i}c||(c=d);f in a.yI||(a.yI[f]=0);$(a,"im","sendDataIM",{data:c,cap:"507027c0b88a11e0a4dd0800200c9a66",t:b,type:d,cookie:f,sequenceNum:++a.yI[f]},g);return f}p.getData=function(a,b){$(this,"aim","getData",a?{clientType:a}:{},b)};p.deleteData=function(a,b){$(this,"aim","deleteData",{itemName:a},b)};
function Ws(a,b,c,d,f){var g={};b&&(b.Qo&&(g.pdAllow=b.Qo),b.Ro&&(g.pdBlock=b.Ro),b.HH&&(g.pdIgnore=b.HH),b.sD&&(g.dontWantToKnow=b.sD));c&&(c.Qo&&(g.pdAllowRemove=c.Qo),c.Ro&&(g.pdBlockRemove=c.Ro),c.HH&&(g.pdIgnoreRemove=c.HH),c.sD&&(g.dontWantToKnowRemove=c.sD));d&&(g.pdMode=d);$(a,"preference","setPermitDeny",g,f)}function Xs(a,b){$(a,"preference","get",{offlineGrpCollapsed:j},b)}function Ys(a,b,c,d){var f={};f[b]=c;$(a,"preference","set",f,d)}
function Zs(a,b,c){$(a,"service","getAttributes",{serviceName:b},c)}function $s(a,b,c){$(a,"service","setCredentials",{serviceToken:"\x00",serviceUid:"\x00",serviceApiKey:"\x00",serviceName:b},c)}p.Xj=function(a,b,c,d,f,g,i,l,q){a={serviceToken:a,serviceName:b,serviceUid:c,appKeyHost:d};f&&(a.serviceSecret=f);g&&(a.refreshToken=g);i&&(a.tokenPermissions=i);l&&(a.tokenExpiration=l);$(this,"lifestream","tdAddService",a,q)};p.Wk=function(a,b){$(this,"lifestream","tdRemoveService",{serviceName:a},b)};
function at(a,b){$(a,"lifestream","getUserDetails",{},b)}function bt(a,b){$(a,"lifestream","getNotificationFilter",{},b)}function ct(a,b){var c={markRead:m,markCleared:m,renderSource:j,pageSize:101,cleared:m};c.caps=(qi?js:ks).join(",");$(a,"lifestream","heyGetNotifications",c,b)}function dt(a,b){$(a,"lifestream","deleteNotification",{notificationId:b},h)}
function et(a,b,c,d,f){var g={fetchCounts:m,asRead:j,favorite:m,asCleared:m};c&&(g.target=c);d&&(g.service=d);b&&(g.id=b);g.caps=(qi?js:ks).join(",");$(a,"lifestream","heyMarkNotifications",g,f)}function ft(a,b){var c=bb("type=",b.Ga(),",id=",b.z());t(h)&&(c=bb(c,",additional=",h));$(a,"aim","reportAction",{action:c},h)}function gt(a,b,c,d){var f={},b=["firstName="+b,"lastName="+c];d&&b.push("hideLevel="+d);f.set=b;$(a,"memberDir","update",f,h)}
function ht(a,b){$(a,"aim","setForwardDomain",{name:b},h)}function it(a,b,c,d,f){"all"==d?d="service_name=aim,facebook,instagram,thirdparty":"aim"==d&&(d="service_name=aim,thirdparty");$(a,"lifestream","getAggregated",{includeMiniUserDetails:"true",pageSize:b,pageIndex:c,filterType:d},f)}function jt(a,b,c){$(a,"lifestream","getSingle",{pageSize:50,pageIndex:b,t:r._aim_user_.m(),filterType:"service_name=aim,facebook,instagram,thirdparty"},c)}
function kt(a,b,c,d){var f={service:"aim"};f[b]=c;$(a,"lifestream","setUserPreference",f,d)}function lt(a,b){$(a,"fss","delete",{k:r._aim_session_.Ua.Me,fileId:b},h)}p.nB=function(a){this.N.Ua.nB(a)};function mt(a,b,c,d){var f={enabled:b?"1":"0"};t(c)&&(f[b?"description":"logId"]=c);$(a,"aim","sessionTracing",f,d)}
function nt(a,b,c){var d={k:a.N.Ua.Me,service:"AIMSessionLog",contentType:"text/plain"};a.N&&(c=new Rr("fss","store",d,As(c)),c.fI="POST",c.gA=b,t(h)&&(c.VC=h),G&&!I("10.0")&&(c.kT=j),a.N.send(c))}p.getExpression=function(a,b){$(this,"expressions","get",{t:a},b)};function ot(a,b,c){$(a,"buddylist","authorizeUser",{k:a.N.Ua.Me,t:b,serviceName:"google",authorized:c?1:0},h)};

function pt(a){ft(Y.j(),a)}function qt(a,b){this.Cb=a;this.ya=b}qt.prototype.Ga=n("Cb");qt.prototype.z=n("ya");
var rt=new qt("click","compose-chat"),st=new qt("click","compose-chat-sms"),tt=new qt("click","search-no-action"),ut=new qt("click","show-updates"),vt=new qt("click","view-members-link"),wt=new qt("click","video-chat-button"),xt=new qt("click","add-member-button"),yt=new qt("click","video-chat-chatmenu"),zt=new qt("click","take-picture-chatmenu"),At=new qt("click","add-favorite-chatmenu"),Bt=new qt("click","remove-favorite-chatmenu"),Ct=new qt("click","on-the-record-chatmenu"),Dt=new qt("click","off-the-record-chatmenu"),
Et=new qt("click","clear-chat-chatmenu"),Ft=new qt("click","block-user-chatmenu"),Gt=new qt("click","remove-user-chatmenu"),Ht=new qt("click","share-file-chatmenu"),It=new qt("click","add-member-chatmenu"),Jt=new qt("click","view-members-chatmenu"),Kt=new qt("click","edit-chat-name-chatmenu"),Lt=new qt("click","edit-group-name-chatmenu"),Mt=new qt("click","leave-chat-chatmenu"),Nt=new qt("click","invite-email-ftux"),Ot=new qt("click","associate-facebook-ftux"),Pt=new qt("click","associate-google-ftux"),
Qt=new qt("click","add-like-updates"),Rt=new qt("click","delete-like-updates"),St=new qt("click","show-likes-updates"),Tt=new qt("click","add-comment-updates"),Ut=new qt("click","delete-comment-updates"),Vt=new qt("click","expand-comments-updates"),Wt=new qt("click","delete-activity-updates"),Xt=new qt("click","activity-sn-updates"),Yt=new qt("click","comment-sn-updates"),Zt=new qt("click","refresh-updates"),$t=new qt("click","show-more-updates"),au=new qt("mouseover","user-chat-header");

function bu(a){Of.call(this,a)}z(bu,Of);var cu="placeholder"in document.createElement("input");p=bu.prototype;p.l=function(){this.F=this.D().l("input",{type:"text"})};
p.K=function(a){bu.g.K.call(this,a);if(!cu&&a&&a.parentNode){var b=this.D().l("div",{"class":"pseudoPlaceHolder"});b.setAttribute("unselectable","on");var c=("undefined"!=typeof a.currentStyle?a.currentStyle:document.defaultView.getComputedStyle(a,k)).paddingLeft;c&&(b.style.paddingLeft=c);a.nextSibling?a.parentNode.insertBefore(b,a.nextSibling):a.parentNode.appendChild(b);this.Br()}};p.v=function(){bu.g.v.call(this);this.Gh()};p.$=function(){bu.g.$.call(this);this.Ri()};
p.Gh=function(){if(!cu){this.wa=new Kf(this);this.wa.e(this.c(),["change","keyup","focus","resize"],this.Br);var a=this.c();a&&a.parentNode&&this.wa.e(K("pseudoPlaceHolder",a.parentNode),["click"],this.aW)}};p.Ri=function(){this.wa&&(this.wa.o(),this.wa=k)};p.n=function(){bu.g.n.call(this);this.Ri()};p.aW=function(){this.c().focus()};
p.Br=function(){var a=this.c(),b=m;if(a){var b=!this.c().value,c=K("pseudoPlaceHolder",a.parentNode);if(c){var d=(a.offsetLeft||0)+"px";c.style.left!=d&&(c.style.left=d);d=(a.offsetTop||0)+"px";c.style.top!=d&&(c.style.top=d);a=il(a.getAttribute("placeholder")||"");this.pY!=a&&(c.innerHTML=this.pY=a);b?C(c,"displayed"):D(c,"displayed")}}};

function du(){po.call(this);this.ia=new vq(h,j);this.O(this.ia);this.Ue=new rr;this.Aq=k;this.mv=new ye(100);Pr(this,new Bc(180,0))}z(du,po);p=du.prototype;p.PF=k;p.Ja=k;p.Kq=k;p.fJ="";p.vI="";p.l=function(){Gl(this,eu,{id:"aimlist"})};
p.v=function(){du.g.v.call(this);this.Ja=K("aimlist-searchbar-input",this.c());G&&!I(10)&&(this.Aq=new bu,this.O(this.Aq),this.Aq.qa(this.Ja));Ba(this.fJ)&&N(this.ky,20,this);this.Kq=K("aimlist-itemscontainer",this.c());this.ia.G||this.ia.qa(this.Kq);var a=this.ia;dq(a);a.Zf();var a=Tc("a","chat",this.c())[0],b=Tc("a","sms",this.c())[0];this.h().e(this.Pe(),"key",this.FE).e(this.Ja,["input","propertychange"],this.C2).e(this.Ja,"focus",this.D2).e(this.Ja,"blur",this.B2).e(K("aimlist-searchbar-clear",
this.c()),"click",this.dk).e(a,["click","keypress"],this.EQ).e(b,["click","keypress"],this.u3).e(this,"select",this.Hu).e(this.Kq,Xd,this.m1).e(this.Kq,Yd,this.n1).e(this.c(),Yd,this.r0).e(this.mv,Ae,this.E2);Oq.j().Lc()||(this.dispatchEvent(Fr),this.PF=N(this.wu,1E4,this))};p.$=function(){du.g.$.call(this);this.Aq=this.Ja=k};p.EQ=function(a){"keypress"==a.type&&13!=a.keyCode&&32!=a.keyCode||(this.dispatchEvent(fu),ft(Y.j(),rt))};
p.u3=function(a){"keypress"==a.type&&13!=a.keyCode&&32!=a.keyCode||(this.dispatchEvent(gu),ft(Y.j(),st))};p.rT=function(){var a=this.c();a&&D(a,"loading");N(this.DA,400,this)};
p.FE=function(a){switch(a.keyCode){case 27:Ca(this.Ue.mf)||pt(tt);this.Td("");op(this.ia,this.ia.Qn(),j);break;case 13:case 40:case 38:case 34:case 33:this.ia.Pe().dispatchEvent(a);break;case 8:if(this.Ja&&G){var b=this.Ja.value,c=this.Ja.selectionStart,d=this.Ja.selectionEnd;c&&d==c&&c--;c<d&&(this.Ja.value=b.substring(0,c)+b.substring(d,b.length),this.Td(this.Ja.value),this.Ja.selectionStart=this.Ja.selectionEnd=c,a.preventDefault())}}};
p.E2=function(){this.mv.stop();if(this.Ja){var a=this.Ja.value;Ba(a)&&pt(tt);this.Td(a)}};p.C2=function(a){this.mv.setInterval(100);this.mv.enabled||this.mv.start();a.stopPropagation()};p.D2=function(){C(this.c(),"input-focused")};p.B2=function(){D(this.c(),"input-focused")};p.m1=function(){C(this.Kq,"focused")};p.n1=function(){D(this.Kq,"focused")};p.r0=function(){N(function(){var a=document.activeElement;!ud(this.c(),a)&&!Ld(a,"aimlist-itemscontainer")&&(Ca(this.Ue.mf)||pt(tt),this.Td(""))},0,this)};
p.Hu=ba();p.wu=function(){this.dispatchEvent(Gr);Be(this.PF);this.PF=k};function hu(a,b){if(b.length||a.ia.H().length)a.Ue.update(b),a.ia.vc(a.Ue.Mn())}p.show=function(){du.g.show.call(this);this.ky();Mr(this)||this.ia.scrollIntoView(0)};p.ed=function(){this.ky()};p.EI=function(a){du.g.EI.call(this,a);this.ky()};
p.ky=function(){if(this.G){var a=this.fJ,b="",c=j,b=this.c().offsetWidth;160>b?(b="small",c=m):b=200>b?"medium":"normal";a!=b&&(Tb(this.c(),a,b),this.fJ=b,this.ia.Cg(b),this.vI||(this.vI=this.Ja.getAttribute("placeholder")),this.Ja.setAttribute("placeholder",c?this.vI:""));ep(this.ia)}};p.rd=function(){this.G&&this.Ja.focus()};p.DA=function(){this.ia.scrollIntoView(0)};p.xr=function(a){this.ia.xr(a)};p.IA=k;p.ix=function(){this.IA=k};p.HA=function(a){this.G&&tp(this.ia,a?this.nt(a):-1,j)};
p.nt=function(a){var b=-1;rb(this.ia.H(),function(c,d){return c.id==a?(b=d,j):m});return b};function iu(a){var b=k,c=a.ia.Qn();if(-1<c&&a.ia&&(a=a.ia.H()[c])&&a.V instanceof ju)b=a.V;return b}p.Hs=function(){this.ia.Hs()};p.dk=function(){this.Td("");xp(this.ia,m)};
p.Td=function(a){if(this.Ue.mf!=a){this.Ue.GI(a);this.ia.vc(this.Ue.Mn());!Ca(this.Ue.mf)?sp(this.ia):op(this.ia,this.ia.Qn(),j);var b=this.ia.c();if(Ca(a))xp(this.ia,m),D(b,"filtering"),N(function(){this.ia.scrollIntoView(pp(this.ia))},0,this);else if(xp(this.ia,j),C(b,"filtering"),2<=a.length){b=a;if(ur(b)){var c=vr(b);Ba(c)||(b=c)}ku(Oq.j(),b)}this.G&&(this.Ja.value=a,a.length?C(this.c(),"filtering"):D(this.c(),"filtering"),this.Aq&&(cu||this.Aq.Br()))}};p.CO=o(j);
var fu="aim.ui.AimList.NewChat",gu="aim.ui.AimList.NewSMS";


function lu(){this.zh=[];this.Ai={}}z(lu,Pd);p=lu.prototype;p.Vt=1;p.nA=0;function mu(a,b,c,d){var f=a.Ai[b];f||(f=a.Ai[b]=[]);var g=a.Vt;a.zh[g]=b;a.zh[g+1]=c;a.zh[g+2]=d;a.Vt=g+3;f.push(g);return g}function nu(a,b,c,d){var f=mu(a,b,function(a){c.apply(d,arguments);this.AB(f)},a)}function ou(a,b,c){var d=a.Ai.start_chat;if(d){var f=a.zh;(d=tb(d,function(a){return f[a+1]==b&&f[a+2]==c}))&&a.AB(d)}}
p.AB=function(a){if(0!=this.nA)return this.Ou||(this.Ou=[]),this.Ou.push(a),m;var b=this.zh[a];if(b){var c=this.Ai[b];c&&Cb(c,a);delete this.zh[a];delete this.zh[a+1];delete this.zh[a+2]}return!!b};p.Tf=function(a,b){var c=this.Ai[a];if(c){this.nA++;for(var d=Jb(arguments,1),f=0,g=c.length;f<g;f++){var i=c[f];this.zh[i+1].apply(this.zh[i+2],d)}this.nA--;if(this.Ou&&0==this.nA)for(;c=this.Ou.pop();)this.AB(c)}};
p.clear=function(a){if(a){var b=this.Ai[a];b&&(A(b,this.AB,this),delete this.Ai[a])}else this.zh.length=0,this.Ai={}};p.Db=function(a){if(a){var b=this.Ai[a];return b?b.length:0}a=0;for(b in this.Ai)a+=this.Db(b);return a};p.n=function(){lu.g.n.call(this);delete this.zh;delete this.Ai;delete this.Ou};

function pu(){lu.call(this)}z(pu,lu);ga(pu);va("aim.channel",pu);

function qu(a){this.Aa=a||new Date}p=qu.prototype;p.Oo=m;p.Ey=m;function ru(a){return"aim.messaging.Message_"+a}p.Mc=n("Oo");p.toString=function(){return"["+this.Aa.toString()+"]"};p.$A=o(m);p.Sa=function(){return{text:this.toString(),timestamp:this.Aa.getTime()/1E3}};function su(a,b){var c=a.Aa.getTime()-b.Aa.getTime();0==c&&a.aj&&b.aj&&(c=a.za>b.za?1:-1);return c};

function tu(a,b,c,d){qu.call(this,c);this.Cb=a;this.$h=b;this.yJ=d||k}z(tu,qu);tu.prototype.Ma=n("$h");tu.prototype.Ga=n("Cb");tu.prototype.Sa=function(){return{type:this.Cb,text:this.$h,timestamp:this.Aa.getTime()}};

function rp(){}ga(rp);
function qp(a,b){var b=Sa(b),c;c=k;var d;if(Yn&&Zn&&$n){d=k;for(var f=Gc(co),g=0;g<f.length;g++){var i=co[parseInt(f[g],10)];if(i&&i.isActive()){d=i;break}}}else d=k;if(d=d?d.va():window)c=d.document.getElementById("live_region"),c||(c=J(d.document).l("div",{id:"live_region","aria-live":"polite",role:"log","aria-atomic":"false",style:"position: fixed; top: -30px; width: 1px; height: 1px; overflow: hidden;"}),d.document.body.appendChild(c));c&&(c.textContent=b,c.innerText=b)};

function uu(){this.cl(m);this.Ge(m)}z(uu,xe);p=uu.prototype;p.rf=j;p.Bk=m;function vu(a){return Ll.j().H(a)||k}function wu(a,b){Ll.j().add("model",a,b);return b}function xu(a,b){return Ll.j().H(a)||wu(a,b())}p.Lc=n("rf");p.Ky=n("Bk");p.cl=function(a){this.rf=a;this.rf===uu.prototype.rf&&delete this.rf};p.Ge=function(a){this.Bk=a;this.Bk===uu.prototype.Bk&&delete this.Bk};p.load=function(){this.Lc()?(this.dispatchEvent(yu),this.dispatchEvent(zu)):this.Ky()||(this.Ge(j),this.FO())};p.pN=o(m);
p.n=function(){this.Lc()&&this.pN()&&(this.cl(m),this.Ge(m));uu.g.n.call(this)};p.RJ=function(){this.dispatchEvent(zu)};function Au(a,b){kr(b)?(a.cl(j),a.Ge(m),a.dispatchEvent(yu),a.dispatchEvent(zu)):(S("loadFailure_",b),a.dispatchEvent(Bu))}var yu="aim.Loader.EventType.LOADED",zu="aim.Loader.EventType.UPDATED",Bu="aim.Loader.EventType.FAILED";

var Cu={K8:"online",a8:"invisible",G8:"notFound",IDLE:"idle",U6:"away",q8:"mobile",M9:"unknown",J8:"offline",d7:"blocked"},xr="sms";function ju(a,b){this.na={aimId:a};this.Pb={};this.ey={};b&&this.update(b);(b||r._aim_session_.m()==a)&&this.cl(j);this.Oy=m}z(ju,uu);var Du=3987;p=ju.prototype;p.w=function(a,b){for(var c=a.split("."),d=this.na[c[0]],f=1;d&&f<c.length;f++)d=d[c[f]];u(b)&&!u(d)&&(d=b);return d};
p.update=function(a){if(a!=this){var b=this.na.buddyIconUrl,c="unknown"!=this.w("state","unknown")?this.xa(j):k,a=a instanceof ju?a.na:oa(a)?a:{};"capabilities"in a&&Ic(this.na,"capabilities");Ic(this.na,"invisible");Ic(this.na,"friendly");Nc(this.na,a);a.buddyIcon&&!a.buddyIconUrl&&(this.na.buddyIconUrl=this.na.buddyIcon);this.Cp&&b&&b!=this.na.buddyIconUrl&&N(function(){Eu(this,j)},500,this);this.cl(j);this.Pb={};b=this.xa(j);!this.aa()&&c&&b!=c&&(c=this.R()+" is "+b,qp(rp.j(),c))}};
p.Sa=function(a){return{cc:this.m(),PX:this.z(),yb:this.qb(),nv:Fu(this),Pa:this.R(),Jn:this.w("friendly",k),ek:this.Tl(),gW:Gu(this),state:this.xa(j),type:this.cj(),Xp:Hu(this,j),aL:this.Zb(),gB:this.Zb(),icon:a?Eu(this):this.Zb(),status:this.lb(),kM:this.Wx(),iW:Iu(this)}};p.toString=function(){return this.m()};p.z=function(){var a=this.Pb.getid;u(a)||(a=this.aa()?this.w("imserv"):this.w("aimId"),this.Pb.getId=a);return a};p.m=function(){return this.z()};
p.R=function(a){var b=this.Pb.getDisplayName;u(b)||(b=this.w("friendly"),b||(ur(this.m())&&(b=Iu(this)),b||(b=this.we()||this.m())),u(a)&&(b=Sa(b),b.length>a&&(b=b.substring(0,a-3)+"..."),b=Ma(b)),this.Pb.getDisplayName=b);return b};function Iu(a){var b="";if(a.cj()==xr&&(a=a.z().match(Ju)))b="("+a[1]+")",b+=a[2]?" "+a[2]:"",b+=a[3]?"-"+a[3]:"";return b}
p.we=function(){var a=this.Pb.getDisplayId;u(a)||(a=(a=(a=Gu(this)?"Fetching name...":this.w("displayAIMId"))||this.w("displayId",""))||this.m(),this.Pb.getDisplayId=a);return a};p.Tl=function(){var a=this.Pb.getCombinedName;u(a)||(a=this.R(),!Gu(this)&&a!=this.we()&&(a+=" ("+this.we()+")"),this.Pb.getCombinedName=a);return a};p.cj=function(){var a=this.Pb.getUserType;if(!u(a)){a=this.w("userType","aim");if("aim"==a){var b=this.w("aimId");Ba(vr(b))||(a=xr)}this.Pb.getUserType=a}return a};
p.xa=function(a){var b=this.w("state","offline"),c=this.z();if(c&&"+"==c.charAt(0))b="mobile";else if(a)switch(b){case "online":this.w("invisible")&&(b="invisible");break;case "invisible":case "away":case "mobile":break;case "idle":b="online";break;default:b="offline"}else"unknown"==b&&(b="offline");return b};function Hu(a,b){return Ku(a)?"blocked":a.xa(t(b)?b:j)}p.Dk=function(){var a=this.xa();return"offline"!=a&&"unknown"!=a};p.Ck=function(){var a=this.xa();return"offline"==a||"unknown"==a};
p.lb=function(){var a=this.Pb.getStatus;if(!u(a)){a=this.w("statusMsg","");if(a=Sa(a)){var b="%n";r._aim_user_&&(b=r._aim_user_,b=b.R()||b.m());var c=new Date,d=Vj(c),c=Wj(c),a=a.replace(/%n/g,b).replace(/%t/g,d).replace(/%d/g,c)}this.Pb.getStatus=a}return a};function Lu(a){a=a.w("statusTime",0);return 0<a?x()-1E3*a:0}p.Wx=function(){return this.w("emailAddr",k)};p.QM=function(){return this.w("firstName",k)};p.SM=function(){return this.w("lastName",k)};
function Gu(a){var b=a.Pb.showOnlyFriendlyName;if(!u(b)){b=a.w("delegatedServiceUser");if(!b){var b=a.qb(),c=m;b&&t(Mu[b])&&(c=xb(Mu[b],"forceFriendlyName"));b=c}a.Pb.showOnlyFriendlyName=b}return b}p.Yw=function(){return!this.ny()};p.Zb=function(){var a=this.Pb.getIconUrl;u(a)||(a=Nu(this),!a&&"http:"==window.location.protocol?a="http://api.nina.chat/expressions/getAsset?f=native&type=buddyIcon&id=00052b000032c0":a||(a="https://api.nina.chat/expressions/getAsset?f=native&type=buddyIcon&id=00052b000032c0"),this.Pb.getIconUrl=a);return a};
function Eu(a,b){if(b||!a.Cp)a.Cp=Nu(a),Y.j().getExpression(a.m(),w(a.g0,a));return a.Cp||a.Zb()}p.g0=function(a){for(var b=(a=a.w("data.expressions"))?a.length:0;b--;)if("bigBuddyIcon"==a[b].type){this.Cp=a[b].url;this.dispatchEvent("aim.User.BigIcon");break}this.Cp||this.Cp==this.Zb()};function Nu(a){var b="";ur(a.m())?b=P("common/images/mobile_icon.png"):((b=a.w("buddyIcon"))&&(b=Cq(b)),b&&b==P("messaging/images/new_chat.png")&&(b=k));return b}function wr(a){return!!a.w("bot",m)}
p.aa=function(){return"imserv"==this.cj()};p.Wh=function(){var a=Oq.j();return!a.Lc()||Ou(a,this)};p.et=function(){for(var a=this.w("capabilities",[]),b=0;b<a.length;b++)a[b]=(""+a[b]).toLowerCase();return a};function Pu(a){var b=a.Pb.canGroupChat;u(b)||(b=a.cj()!=xr&&"imserv"!=a.cj()&&(!Dq(a)||"true"==ai("groupchatallowanyone")),a.Pb.canGroupChat=b);return b}p.Mc=function(){return this.w("offTheRecord",m)||Qu(this)||Qu(r._aim_user_)};
function Qu(a){return a.w("globalOffTheRecord",m)||a.w("gOTR",m)}p.oo=function(){return!!this.na.invited};p.ds=function(a){this.ey[a]=j};p.Xu=function(a){Ic(this.ey,a)};function Ru(a){return!!a.na.isFavorite}p.it=function(){return Gc(this.ey)};p.Vl=function(){var a=Oq.j().Vl();return qb(this.it(),function(b){return a[b]},this)};var Ju=/^\+?1?\(?([2-9][0-8]\d)\)?[-. ]?([2-9]\d{2})[-. ]?(\d{0,4})$/;function ur(a){return t(a)&&t(a.match(Ju))}
function vr(a){var b="";if((a=a.match(Ju))&&4==a.length)a=a[1]+a[2]+a[3],10==a.length&&(b="+1"+a);return b}ju.prototype.qb=function(){var a=this.w("delegatedServiceUser"),b=this.w("service");return!a&&b?b:"AIM"};function Fu(a){var b="AIM";if(ur(a.m()))b="SMS";else if(a=a.qb())(a=dr(a))&&(b=a.friendlyName);return b}var Mu={facebook:["forceFriendlyName"]};p=ju.prototype;
p.ny=function(){var a=this.Pb.hasThirdPartyCredentials;u(a)||(a=Dq(this)||-1!=this.m().search(/^.*@facebook\.aol$/),this.Pb.hasThirdPartyCredentials=a);return a};function Su(){var a=r._aim_user_,b=a.Pb.canEditMyName;u(b)||(b=!Dq(a)&&-1==a.m().search(/^.*@facebook\.aol$/),a.Pb.canEditMyName=b);return b}function Dq(a){var b=a.Pb.isOnThirdPartyNetwork;u(b)||(b="AIM"!=a.qb()||-1!=a.m().search(/^.*@chat\.facebook\.com$/),a.Pb.isOnThirdPartyNetwork=b);return b}
p.lt=function(){return 1E3*this.w("interactionScore",0)};p.SA=ca("gF");function Tu(a){a.SA((new Date).getTime())}function Uu(a,b){a.Oy!=b&&(b?Oq.j().Lc()&&!a.Wh()&&(a.Oy=j,Gs(Y.j(),a.m(),j),U("tempBuddy made: ",a.m())):(a.Oy=m,Gs(Y.j(),a.m(),m)),U("tempBuddy made permanent or dropped: ",a.m()))}p.Kc=function(a){return this.m()==a.m()};p.ez=function(a,b){var c=j;if(a)var c=this.m()+"`"+this.R()+"`"+(b?b:""),c=oi(c),d=oi(a),c=-1<c.indexOf(d);return c};var Vu={};
function Wu(a,b){var c=a.R(),d=b.R(),f=c+d;if(f in Vu)c=Vu[f];else var g=0,g=ur(c),i=ur(d),g=g==i?Mb(c.toUpperCase(),d.toUpperCase()):g?1:-1,c=Vu[f]=g;return c}function Xu(a,b){var c=Yu(a,b);return 0===c?Wu(a,b):c}function Yu(a,b){var c=a.xa(),d=b.xa();"idle"==c&&(c="online");"idle"==d&&(d="online");return c==d?0:"online"==c?-1:"online"==d?1:"away"==c?-1:"away"==d?1:"mobile"==c?-1:"mobile"==d?1:0}
function Zu(a,b,c){if(a==b)return m;if(!a!=!b)return j;var d=m,f;for(f in b)if(b.hasOwnProperty(f)){var g=b[f];switch(typeof g){case "number":case "string":case "boolean":d=a[f]!=g;break;case "object":c&&(d=Zu(a[f],g,m))}if(d)break}return d}function jr(a){a=oi(a);if(ur(a)){var b=vr(a);Ba(b)||(a=b)}return xu(a,ua($u,a,h))}function $u(a,b){return new ju(a,b)}ju.prototype.FO=function(){var a=this.m();Cs(Y.j(),[a],w(this.e2,this))};ju.prototype.pN=function(){Uu(this,m);return j};
ju.prototype.n=function(){Uu(this,m);ju.g.n.call(this)};ju.prototype.e2=function(a){if(kr(a)){var b=a.w("data.users",[]),b=qb(b,av),b=new bv(b);(b=b.C(this.m()))&&this.update(b)}Au(this,a)};function Ku(a){var b=m,c=cv();if(c){var d=c.IH;"denySome"==d?b=xb(c.tU,a.z()):"permitSome"==d?b=!xb(c.$T,a.z()):"permitOnList"==d&&(b=!a.Wh())}return b}
function dv(a,b,c){var d=cv();if(d){d=d.IH;"permitAll"==d&&(d="denySome");var f={},g={};"denySome"==d?b?f.Ro=a.z():g.Ro=a.z():"permitSome"==d&&(b?g.Qo=a.z():f.Qo=a.z());Ws(Y.j(),f,g,d,c)}};

function ev(a){this.ea=a;this.ya=a.id;this.r=jr(a.user.aimId);this.hd=a.title;this.ML="lsEntryTime"in a?1E3*a.lsEntryTime:0}ev.prototype.z=n("ya");ev.prototype.C=n("r");ev.prototype.lb=n("hd");

function fv(){this.dO=m;this.ZU={autoLoad:j,autoPlay:m,volume:100,position:0};this.iJ=[];this.Kg={};if(r.SoundManager){r.soundManager=new r.SoundManager;var a=r.soundManager;a.setup({url:fk(),debugMode:Hj&&window.console&&window.console.log,preferFlash:Q()?j:m,flashVersion:9,useHighPerformance:j});a.onready(this.g2,this);Q()&&delete a.audioFormats.wav}}z(fv,xe);ga(fv);p=fv.prototype;
p.g2=function(){var a=Sc("sm2-container");a&&(a.style.left="-10px");this.dO=j;A(this.iJ,function(a){this.play(a)},this);this.iJ=[]};
p.play=function(a,b,c){if(!this.dO)return this.iJ.push(a),k;c=c||0;w(this.tH,this,a);var d={id:a,url:a,onload:w(this.tH,this,a,c),onpause:w(this.k3,this,a),onplay:w(this.BQ,this,a),onresume:w(this.BQ,this,a),onfinish:w(this.Vz,this,a),onstop:w(this.Vz,this,a)};Nc(d,this.ZU);if(d=r.soundManager.createSound(d))this.Kg[a]={id:a,Hr:gv,Lj:d,ff:b},d.loaded&&N(w(this.tH,this,a,c,j),0);return d};
p.tH=function(a,b,c){var d=this.Kg[a];if(d)if(c){if(gv==d.Hr&&(d.Hr=hv,d.Lj.setPosition(0),d.Lj.play(),b))d.Lj.onPosition(b,w(this.q1,this,a))}else this.Vz(a,j)};p.Vz=function(a,b){var c=this.Kg[a];c&&(b&&this.dispatchEvent(new iv(jv,c)),c.Hr=kv,this.dispatchEvent(new iv(kv,c)),c.ff&&(c.ff=k,c.Lj.destruct()),Ic(this.Kg,a))};p.k3=function(a){if(a=this.Kg[a])a.Hr=lv,this.dispatchEvent(new iv(lv,a))};p.BQ=function(a){if(a=this.Kg[a])a.Hr=mv,this.dispatchEvent(new iv(mv,a))};
function nv(){fv.j();return j}var gv="aim.SoundPlayer.EventType.Audio_loading",hv="aim.SoundPlayer.EventType.Audio_loaded",mv="aim.SoundPlayer.EventType.Audio_playing",lv="aim.SoundPlayer.EventType.Audio_paused",kv="aim.SoundPlayer.EventType.Audio_ready",jv="aim.SoundPlayer.EventType.Audio_error";function ov(a,b){!a.Kg[b]&&a.play(b,k,2E3)}fv.prototype.q1=function(a){if(a=this.Kg[a])a.Lj.pause(),a.Lj.setPosition(0),a.Lj.stop()};function iv(a,b){L.call(this,a);this.D5=b}z(iv,L);

function pv(a){var b;try{b=Ml(a)}catch(c){a=a.replace(/[\xC0-\xC2\xE0-\xE2\xC8-\xCA\xE8-\xEB\xCC-\xCE\xEC-\xEE\xD2-\xD4\xF2-\xF4\xD9-\xDB\xF9-\xFB]/g,""),b=Ml(a)}return b};

function qv(a,b,c,d,f,g,i){qu.call(this,d);this.Gb=a;this.jJ=b.m();this.Lb=b;this.za=c;this.Ie=f||k;this.LK=k;this.No=a;a:{a=[];if(g){if("update"in g){this.LK=new ev(g.update);g=a;break a}if("news"in g){g=a;break a}try{var l=g.marker,q=this.Gb.substr(l).replace(/\s+/," ").replace(/^\s+/,"").split(" "),b=0;if("photo"in g)for(var s=0;s<g.photo.length;s++)"index"in g.photo[s]&&(b=g.photo[s].index),rv(q[b])&&0<=q[b].search(g.photo[s].assetid)&&(a.push({href:q[b],isKnownImage:j}),q[b++]="");if("file"in
g)for(s=0;s<g.file.length;s++){var B=g.file[s];"index"in B&&(b=B.index);if(rv(q[b])){var E=0==B.fileType.search(/^audio\/(?:x-)?(?:m4a|aac|mp4)/)||"VoiceNote"==B.displayType;a.push({href:q[b],name:B.name,fileType:B.fileType,urlForScaling:B.urlForScaling,isKnownImage:0==B.fileType.search(/^image\//),isKnownSound:E,showPlayerUi:E&&(!Q("app.system")||nv())});q[b++]=""}}this.Gb=this.Gb.substr(0,l);for(s=0;s<q.length;s++)q[s]&&(this.Gb+=" "+q[s])}catch(Z){a=[]}}!a.length&&ja(g)&&g.length&&(a=g);g=a}this.ai=
g;this.oD=m;this.ZE=i||k;t(this.Gb)&&0==this.Gb.replace(/(<([^>]+)>)/ig,"").indexOf("/me ")&&(i=this.Lb.Tl(),this.Lb.aa()||(i=this.Lb.R()),this.Gb=this.Gb.replace("/me ",i+" "),this.oD=j);this.No==this.Gb&&(this.No=this.Gb)}z(qv,qu);p=qv.prototype;p.sE=n("Ie");function sv(a){var b=r._aim_user_,a=a.m(),b=b.m(),a=(""+a).toLowerCase(),b=(""+b).toLowerCase();return 0==(a<b?-1:a==b?0:1)}p.Ma=n("Gb");function tv(a){var b=a.Gb;a.ai.length&&(b=a.ai[0].name);return b}p.UM=n("No");p.m=n("jJ");
p.C=function(){ia(this.Lb)&&S("we lost the race in getting "+this.jJ+"'s source user");return this.Lb};p.toString=function(){return this.Ma()};p.aj=n("za");p.$A=n("oD");function rv(a){var b=a.replace(hk,"$&");return a==b}function uv(a,b){for(var c,d=a.ai?a.ai.length:0;d--;)if(a.ai[d].href==b&&a.ai[d].urlForScaling){c=a.ai[d].urlForScaling;break}return c}p.no=function(){return!!this.ZE&&this.ZE instanceof vv&&this.ZE.no()};
p.Sa=function(){if(this.Lb instanceof wv){var a=this.Lb.Sa();Nc(a,{cc:this.Lb.m(),Pa:this.Lb.R(),aL:this.Lb.Zb(),gB:this.Lb.Zb(),icon:this.Lb.Zb()})}else a=this.Lb.Sa();return{text:this.Ma(),R5:this.Gb.replace(/(<([^>]+)>)/ig," "),timestamp:this.Aa.getTime(),V:a,$Y:this.za,cc:this.jJ,hq:this.ai,t$:this.Mc(),l$:this.oD}};
p.LS=function(){var a={sender:this.m(),msgId:this.za,date:this.Aa.getTime(),message:this.No};this.Ie&&(a.urlInfo=this.Ie);this.ai.length&&(a.metaData=this.ai,a.metaDataType="json");return a};

function xv(a,b,c,d,f,g){tu.call(this,a,b,d,f);this.za=c;t(g)&&(this.ea=g)}z(xv,tu);xv.prototype.ea=k;
function yv(a,b){var c=a.action,d={};A(a.userInfo||[],function(a){d[a.cc]=a.f$});var f=a.timestamp,g=new Date(1E3*f),i=a.member1,l=a.member1FriendlyName||d[i]||i,q=a.member2,s=a.member2FriendlyName||d[q]||q,B=k,E;switch(c){case "memberJoin":i==q?l=y("{$a} has joined this group chat.",{a:l}):(U("AddedToChat IMSERV_MEMBER_JOIN new: ",l,"  inviter: ",l,"  timestamp: ",a.timestamp,"  chatId: ",b),l=y("{$a} added {$b} to this group chat.",{a:s,b:l}));B=i;break;case "inviteAccepted":U("AddedToChat IMSERV_INVITE_ACCEPTED new: ",
l,"  inviter: ",l,"  timestamp: ",a.timestamp,"  chatId: ",b);l=y("{$b} accepted invitation from {$a} to this group chat.",{a:l,b:s});B=q;break;case "memberLeft":l=i==q?y("{$a} left this group chat.",{a:l}):y("{$b} kicked {$a} out of this group chat.",{a:l,b:s});B=i;break;case "iconChange":B=a.oldValue;E=a.newValue;E={oldValue:B,newValue:E};l=y("{$a} changed the picture for this group chat.",{a:l});B=i;break;case "friendlyChange":B=a.oldValue;E=a.newValue;E={oldValue:B,newValue:E};l=y("{$a} changed the name of this group chat.",
{a:l});B=i;break;case "groupDeleted":l=y("{$a} has disbanded the group chat.",{a:l});B=i;break;default:return k}try{return new xv(c,l,b+"-"+f+"-"+i+"-"+q,g,B,E)}catch(Z){return S("failed to create the activity message"),k}}xv.prototype.aj=n("za");xv.prototype.getData=n("ea");xv.prototype.no=o(m);

function zv(a,b){var c;if(t(a.action))c=yv(a,b||"");else if(a.sender&&a.message){if((c=a.urlInfo)&&"string"==typeof c)try{var d=c,f;try{f=pv(d)}catch(g){var i=window.JSON;i?(f=i.parse(d),R("Using native JSON parser as fallback. Error was...",g)):e(g)}c=f}catch(l){S("Message could not be parsed. "+l),c=h}d=jr(a.sender);f="metaDataType"in a&&"json"==a.metaDataType?a.metaData:h;f="string"==typeof f?pv(f):f;c=new qv(a.message,d,a.msgId,new Date(1E3*a.date),c,f)}else c=k;return c}
function Av(a,b){Ij(a);var c=[];A(a,function(a){a=zv(a,b||"");t(a)&&c.push(a)});return c};

var es="buddylist,conversation,im,dataIM,imserv,myInfo,offlineIM,presence,sentIM,sentDataIM,typing,lifestream,rateLimit,notification,service,urlInfo,permitDeny,ftux,preference,userAddedToBuddyList".split(",");

function Bv(a,b){L.call(this,b);this.b5=a||0}z(Bv,L);

function vv(a,b){Bv.call(this,b,"im");u(a.imserv)&&(a.source.imserv=a.imserv);this.Lb=av(a.source);var c;u(a.specialData)&&u(a.specialData.imFromImserv)&&(c=(c=a.specialData.imFromImserv.origSender||a.specialData.imFromImserv.sender)?jr(c):k);this.lJ=c;this.$h=a.message;this.Qw=a.autoresponse;this.gG=a.msgLogged;this.ps=!!a.offTheRecord;this.st=!!a.globalOffTheRecord||!!a.gOTR;this.Aa=a.timestamp;this.co=a.imserv;this.H5=a.specialIM;this.si=a.specialData;this.za=a.msgId;this.Eo=a.metaData;this.nu=
a.metaDataType;c=this.si?this.si.inviteMemberWithArchive||this.si.invitation:k;this.aY=!!c;this.YM=c?c.invitee||c.from:"";this.OW=c?c.groupName:""}z(vv,Bv);p=vv.prototype;p.dh=n("co");p.m=function(){return this.Lb.m()};p.bj=n("Lb");p.aj=n("za");p.Mc=function(){return this.ps||this.st};p.getDate=function(){return new Date(1E3*this.Aa)};p.no=n("aY");p.Ak=function(){return"imservMsg"==this.H5&&u(this.co)};
p.Gg=function(){var a,b;t(this.si)&&t(this.si.imFromImserv)?(a=this.si.imFromImserv.text,b=this.lJ):(a=this.$h,b=this.Lb);if(!u(b)||!u(a))return S("Could not create messsage - source or message was empty."),k;a=new qv(a,b,this.za,new Date(1E3*this.Aa),h,this.nu&&"json"==this.nu?pv(this.Eo):h,this);b=this.Mc();a.Oo=b;return a};
p.kl=function(){var a={},b={};t(this.si)&&t(this.si.imFromImserv)?(b.message=this.si.imFromImserv.text,b.sender=this.lJ.m(),a.aimId=b.sender,a.displayId=this.lJ.we()):(b.message=this.$h,b.sender=this.Lb.m(),a.aimId=b.sender,a.displayId=this.Lb.we());b.sent=0;b.timestamp=this.Aa;b.msgId=this.za;a.imserv=this.co;a.lastIM=b;a.incrementUnreadCount=j;a.convDataFromImEvent=j;return new Dv(a)};

function Ev(){}ga(Ev);function Fv(a,b,c){var a=[],d=b.za,f=Gv(b.No),g=f.length;try{for(var i=0;i<g;i++){var l=Hv(f[i]);l?a.push(Iv(f[i],l)):0<=f[i].search(/bmp$|ico$|jpg$|gif$|png$|jpeg$/i)&&a.push({uInfo:{type:"image",image_url:f[i]},url:f[i]})}}catch(q){}if(a.length){var b=b.m(),s=new Jv({to:c,from:b,msgId:d},0,a);N(function(){r._aim_session_.dispatchEvent(s)},0)}}
function Kv(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#34;/g,'"').replace(/&quot;/g,'"').toLowerCase()}function Gv(a){var b=[];a.replace(hk,function(a){(!b.length||Kv(b[b.length-1])!=Kv(a))&&b.push(a)});return b}function Iv(a,b){var c={type:b.Ga()||"video",subtype:b.$l(),image_url:b.gE(),html:b.Ln(),statusCode:200};return b.qi({uInfo:c,url:a})}
function Hv(a){var b;b=a.replace(/(http|https):\/\/youtu\.be\/([^\/\?&]*)/g,"$1://www.youtube.com/watch?v=$2");b=b.replace(/(\?[^?]*)\?/,"$1&");if(b.match(/((http|https):\/\/[\w?=&.\/-;#~%-]+youtube.com\/watch)/g))return new Lv(b);if(a.match(/http:\/\/cdn\.cloudfiles\.mosso\.com\/.*/))return new Mv(a);if(b=a.match(/http:\/\/(www\.)?vimeo\.com\/(\d+)$/))return new Nv(a,b[2]);if(a.match(/http:\/\/maps\.google\.com\/([\d\w?=&.,\/\-;#~%-+]+)$/))return new Ov(a);if(b=a.match(/http:\/\/(www\.)?twitvid\.com\/(\w+)$/))return new Pv(a,
b[2]);return(b=a.match(/http:\/\/(www\.)?funnyordie\.com\/videos\/(\w+)/))?new Qv(a,b[2]):(b=a.match(/http:\/\/(www\.)?shredordie\.com\/videos\/(\w+)/))?new Rv(a,b[2]):k}function Sv(a){this.url=a;this.CV=[];this.zU=m;this.I6="transparent"}Sv.prototype.$l=o("");Sv.prototype.gE=ba();Sv.prototype.qi=function(a){a.uInfo.thumbnail_width=240;a.uInfo.thumbnail_height=100;a.uInfo.thumbnail_url=P()+"common/images/videoPlaceholder.png";return a};
function Tv(a,b,c){b='<embed src="'+b+'" type="application/x-shockwave-flash" allowscriptaccess="'+(a.zU?"always":"never")+'" wmode="'+a.I6+'" allowfullscreen="true" width="379" height="'+c+'"';if(!a.Ix){a.Ix="";for(var c=0,d;d=a.CV[c];c++){var f=0==c?"":"&",f=f+(d[0]+"="+encodeURIComponent(d[1]));a.Ix+=f}}a=a.Ix;return'<div class="vid_embed">'+(b+('flashvars="'+a+'" ')+"></embed>")+"</div>"}function Lv(a){Sv.call(this,a)}z(Lv,Sv);
Lv.prototype.Ln=function(){var a=this.url.replace("/watch?v=","/v/"),b=a.match(/^(.*)#t=([0-9]+)m([0-9])+s$/);b&&(a=b[1]+"?start="+(60*parseInt(b[2],10)+parseInt(b[3],10)));return Tv(this,a,227)};Lv.prototype.Ga=o("video");Lv.prototype.$l=o("youtube");Lv.prototype.qi=function(a){var a=Lv.g.qi.call(this,a),b=/(?:&|\?)v=(\w+)/.exec(this.url);b&&2==b.length&&(b=b[1],a.uInfo.thumbnail_width=240,a.uInfo.thumbnail_height=100,a.uInfo.thumbnail_url="http://i3.ytimg.com/vi/"+b+"/hqdefault.jpg");return a};
function Pv(a,b){Sv.call(this,a);this.Ig=b}z(Pv,Sv);Pv.prototype.Ln=function(){return Tv(this,"http://www.twitvid.com/player/"+this.Ig,306)};Pv.prototype.Ga=o("video");Pv.prototype.$l=o("twitter");Pv.prototype.qi=function(a){a=Pv.g.qi.call(this,a);a.uInfo.height=306;a.uInfo.width=379;return a};function Nv(a,b){Sv.call(this,a);this.Ig=b}z(Nv,Sv);
Nv.prototype.Ln=function(){return Tv(this,"http://vimeo.com/moogaloop.swf?clip_id="+this.Ig+"&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1",217)};Nv.prototype.Ga=o("video");Nv.prototype.$l=o("Vimeo");Nv.prototype.qi=function(a){a=Nv.g.qi.call(this,a);a.uInfo.height=217;a.uInfo.width=379;return a};function Qv(a,b){Sv.call(this,a);this.Ig=b}z(Qv,Sv);
Qv.prototype.Ln=function(){return'<object width="379" height="227" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="ordie_player_'+this.Ig+'"><param name="movie" value="http://player.ordienetworks.com/flash/fodplayer.swf" /><param name="flashvars" value="key='+this.Ig+'" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always"></param><embed width="379" height="227" flashvars="key='+this.Ig+'" allowfullscreen="true" allowscriptaccess="always" quality="high" src="http://player.ordienetworks.com/flash/fodplayer.swf" name="ordie_player_'+
this.Ig+'" type="application/x-shockwave-flash"></embed></object>'};Qv.prototype.Ga=o("video");Qv.prototype.$l=o("funnyOrDie");Qv.prototype.qi=function(a){a=Qv.g.qi.call(this,a);a.uInfo.height=227;a.uInfo.width=379;return a};function Rv(a,b){Sv.call(this,a);this.Ig=b}z(Rv,Sv);
Rv.prototype.Ln=function(){return'<object width="379" height="257" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="ordie_player_'+this.Ig+'"><param name="movie" value="http://player.ordienetworks.com/flash/fodplayer.swf" /><param name="flashvars" value="key='+this.Ig+'&vert=shredordie" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always"></param><embed width="379" height="257" flashvars="key='+this.Ig+'&vert=shredordie" allowfullscreen="true" allowscriptaccess="always" quality="high" src="http://player.ordienetworks.com/flash/fodplayer.swf" name="ordie_player_'+
this.Ig+'" type="application/x-shockwave-flash"></embed></object>'};Rv.prototype.Ga=o("video");Rv.prototype.$l=o("shredOrDie");Rv.prototype.qi=function(a){a=Rv.g.qi.call(this,a);a.uInfo.height=257;a.uInfo.width=379;return a};function Mv(a){Sv.call(this,a);this.Zc=a}z(Mv,Sv);Mv.prototype.Ln=function(){return'<div class="pic_embed"><a target="_blank" href="'+this.Zc+'"><img class="large" src="'+this.Zc+'"/></a></div>'};Mv.prototype.Ga=o("image");Mv.prototype.$l=o("twitter");Mv.prototype.gE=n("Zc");
function Ov(a){Sv.call(this,a)}z(Ov,Sv);Ov.prototype.Ln=function(){return'<iframe width="356" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="'+(this.url+"&amp;output=embed")+'"></iframe><br /><small><a target="_blank" href="'+this.url+'">View Larger Map</a></small>'};Ov.prototype.Ga=o("map");Ov.prototype.$l=o("gmaps");Ov.prototype.gE=n("url");

function Uv(){Hl.call(this);this.h().e(r._aim_session_,["im","sentIM","offlineIM"],this.Q5);this.h().e(r._aim_session_,"urlInfo",this.p6);Xl=w(this.z4,this)}z(Uv,Hl);ga(Uv);p=Uv.prototype;p.Tj="chatlog";p.ww="info";p.QB="largest_chatlogs";p.yw="unread_counts";p.xT=50;
p.Q5=function(a){try{if(!a.Ak()&&!a.Qw&&!a.gG&&!a.Mc()){var b=a.m(),c=m,d=0,f=k,g=Vv(this,b);g?(d=g.lastIndex,f=Vl(Wv(this,b,d)),f.messages.length>=this.xT&&(d++,f=k,g.lastIndex=d,c=j)):(g={firstIndex:0,lastIndex:0},c=j);var i=a.Gg(),l=i.Aa?i.Aa.getTime()/1E3:0;ia(f)&&(f={startDate:l,endDate:0,messages:[]});var q=i.LS();q.date=Math.floor(q.date/1E3);f.messages.push(q);f.endDate=l;var s=r._aim_session_.m();c&&(Wl(Wv(this,b,this.ww),g),Xv(this,s,b,g.lastIndex-g.firstIndex+1));Yv(this,b,d,f);if(a instanceof
vv||a instanceof Zv){var B=this.Tj+"."+r._aim_session_.m()+"."+this.yw,E=Vl(B)||{};E[b]=E[b]?E[b]+1:1;Wl(B,E)}b=s;a instanceof $v&&(b=a.m());Fv(Ev.j(),i,b)}}catch(Z){S("ERROR caching message in local storage",Z)}};
function Xv(a,b,c,d){for(var f=m,g=aw(a),i=g.chats,l=0;l<i.length;l++){var q=i[l];if(q.sessionAimId==b&&q.chatAimId==c){f=j;0<d?q.chunkCount=d:Bb(i,l,1);break}}!f&&0<d&&(q={sessionAimId:b,chatAimId:c,chunkCount:d},i.push(q));Lb(i,function(a,b){return b.chunkCount-a.chunkCount});g.chats=Jb(i,0,10);Wl(a.Tj+"."+a.QB,g)}
p.z4=function(){var a=aw(this).chats;if(0<a.length){var b=a[0],a=b.sessionAimId,b=b.chatAimId,c=this.Tj+"."+a+"."+b+".",d=c+this.ww,f=Vl(d);f&&u(f.firstIndex)&&(Yl(c+f.firstIndex),f.firstIndex==f.lastIndex?(Yl(d),Xv(this,a,b,0)):(f.firstIndex++,Wl(d,f),Xv(this,a,b,f.lastIndex-f.firstIndex+1)))}};
p.p6=function(a){try{if(!a.aa()){var b=a.ct==r._aim_session_.m()?a.CJ:a.ct,c=Vv(this,b);if(c){var d=Vl(Wv(this,b,c.lastIndex));if(d){var f=d.messages,g=a.za,i=wb(f,function(a){return a.msgId==g},this);0<=i&&f[i]&&(f[i].urlInfo=a.Ie,Yv(this,b,c.lastIndex,d))}}}}catch(l){S("ERROR updating cached message in local storage",l)}};
p.Yl=function(a,b,c){var d=[],f=[],a=a.m(),g=Vv(this,a);if(g){for(var i=g.firstIndex,l=-1,q=k,g=g.lastIndex;g>=i;g--)if(q=Vl(Wv(this,a,g)),q.startDate<=b){l=g;break}else l=-1;if(0<=l){for(var s=c,g=l;g>=i&&0<s;g--)if(q=Vl(Wv(this,a,g)))l=bw(q,b,s),f=Fb(f,l),s=c-f.length;A(f,function(a){(a=zv(a))&&d.push(a)})}}return d};function bw(a,b,c){a=pb(a.messages,function(a){return a.date<b});return a.length>c?a.slice(a.length-c):a}
function cw(a,b){var c=a.Tj+"."+r._aim_session_.m()+"."+a.yw,d=Vl(c);d&&d[b]&&(delete d[b],Wl(c,d))}function aw(a){return(a=Vl(a.Tj+"."+a.QB))?a:{chats:[]}}function Vv(a,b){return Vl(Wv(a,b,a.ww))}function Yv(a,b,c,d){Wl(Wv(a,b,c),d)}function Wv(a,b,c){return a.Tj+"."+r._aim_session_.m()+"."+b+"."+c};

function dw(a){this.yq={};this.Bb=new Kf(this);this.bb=a}z(dw,xe);function ew(a,b,c){(c=v(c)?c:c.src)&&(a.yq[b]=c)}dw.prototype.start=function(){Cc(this.yq,this.AY,this)};dw.prototype.AY=function(a,b){var c;c=this.bb?J(this.bb).l("img"):new Image;this.Bb.e(c,[G?"readystatechange":"load","abort","error"],this.jH);c.id=b;c.src=a};
dw.prototype.jH=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});this.qe||(Ic(this.yq,b.id),Hc(this.yq)&&(this.dispatchEvent("complete"),this.Bb&&this.Bb.Rd()))}};
dw.prototype.n=function(){this.yq&&delete this.yq;this.Bb&&(this.Bb.o(),this.Bb=k);dw.g.n.call(this)};

var fw=m,gw="";function hw(a){a=a.match(/[\d]+/g);a.length=3;return a.join(".")}
if(navigator.plugins&&navigator.plugins.length){var iw=navigator.plugins["Shockwave Flash"];iw&&(fw=j,iw.description&&(gw=hw(iw.description)));navigator.plugins["Shockwave Flash 2.0"]&&(fw=j,gw="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var jw=navigator.mimeTypes["application/x-shockwave-flash"];(fw=jw&&jw.enabledPlugin)&&(gw=hw(jw.enabledPlugin.description))}else try{var kw=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),fw=j,gw=hw(kw.GetVariable("$version"))}catch(lw){try{kw=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),fw=j,gw="6.0.21"}catch(mw){try{kw=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),fw=j,gw=hw(kw.GetVariable("$version"))}catch(nw){}}}var ow=gw;

function pw(a,b){Of.call(this,b);this.XV=a;this.wa=new Kf(this);this.tc=new Ch}z(pw,Of);p=pw.prototype;p.Z=hj("goog.ui.media.FlashObject");p.tT="window";p.pU="#000000";p.YT="sameDomain";p.Cg=function(a,b){this.ql=v(a)?a:Math.round(a)+"px";this.ge=v(b)?b:Math.round(b)+"px";this.c()&&gf(qw(this),this.ql,this.ge);return this};
p.v=function(){pw.g.v.call(this);var a=this.c(),b;b=G?'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="%s" name="%s" class="%s"><param name="movie" value="%s"/><param name="quality" value="high"/><param name="FlashVars" value="%s"/><param name="bgcolor" value="%s"/><param name="AllowScriptAccess" value="%s"/><param name="allowFullScreen" value="true"/><param name="SeamlessTabbing" value="false"/>%s</object>':'<embed quality="high" id="%s" name="%s" class="%s" src="%s" FlashVars="%s" bgcolor="%s" AllowScriptAccess="%s" allowFullScreen="true" SeamlessTabbing="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" %s></embed>';
for(var c=G?'<param name="wmode" value="%s"/>':"wmode=%s",c=za(c,this.tT),d=this.tc.Qe(),f=this.tc.dd(),g=[],i=0;i<d.length;i++){var l=Ka(d[i]),q=Ka(f[i]);g.push(l+"="+q)}b=za(b,this.z(),this.z(),"goog-ui-media-flash-object",Ma(this.XV),Ma(g.join("&")),this.pU,this.YT,c);a.innerHTML=b;this.ql&&this.ge&&this.Cg(this.ql,this.ge);this.wa.e(this.c(),Fc(Zd),Vd)};
p.l=function(){this.uR!=k&&!(0<=cb(ow,this.uR))&&(cj(this.Z,"Required flash version not found:"+this.uR),e(Error("Method not supported")));var a=this.D().createElement("div");a.className="goog-ui-media-flash";this.F=a};function qw(a){return a.c()?a.c().firstChild:k}p.n=function(){pw.g.n.call(this);this.tc=k;this.wa.o();this.wa=k};p.Lc=function(){return!this.G||!this.c()?m:qw(this).readyState&&4==qw(this).readyState||qw(this).PercentLoaded&&100==qw(this).PercentLoaded()?j:m};

function rw(a,b){L.call(this,"aim.playgrounds.EventType.EXPAND");this.Ru=a;this.NH=b||k}z(rw,L);rw.prototype.nk=n("Ru");rw.prototype.ok=n("NH");function sw(a,b){L.call(this,"aim.playgrounds.EventType.SHARE");this.Ru=a;this.Fc=b instanceof Array?b:[b]}z(sw,L);sw.prototype.nk=n("Ru");sw.prototype.Ra=n("Fc");


function tw(a,b){this.Hl=a instanceof zc?a:new zc(a,b)}z(tw,Ff);tw.prototype.Xc=function(a,b,c,d){zf(Xe(a),0,a,b,this.Hl,c,k,d)};

function uw(a,b){this.VQ=4;this.KH=b||h;om.call(this,a)}z(uw,om);function vw(a,b){a.VQ=b;a.isVisible()&&a.Xc()}uw.prototype.vd=function(a){this.KH=a||h;this.isVisible()&&this.Xc()};uw.prototype.Xc=function(){if(this.KH){var a=!this.isVisible()&&"move_offscreen"!=this.Ga(),b=this.c();a&&(b.style.visibility="hidden",O(b,j));this.KH.Xc(b,this.VQ,this.SF);a&&O(b,m)}};

function ww(){V.call(this);this.ia=new vq;this.ia.ZI=m;this.te=xw(yw(new zw));this.aw=new ye(100)}z(ww,V);p=ww.prototype;p.nS=j;p.Ja=k;p.oC=k;p.Jg=k;p.ir=k;p.oa=k;p.MN="";p.$i=n("Ja");p.l=function(){Gl(this,Aw,{id:"aimlist",Pu:this.MN});this.O(this.ia)};
p.v=function(){ww.g.v.call(this);this.Ja=K("aimlist-searchbar-input",this.c());this.ir=K("aimlist-itemscontainer",this.c());this.ia.qa(K("aimlist-itemscontainer",this.c()));this.zc=new bu;this.O(this.zc);this.zc.qa(this.Ja);this.h().e(this.Pe(),"key",this.FE).e(this.Ja,["input","propertychange"],this.XG).e(this.Ja,"click",this.Jj).e(this,"select",this.Hu).e(this,Gq,this.Ko).e(this.aw,Ae,this.G3);this.oa||this.OI()};p.$=function(){ww.g.$.call(this);this.h().Rd();this.Ja=k;this.zc.o();this.zc=k};
p.Ko=function(a){(a=a.getItem().V)&&this.dispatchEvent(new Bw(a))};p.EQ=function(){this.dispatchEvent("aim.ui.AimList.NewChat")};
p.FE=function(a){switch(a.keyCode){case 27:this.Td("");break;case 13:if(this.oa&&this.oa.isVisible()&&this.ia.H().length)this.ia.Pe().dispatchEvent(a);else if(a=this.Ja.value)a=jr(a),this.dispatchEvent(new Bw(a)),this.dk();break;case 40:case 38:case 34:case 33:this.oa&&this.oa.isVisible()?this.ia.Pe().dispatchEvent(a):this.Jj();break;case 8:if(this.Ja&&G){var b=this.Ja.value,c=this.Ja.selectionStart,d=this.Ja.selectionEnd;c&&d==c&&c--;c<d&&(this.Ja.value=b.substring(0,c)+b.substring(d,b.length),this.XG(),
this.Ja.selectionStart=this.Ja.selectionEnd=c,a.preventDefault())}}};p.G3=function(){this.aw.stop();this.Ja&&(this.Td(this.Ja.value,j),this.dispatchEvent("aim.ui.AimList.Change"))};p.XG=function(){this.aw.setInterval(500);this.aw.enabled||this.aw.start()};p.Hu=function(){this.Td("");Cw(this)};p.rd=function(){this.G&&(this.Ja.focus(),this.zc&&(cu||this.zc.Br()))};p.DA=function(){this.ia.scrollIntoView(0)};p.jt=function(){var a=pp(this.ia);this.oa&&this.oa.isVisible()&&-1<a&&this.ia.H()};p.w=function(){return this.Ja.value};
p.ga=function(a){this.Ja.value=a;cu||this.zc.Br()};function Dw(a,b){a.MN=b;if(a.G){var c=K("aimlist-searchbar-input",a.c());c&&(c.setAttribute("placeholder",b),a.zc&&(cu||a.zc.Br()))}}p.zb=function(a){if(this.G){var b=K("aimlist-searchbar-input",this.c());b&&b.setAttribute("title",a)}};p.dk=function(){this.Td("")};
p.Td=function(a,b){this.te.Px=a;(!Ca(this.te.Px)||this.oa&&this.oa.isVisible())&&this.Jj();var c=this.ia.c();Ca(a)?(D(c,"filtering"),this.ia.scrollIntoView(0)):C(c,"filtering");this.G&&(b?this.Ja.value!=a&&this.XG():this.Ja.value=a,a.length?C(this.c(),"filtering"):D(this.c(),"filtering"));sp(this.ia)};p.jK=350;p.OI=function(){this.oa=new uw(this.ir);this.oa.WA(this);qm(this.oa);this.oa.dp(j);this.oa.L(m);C(this.ir,"popup")};
p.Jj=function(){var a=Oq.j(),b=this.ia.H();if(!this.te.RI){b=Ew(a,this.te);if(this.nS){var c=this.te.Px;2<=c.length&&!a.contains(c)&&(b.push(new kq("Not in list")),a=jr(c),b.push(new xq(a,"search_"+c)))}this.ia.vc(b)}this.oa&&(b={},Fw(this,b),Gw(this,b),b.$z||Gw(this,b),0==b.$z?(c=this.jK,this.Jg&&(c=Hw(b)?b.Vr-(b.en-b.an)-b.Aw:b.Vr),c-=100):c=b.en-b.an,b.NT=c+"px",c=b.NT,this.ir.style["max-height"]=c,(a=K("vl-scrollbar",this.c()))&&(a.style["max-height"]=c),c=c.replace("px",""),a=this.ia.dE(),this.ir.style.height=
Math.min(c,a)+"px",wp(this.ia),vw(this.oa,b.$z),this.oa.vd(new Hf(b.wK,b.vK)));!this.oa.Rt()&&!this.aO()&&(tp(this.ia,-1,m),this.oa.L(j),this.dispatchEvent("aim.ui.AimList.Shown"),sp(this.ia));this.ia.qf=j;ep(this.ia)};p.aO=function(){return 0==this.ia.length};function Hw(a){return a.WJ&&a.Vr?a.an<=a.en+30&&a.an+a.Vr>=a.en+a.Aw-30&&a.XJ<=a.SB+30&&a.XJ+a.WJ>=a.SB+a.xK-30:j}
function Fw(a,b){var c={},c=a.oC||a.Ja;if(a.Jg&&c)var d=yd(a.Jg,c),c={XJ:Iw(d,a.Jg,"left"),an:Iw(d,a.Jg,"top"),WJ:a.Jg.offsetWidth,Vr:a.Jg.offsetHeight,SB:Iw(d,c,"left"),en:Iw(d,c,"top"),xK:c.offsetWidth,Aw:c.offsetHeight};else c={XJ:0,an:0,WJ:0,Vr:0,SB:0,en:0,xK:0,Aw:0};Nc(b,c)}function Gw(a,b){b.an||Fw(a,b);if(Hw(b)){var c=b.en-b.an>b.Vr-(b.en-b.an)-b.Aw;b.vK=c?0:1;b.$z=c?1:0;b.wK=a.oC||a.Ja}else b.vK=0,b.$z=0,b.wK=a.Jg}
function Iw(a,b,c){var d=0;a!=b&&ud(a,b)&&(a=ff(a),b=ff(b),"top"==c?d=b.y-a.y:"left"==c&&(d=b.x-a.x));return d}function Cw(a){a.G&&a.oa&&a.oa.L(m);a.dispatchEvent("aim.ui.AimList.Hidden")};

function Jw(a,b){V.call(this);this.Fc=[];this.Na=u(b)?b:new ww;this.dL=a||""}z(Jw,V);p=Jw.prototype;p.Pv=k;p.l=function(){Jw.g.l.call(this);this.O(this.Na);var a={};a.wU=this.dL;Gl(this,Kw,a);this.Na.T(K("chooser",this.c()))};p.K=function(a){Jw.g.K.call(this,a);this.Pv=K("submit",a)};p.n=function(){Jw.g.n.call(this);delete this.Fc;this.Na&&(this.Na.o(),delete this.Na)};
p.v=function(){Jw.g.v.call(this);O(this.Pv,!Ba(this.dL));var a=K("fake-input",this.c());a&&(this.Na.oC=a);var a=bd(this.c().ownerDocument),b=this.Na.$i();this.h().e(a,"resize",this.pH).e(this.c(),"click",this.Kb).e(this.Pe(),"key",this.sj).e(this,Lw,this.yz).e(this,"show",this.Y1).e(this,"hide",this.W1).e(this.Na,Mw,this.AG).e(b,"keydown",this.X0).e(b,"blur",this.xu).e(b,"focus",this.CB);this.CB()};p.$=function(){Jw.g.$.call(this);this.h().Rd()};
p.X0=function(a){var b=this.Na.$i().value;if(8==a.keyCode&&0==b.length)if(0==Nw(this).length){if(a=Ow(this))(a=a[a.length-1])&&a.focus()}else A(Nw(this),this.Yu,this),this.dispatchEvent(Lw);else Pw(this)};
p.sj=function(a){var b=m,c=this.Na.$i();if(a.target==c&&(9==a.keyCode&&!a.shiftKey||188==a.keyCode&&!a.Qu||186==a.keyCode)){c=this.Na.w();if(!Ba(c)&&(c=jr(c))&&!xb(this.Fc,c))this.es(c),this.Na.dk();9!=a.keyCode&&(b=j);Cw(this.Na)}else if((a.target!=c||!c.value)&&8==a.keyCode||46==a.keyCode)b=a.target,b instanceof Element&&F(a.target,"chosen")&&Qw(this,b),A(Nw(this),this.Yu,this),this.dispatchEvent(Lw),Cw(this.Na),b=j;else if(9==a.keyCode){var d;d=Ow(this);var f=d.length;d=1>f?k:d[f-1];a.target==
c&&a.shiftKey?d&&(d.focus(),b=j):a.target==d&&!a.shiftKey&&(this.Na.rd(),b=j)}else 37==a.keyCode?Rw(this,-1,a):39==a.keyCode?Rw(this,1,a):a.target!=c&&Ge(a.keyCode)&&this.Na.rd();b&&(a.preventDefault(),a.stopPropagation())};p.Y1=function(){Pw(this);C(this.c(),"popup")};p.W1=function(){D(this.c(),"popup")};p.Jj=function(){this.Na.G&&this.Na.Ja==document.activeElement&&(this.Na.Jj(),Pw(this),C(this.c(),"active"))};p.uH=function(){0<this.Fc.length&&(this.dispatchEvent(new Sw(this.Fc)),this.or())};
p.or=function(){this.Fc=[];var a=Ow(this);A(a,function(a){od(a)});this.dispatchEvent(Lw)};p.yz=function(){this.CB();0==this.Fc.length?D(this.Pv,"on"):C(this.Pv,"on");this.Na.rd();Cw(this.Na)};
function Rw(a,b,c){var d=Ow(a),f=d.length;if(f){var g,i=a.Na.$i();if(document.activeElement==i){if(0<b||0!=i.selectionStart||0!=i.selectionEnd)return;g=f+b}else{for(i=0;i<f;i++)if(document.activeElement==d[i]){g=i;break}g+=b}if(!(0>g))if(g>=f){if(!c||!c.shiftKey)a.Na.rd(),c&&(c.preventDefault(),c.stopPropagation())}else a=d[g],c&&c.shiftKey&&(a.MH=j),a.focus(),c&&(c.preventDefault(),c.stopPropagation())}}p.Kb=function(a){a.target==this.Pv?this.uH():(this.Na.rd(),this.Jj())};
p.AG=function(a){a=a.C();xb(this.Fc,a)||(this.es(a),Tw(this))};function Tw(a){N(function(){this.G&&this.Na.G&&this.Na.Ja==document.activeElement&&this.Na.rd()},0,a)}function Nw(a){return Gb(Vc("selected",a.c()))}function Ow(a){return Gb(Vc("chosen",a.c()))}p.Yu=function(a){var b=a.getAttribute("data-aim-id");A(this.Fc,function(a){a.m()==b&&(Cb(this.Fc,a),qp(rp.j(),a.R()+" deleted from chat"))},this);od(a);A(a.zY,pe)};p.xu=function(){0==Nw(this).length&&D(this.c(),"active")};
function Pw(a){A(Nw(a),function(a){D(a,"selected");C(this.c(),"active")},a)}
p.es=function(a){this.Fc.push(a);qp(rp.j(),a.R()+" selected for chat");var b=Tc("li","chooser",this.c())[0],c={cc:a.m(),Pa:a.R(),icon:Nu(a)},c=gk(Uw,c,J(b));b.parentNode.insertBefore(c,b);b=K("aimlist-searchbar-input",this.c());c.setAttribute("tabindex",b.getAttribute("tabindex"));a.Lc()||(Mf(this.h(),a,yu,w(this.r6,this,a,c)),a.load());a=[];a.push(M(c,"click",this.d1,h,this));a.push(M(c,"focus",this.e1,h,this));a.push(M(c,"blur",this.c1,h,this));c.zY=a;Pw(this);this.dispatchEvent(Lw);Tw(this)};
p.r6=function(a,b){K("text",b).innerHTML=a.R()};function Qw(a,b){C(b,"selected");C(a.c(),"active");var c=b.children?b.children[1]:k,c=(c=c?c.innerText||c.innerHTML:k)||b.getAttribute("data-aim-id");qp(rp.j(),c+" selected for deletion. press delete to remove this user from the chat")}
p.d1=function(a){var b=a.target,c=Ld(b,"chosen");c&&c.tagName&&(F(b,"close")?(this.Yu(c),this.dispatchEvent(Lw)):a.shiftKey?(c.MH=j,F(c,"selected")?(c.focus(),D(c,"selected"),C(this.c(),"active")):(c.focus(),Qw(this,c)),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()):c.focus(),a.stopPropagation())};
p.e1=function(a){var b=a.target;F(b,"chosen")&&(b.MH===j?delete b.MH:Pw(this),Qw(this,b),Cw(this.Na));a.stopPropagation()};p.c1=function(a){var b=Ow(this);a.target==(1>b.length?k:b[0])&&D(this.c(),"active")};p.Ra=n("Fc");function Vw(a){if(a.Na){var b=a.Na.w();a.Na.dk();b&&""!=b.replace(/\s+/,"")&&A(b.split(","),function(a){a=jr(a);this.Na.dispatchEvent(new Bw(a))},a)}}p.pH=function(){var a=this.Na.$i();hf(a,a.style[hb("min-width")]||""||30);this.CB()};
p.CB=function(){this.G&&N(function(){if(!this.qe){var a=this.Na.$i();a&&this.tM(a)}},1,this)};p.tM=function(a){if(a){var b=a.offsetParent;if(b)if(b.offsetWidth){hf(a,0);var c=sf(b),d=df(b),b=b.offsetWidth-(d.right+d.left)-(c.right+c.left),c=sf(a),d=df(a),f=uf(a,"margin");hf(a,b-(c.left+c.right+d.left+d.right+f.left+f.right)-a.offsetLeft)}else N(ua(this.tM,a),50,this)}};var Lw="aim.chooser.ui.MultiChooserBox.CHANGE";function Sw(a){L.call(this,"aim.chooser.ui.MultiChooserBox.SUBMIT");this.Fc=a}
z(Sw,L);Sw.prototype.Ra=n("Fc");


function Ww(a,b){V.call(this,b);this.Ne=new Xw(this);this.Zs=this.Av=this.jB=this.Nm=this.jp=k;this.BL=m}z(Ww,V);p=Ww.prototype;p.l=function(){Ww.g.l.call(this);Gl(this,Yw,{});this.pb=K("preview-content",this.c())};p.n=function(){Ww.g.n.call(this);this.h().Rd()};
p.OS=function(){this.jp||(this.jp=new Jw("Share"),this.O(this.jp),this.jp.T(this.Nm),this.Av&&(this.jp.Na.Jg=this.Av),this.h().e(this.jp,"aim.chooser.ui.MultiChooserBox.SUBMIT",this.x1),this.h().e(this.jp,Lw,this.b3));"none"!=this.Nm.style.display?O(this.Nm,m):(O(this.Nm,j),Zw(this.Nm))};p.x1=function(a){a.stopPropagation();var a=a.Ra(),b=this.nk();this.dispatchEvent(new sw(b,a));this.OS();$w(this)};
function $w(a){var b=new aq(a.jB,1E3),c=a.jB;Mf(a.h(),b,"end",function(){setTimeout(function(){(new Zp(c,1E3)).play()},2E3)});b.play()}p.e0=function(){this.dispatchEvent(new rw(this.nk(),this))};p.JV=function(){this.Zs&&(this.Zs.Lc()||this.Zs.c().appendChild(gk(ax,{})),this.Zs=k)};
function bx(a){var b=a.H(),c=b.Yb();if(c){var b=b.Rn(),d=jf(a.pb);if(!d.width||!d.height)return m;if(d.width<b.width){for(var f=a.pb,g=d.width,i=0;f;){if(Ta(f.className,"messaging-message-messagebox")){g=f.offsetWidth-i;break}if(Ta(f.className,"messaging-message-container")||Ta(f.className,"preview-content"))var l=uf(f,"margin"),i=i+(l.left+l.right),l=sf(f),i=i+(l.left+l.right);f=f.parentNode}g<=d.width+0.05*d.width?b=d:g<b.width&&(b.height=b.height*g/b.width,b.width=g)}else b=d;d=0;for(f=a.pb;f&&
!F(f,"messaging-history");)d+=f.offsetTop,f=f.offsetParent;if(f)var q=f.scrollTop+f.offsetHeight-d,s=f.scrollTop+f.offsetHeight-(d+a.pb.offsetHeight);a.pb.innerHTML="";c instanceof pw?(a.O(c),c.T(a.pb),c.Cg(b.width,b.height),a.Zs=c,N(a.JV,5E3,a)):(a.pb.appendChild(c),gf(c,b.width,b.height));a.BL=j;f&&Zw(a.pb,q,0<s?s:h)}return c?j:m}
p.K=function(a){Ww.g.K.call(this,a);this.Nm=Tc("div","share-box-container",this.c())[0];O(this.Nm,m);this.jB=K("success",this.c());O(this.jB,m);this.o5=K("share",this.c());this.h().e(this.o5,"click",this.OS)};p.v=function(){Ww.g.v.call(this);var a=this.H();a&&a.kA()?bx(this)&&this.dispatchEvent("aim.playgrounds.EventType.PREVIEW_LOADED"):this.h().e(this.c(),"click",this.Kb)};p.Kb=function(a){a.stopPropagation()};p.nk=function(){return this.H()};function Xw(a){To.call(this);this.t4=a}z(Xw,cp);
Xw.prototype.YC=function(a){a=Xw.g.YC.call(this,a);C(a,"dragging");return a};function cx(a,b){var c=Tc("a","aol-soy-autolink",a.c());A(c,function(a){var c=b.nk().me.toString();a.getAttribute("href")==c&&O(a,m)})}Ww.prototype.b3=function(){Zw(this.Nm)};
function Zw(a,b,c){for(var d=0,f=a;f&&!F(f,"messaging-history");)d+=f?f.offsetTop:0,f=f?f.offsetParent:k;f&&(a=d+a.offsetHeight,c?f.scrollTop=a+c-f.offsetHeight:b?f.scrollTop=d+b-f.offsetHeight:f.scrollTop+f.offsetHeight<a?f.scrollTop=a-f.offsetHeight:f.scrollTop>a&&(f.scrollTop=d))}Ww.prototype.QE=function(){var a=this.H();a&&a.kA()&&!this.BL&&bx(this)&&this.dispatchEvent("aim.playgrounds.EventType.PREVIEW_LOADED")};

function dx(a,b){Ww.call(this,0,b)}z(dx,Ww);dx.prototype.l=function(){dx.g.l.call(this)};dx.prototype.K=function(a){dx.g.K.call(this,a);if((a=this.H())&&!a.kA())if(Sb(this.c(),"playground-preview","playground-hidden"),a=a.Tn()){var b=new dw;this.h().e(b,"load",this.Mz);this.h().e(b,"error",this.VG);ew(b,"playgroundPreview_"+ +new Date,a);b.start()}};
dx.prototype.Mz=function(a){var b=this.H(),a=a.target;b.getData();C(a,"thumb");Sb(this.c(),"playground-hidden","playground-preview");this.h().e(K("preview-content",this.c()),"click",this.e0);this.pb&&this.pb.appendChild(a);b=new $p(this.pb,300);this.h().e(b,"finish",function(){this.dispatchEvent("aim.playgrounds.EventType.PREVIEW_LOADED")});this.dispatchEvent("aim.playgrounds.EventType.PREVIEW_RENDERED");b.play()};
dx.prototype.VG=function(){var a=this.H().Tn();Gj("Failure to load image inline in an img tag: ",a)};


function ex(a){Il.call(this,""+101010101*Math.random());this.J=a.ok();this.J.vc(a)}z(ex,Il);ex.prototype.q=n("J");

function fx(a,b,c){this.ya=+new Date;this.me=a;this.ea=b||{};this.Cb=c||k;this.title=""}z(fx,Pd);p=fx.prototype;p.pk=n("title");p.Tn=function(){return this.ea.thumbnail_url};p.z=n("ya");p.setData=ca("ea");p.getData=n("ea");p.Ma=function(){return this.me.toString()};p.Ga=n("Cb");p.ok=function(){return new dx};p.kA=o(m);

function bv(a){Hl.call(this);this.ol={};a&&this.update(a)}z(bv,Hl);p=bv.prototype;p.Ra=function(){return Fc(this.ol)};p.C=function(a){return this.ol[a]};p.contains=function(a){return!!this.ol[a]};p.Zd=function(a){this.ol[a.z()]=a};function gx(a,b){a.update(b)}p.xg=function(a){this.bv(a.z())};p.bv=function(a){Ic(this.ol,a)};p.clear=function(){this.ol={}};function hx(a,b){a.ol[b.z()]?a.ol[b.z()]=b:a.Zd(b)}
p.update=function(a){a instanceof ju?hx(this,a):a instanceof bv?ix(a,function(a){hx(this,a)},this):ka(a)&&A(a,function(a){hx(this,a)},this)};function jx(a){return Ec(a.ol)}p.wb=function(){return 0==jx(this)};function ix(a,b,c){A(a.Ra(),b,c)}p.concat=function(a){var b=new bv(this.Ra());b.update(a);return b};p.Sa=function(){var a=[];ix(this,function(b){a.push(b.Sa())});return a};

function wv(a){ju.call(this,a);this.update({imserv:a});this.lh=new bv;this.cl(m)}z(wv,ju);p=wv.prototype;p.SQ=k;p.xa=o("online");p.R=function(){var a=this.w("friendly");return a=(a=a||this.w("displayId"))?a.replace(/^\[/,"").replace(/]$/,""):this.z()};p.Tl=function(){return this.R()};p.Zb=function(){var a=this.w("buddyIconUrl");return(a=a||this.w("groupIcon"))?Cq(a):P("common/images/default-group.png")};p.lb=function(){return this.w("description","")};p.Yw=o(m);p.cj=o("imserv");p.Wh=o(j);
p.Sa=function(){return{cc:this.z(),PX:this.z(),title:this.R(),icon:this.Zb(),Go:jx(this.lh)||this.w("memberCounts",0),state:this.xa(),Pa:this.R(),ek:this.Tl()}};p.eh=n("lh");p.Fw=function(a){this.lh.update(a)};p.zr=ca("SQ");function kx(a){return xu(a,ua(lx,a))}function lx(a){return new wv(a)}p.FO=function(){var a=Y.j(),b=this.z(),c=w(this.H0,this);$(a,"imserv","getSettings",{imserv:b},c)};p.H0=function(a){kr(a)&&(this.update(a.w("data")),Au(this,a))};

var Bq="text";
function Dv(a,b){this.df=a.aimId;this.oV=a.displayId||k;this.ng=a.imserv||k;this.xM=this.Dq=m;this.r=this.ng?kx(this.ng):jr(this.df);this.wo=k;if(t(b))this.wo=b,this.Dq=b.C().m()==r._aim_user_.m();else{var c=a.lastIM||k;if(t(a.lastIM)){this.Dq=1==c.sent;this.xM=c.wasFileSent||m;var d=c.timestamp;d&&!(d instanceof Date)&&(d=new Date(1E3*d));!a.timestamp&&a.convDataFromImEvent&&this.Dq&&(d=new Date);var f=this.Dq?r._aim_user_:this.r;t(a.lastIM.sender)&&(f=jr(a.lastIM.sender));var g=c.metadata?pv(c.metadata):
h;this.wo=new qv(c.message,f,c.msgId,d,h,g)}}var c=this.wo,g=this.df,d=c,i=Uv.j(),f=k,l=Vv(i,g);if(l&&(g=Vl(Wv(i,g,l.lastIndex))))g=bw(g,Math.floor(x()/1E3),1),1==g.length&&(f=zv(g[0]));if(!c||f&&0>su(c,f))d=f;this.wo=d;this.Yy=a.lastReadMsgId||k;this.gF=0;this.nY=a.keepUnreadCount||m;this.WC=a.convDataFromImEvent||m;this.wy=j;c=1==a.manyUnread?-1:a.unreadLoggedCount;u(c)||(c=a.unreadCount||0);this.WC&&((this.wy=a.incrementUnreadCount)||(c=0));this.Fj(c);this.YX=1==a.active;this.Se=1==a.focus;d=a.type;
c=a.lastIM;if(!d&&c&&c.urlInfo&&(f=(f=pv(c.urlInfo))?f.urlInfoResults:k)&&0<f.length)d=f[0].uInfo.type,d="unknown"!=d?d:k;if((!d||d==Bq)&&c&&c.metadata)d=(c=(g=pv(c.metadata))&&g.file?g.file[0]:k)?c.type:k;d||(d=Bq);this.nO=d;this.QN=a.invited||m;this.iF=a.invitedBy||""}p=Dv.prototype;p.Rj=0;p.getKey=function(){return this.C()?this.C().m():this.df};p.m=n("df");p.C=n("r");p.R=n("oV");p.dh=n("ng");p.Ld=n("wo");function mx(a){return a.wo?a.wo.Aa.getTime():0}
function nx(a){var b=a.Rj;if(0<=a.Rj)var c=Uv.j(),a=a.df,c=c.Tj+"."+r._aim_session_.m()+"."+c.yw,c=Vl(c),b=b+(c&&c[a]?c[a]:0);return b}p.Fj=ca("Rj");p.SA=ca("gF");p.hE=n("YX");p.lt=n("gF");p.oo=n("QN");function ox(a,b){var c=mx(a)||a.lt(),d=mx(b)||b.lt();return ia(c)?ia(d)?0:1:ia(d)?-1:d-c}function px(a){var b,c={active:0};a.aa()?(b=a.z(),c.imserv=b):b=a.m();c.displayId=a.we();c.aimId=b;return new Dv(c)};

function qx(){this.Rb={};this.Bw=k}ga(qx);qx.prototype.update=function(a,b){var c=a.getKey();ia(c)||(this.Rb[c]=a,b&&(this.Bw=c),pu.j().Tf(rx))};qx.prototype.add=function(a,b){var c=a.getKey();ia(c)||(this.Rb[c]=a,b&&(this.Bw=c),pu.j().Tf(sx))};qx.prototype.remove=function(a){a=a.getKey();ia(a)||(this.Bw==a&&(this.Bw=k),delete this.Rb[a],pu.j().Tf(tx))};var sx="aim.messaging.data.RecentChats.ADDED",tx="aim.messaging.data.RecentChats.REMOVED",rx="aim.messaging.data.RecentChats.UPDATED";

function ux(a){this.wg=[];bv.call(this,a)}z(ux,bv);p=ux.prototype;p.Ra=function(){return Gb(this.wg)};p.Zd=function(a,b){this.contains(a.z())||(b||this.wg.push(a),ux.g.Zd.call(this,a))};function nr(a,b,c){a.contains(b.z())?Eb(a.wg,function(a){return a.z()==b.z()}):a.Zd(b,j);Bb(a.wg,c,0,b)}p.bv=function(a){ux.g.bv.call(this,a);Eb(this.wg,function(b){return b.z()==a})};p.clear=function(){ux.g.clear.call(this);this.wg=[]};p.sort=function(a){Nb(this.wg,a)};
p.slice=function(a,b){return new ux(Jb(this.wg,a,b))};p.concat=function(a){a=Fb(Gb(this.wg),a?Gb(a.Ra()):[]);return new ux(a)};

function vx(a){Hl.call(this);var b,a=a||window;"appWindow"in a&&(b=a.appWindow);this.sb=m;this.Eh=b;b=a.document.title;t(this.Eh)&&(this.Eh.name?b=this.Eh.name:this.Eh.name=b);this.Ub=b||"";this.Hn={};this.H6=0;wx(this,a)}z(vx,Hl);var xx={};function yx(a){var b=a.Ia(),c=pa(b);S("Looking up WindowActivationMonitor for "+c,b);(b=xx[c])?S("Returning WindowActivationMonitor for "+b.Ub):(S("Creating new WindowActivationMonitor for "+a.va().document.title),b=new vx(a.va()),xx[c]=b);return b}
function zx(a){var a=a.Ia(),a=pa(a),b=xx[a];b&&(b.o(),delete xx[a])}p=vx.prototype;p.Ep=0;p.lO=0;function wx(a,b){if(!G||!I(9))a.h().e(b,"focus",a.Pf).e(b,"blur",a.tm);else{b.windowId||(b.windowId="windowId_"+a.H6++);var c=a.Hn[b.windowId]=new nm(document.body);a.h().e(c,"focusin",a.Pf).e(c,"focusout",a.tm)}}p.Pf=function(){S("WindowActivationMonitor.FOCUS");if(!t(this.Eh)||this.Eh.isActive)S("  we really are active..."),this.Ep&&(Be(this.Ep),delete this.Ep),Ax(this,j),this.lO=x()};
p.tm=function(){S("WindowActivationMonitor.BLUR");if(50<x()-this.lO){S("  delay blur...");this.Ep&&Be(this.Ep);var a=this;this.Ep=N(function(){S("  BLURED!!!...");Ax(a,m)},50)}};function Ax(a,b){a.sb!=b&&(a.sb=b,S("The "+a.Ub+" window is now "+(a.sb?"ACTIVE":"INACTIVE")),a.dispatchEvent(a.sb?Bx:Cx))}p.isActive=function(){S("Being asked if "+this.Ub+" is Active: "+(this.sb?"YES":"NO"));return this.sb};var Bx="activated",Cx="deactivated";

function Dx(){Il.call(this,"aimlist");this.Bf=new ux;this.Bd={};this.Oa=new du;this.eF(this.Oa);this.rC()}z(Dx,Il);p=Dx.prototype;p.Mo=j;p.q=n("Oa");p.eF=ba();
p.rC=function(){var a=r._aim_session_,b=yx(J(this.Oa.c()));this.h().e(a,Ex,ua(this.De,j)).e(a,"preference",ua(this.De,j)).e(Oq.j(),or,ua(this.De,j)).e(this.Oa,Gq,this.Ko).e(this.Oa,Kq,this.k_).e(this.Oa,Rq,this.Fz).e(this.Oa,Qq,this.I0).e(this.Oa,Mq,this.t2).e(this.Oa,Xq,this.s2).e(this.Oa,Yq,this.r2).e(this.Oa,Nq,this.m2).e(this.Oa,Kr,this.vG).e(this.Oa,fu,this.Rz).e(this.Oa,gu,this.Rz).e(b,Bx,this.X3).e(b,Cx,this.Y3)};function Fx(a,b){a.Oa.show();if(b){var c=a.Oa;c.IA&&c.HA(c.IA)}}
p.n=function(){Dx.g.n.call(this);this.Oa&&(this.Oa.o(),delete this.Oa);delete this.Bf;delete this.Bd};p.vG=function(){var a=this.Oa;a.IA=a.ia.Bj;Gx(this,k)};p.rd=function(){this.Oa.rd()};p.ix=function(){this.Oa.ix()};function Gx(a,b,c){b&&Hx(a,b)&&a.vF()&&(a.Bd[b.m()].count=0,a.De(j,j));(c||b!=iu(a.Oa))&&a.HA(Ix(a,b))}function Jx(a,b){var c=0;a.Bd[b.m()]&&(c=a.Bd[b.m()].count||0);return c}
function Ix(a,b){var c=k;t(b)&&(c=Hx(a,b)?"recentchats_"+b.m():b.aa()?"groupchats_"+b.m():"contacts_"+b.m());return c}p.HA=function(a){this.Oa.HA(a)};p.xr=function(a){this.Mo=a;this.Oa.xr(a)};p.Mn=function(){var a=[];jx(this.Bf)&&(a.push(new kq("Recent chats")),ix(this.Bf,function(b){if(!Dq(b)||b.Wh()){var d=Kx(this,b);a.push(new wq(b,"recentchats_"+b.m(),d.message,d.kq,d.timestamp,d.count,d.om,d.ZD))}},this));var b=xw(Lx());b.aS=m;b=Ew(Oq.j(),b);return a=Fb(a,b)};
p.De=function(a,b){b&&(this.Oa.ia.qf=j);a?(clearTimeout(this.vR),this.vR=setTimeout(w(function(){this.vR=-1;this.De()},this),50)):hu(this.Oa,this.Mn())};p.wu=function(){this.Oa.wu&&this.Oa.wu()};p.Rz=function(a){this.kN(a.type==gu)};p.kN=ba();function Mx(a,b){b.aa()||Uu(b,j);nr(a.Bf,b,0)}function Nx(a,b,c){xb(a.Bf.Ra(),b)||(c?Ox(a,c):(R("Using a deprecated path to load recent conversation :( "),a.Bd[b.m()]={},Mx(a,b)),a.De(j),c.oo()&&(ku(Oq.j(),c.iF),Px(a,b)))}
function Ox(a,b){var c={};try{var d=b.C(),c=a.Bd[d.m()]||{};if("invite"!=c.om){if(b.Ld()){var f=tv(b.Ld());c.message=f;c.kq=b.Dq}else c.message="",c.kq=m;c.timestamp=mx(b)?new Date(mx(b)):k;c.om=b.nO;c.count=nx(b);if(-1==c.count||100<c.count)c.count="OMG";a.Bd[d.m()]=c;xb(a.Bf.Ra(),d)||Mx(a,d)}R("Should AimListController select this conversation? "+b.Se,b);b.Se&&Gx(a,d);qx.j().add(b)}catch(g){a.Bd[d.m()]={},xb(a.Bf.Ra(),d)||Mx(a,d)}}p.Ko=function(a){this.mN(a.getItem().V);this.q().dk()};p.mN=ba();
function Qx(a,b){a.Bf.xg(b);Ic(a.Bd,b.m());b.aa()||Uu(b,m);a.De(j)}p.k_=function(a){a=a.getItem();Qx(this,a.V);this.$M(a.V)};p.Fz=function(a){a=a.getItem();Oq.j();Rx(new Sx(a.V))};p.I0=function(a){if(Ca(this.Oa.Ue.mf)){var a=a.getItem(),b=a.group;b.na.collapsed=!b.na.collapsed;if(b.Ck())Ys(Y.j(),"offlineGrpCollapsed",b.na.collapsed?"true":"false");else{var c=Y.j(),d=b.getName(),b={collapsed:!b.lm()};d&&(b.group=d);$(c,"buddylist","setGroupAttribute",b,h)}qp(rp.j(),a.mk());this.De(m,j)}};
p.t2=function(a){var b=a.getItem(),a=Oq.j(),b=b.group;if(Tq(b)){b.ZH=j;var c=b.getName();b.cv=c;a.Jh()}};p.s2=function(a){a=a.getItem();Tx(Oq.j(),a.group)};p.r2=function(a){var b=a.getItem(),a=Oq.j(),b=b.group;Tq(b)&&(Ux(b),a.Jh())};p.m2=function(a){a=a.getItem();Oq.j().Xu(a.group)};p.$M=ba();
p.pp=function(a,b){if(a.WC){var c=a.C(),d=a.Ld(),f=a.Dq,g=a.xM,i=Hc(this.Bd),l=Kx(this,c);t(d)&&(l.message=tv(d),l.kq=f,l.om=a.nO,l.ZD=j);d=f?0:a.wy;a.nY?this.De(j,j):Vx(this,c,d);if(mx(a)||a.lt())d=new Date(mx(a)||a.lt()),t(d)&&(l.timestamp=d);(!f||!g)&&Wx(this,c,f,i);b&&!c.Kc(iu(this.Oa))&&(Gx(this,c,j),qx.j().update(a,j))}else Xx(this,a)};function Xx(a,b){var c=nx(b);if(t(c)&&ma(c)){c=b.C();Ox(a,b);if(b.oo()){var d=b.iF;ku(Oq.j(),d);Px(a,c)}a.De(j,j)}}
function Wx(a,b,c,d){var f=Kx(a,b);iu(a.Oa);var g=m,i=a.Oa.ia.cb&&t(a.Oa.ia.cb.scrollTop)&&!a.Oa.ia.cb.scrollTop?j:m;if(0!=mb(a.Bf.wg,b)){c||(g=1==f.count);if(f=0==f.count)f=b?(f=Ix(a,b))&&0==f.indexOf("recentchats_"):m,f=!f;f&&(g=j);if(!g&&!c)return;a.Bf.xg(b);Mx(a,b);a.De(j,j)}c?(Gx(a,b,j),a.Oa.DA()):i&&d&&a.Oa.DA()}p.Hs=function(){this.Oa.Hs();this.De(j)};p.vF=function(){return yx(J(this.Oa.c())).isActive()};p.X3=function(){if(this.Mo){var a=iu(this.Oa);a&&Vx(this,a,0)}};p.Y3=ba();
function Vx(a,b,c){b==k?(b=Kx(a,b),!a.vF()&&c?Yx(b):b.count=0):(b=Kx(a,b),"OMG"==b.count&&la(c)&&c||(ma(c)?b.count=c:la(c)&&c?Yx(b):b.count=0));a.De(j,j)}function Yx(a){a.count=t(a.count)?100<a.count?"OMG":a.count+1:1}function Zx(a){var b=k;Ec(a.Bd)&&(b=0,Cc(a.Bd,function(a){a.count&&b++},a));return b||k}function $x(a){var b={};Ec(a.Bd)&&Cc(a.Bd,function(a,d){a.count&&(b[d]=a.count)},a);return b}
function ay(){var a=window.App.fb(),b=[];ix(a.Bf,function(a){var d=this.Bd[a.m()];d&&d.count&&b.push(a)},a);return b}p.IC=function(){Cc(this.Bd,function(a){a.count=0});this.De(j,j)};function Kx(a,b){var c=b.m(),d=a.Bd[c];d||(d=a.Bd[c]={});return d}function Hx(a,b){return-1==mb(a.Bf.wg,b)?m:j}function Px(a,b){var c=Kx(a,b);c&&(b.na.invited=j,c.message=y("Group Chat Invite"),c.om="invite",Wx(a,b,m,j),a.De(),qp(rp.j(),c.message))}
p.move=function(a){var b=this.Bf.Ra(),c;c=iu(this.Oa);c=mb(this.Bf.wg,c);c+=a;0>c?c=0:c>=b.length&&(c=b.length-1);Gx(this,b[c])};

gp=1;function by(){Dx.call(this)}z(by,Dx);p=by.prototype;p.rC=function(){by.g.rC.call(this);this.h().e(window.App.ad,fo,this.Vb)};p.eF=function(a){by.g.eF.call(this,a);a instanceof du&&(a.Vf(0),a.Ki="contacts")};p.Vb=function(a){R("client.AimListController::onSessionStateChange_");switch(a.ud){case bm:this.ix()}};p.vF=function(){var a=k;if(window.App.xb()){var b=cy();b&&(a=yx(J(b.c())))}else a=yx(J(this.Oa.c()));return a?a.isActive():j};p.mN=function(a){window.App.dispatchEvent(new dy(a,h,j))};
p.kN=function(a){ey(window.App.ee(),a)};p.$M=function(a){window.App.ee().qn(a)};p.vG=function(){by.g.vG.call(this);fy(window.App.ee())};


function gy(a,b,c){this.Gb=a||"";this.QV=b||k;this.a5=0<this.Gb.length&&!c&&!b}gy.prototype.Ma=n("Gb");gy.prototype.getFile=n("QV");gy.prototype.UI=n("a5");function hy(a,b,c,d){L.call(this,"aim.messaging.CreatePlayground");this.Ru=a;this.Lp=c;this.NH=d||k}z(hy,L);hy.prototype.nk=n("Ru");hy.prototype.ok=n("NH");hy.prototype.Oe=n("Lp");function iy(a,b){L.call(this,"aim.messaging.DirectSend");this.Gb=a;this.VY=b||k}z(iy,L);iy.prototype.Ma=n("Gb");iy.prototype.getMetadata=n("VY");
function jy(a,b){L.call(this,"aim.messaging.CreateVideoChat");this.r=a;this.Df=b}z(jy,L);jy.prototype.C=n("r");function ky(a){L.call(this,"aim.messaging.PicnicViewMembers");this.ng=a}z(ky,L);function ly(a){L.call(this,"aim.messaging.PicnicEditIcon");this.ng=a}z(ly,L);function my(a){L.call(this,"aim.messaging.ClearMessageCount");this.r=a}z(my,L);my.prototype.C=n("r");

function dy(a,b,c){L.call(this,"aim.client.OpenChat");this.r=a||k;this.ef=b||new gy;this.cW=!!c}z(dy,L);dy.prototype.C=n("r");dy.prototype.Ma=function(){return this.ef.Ma()};dy.prototype.UI=function(){return this.ef.UI()};dy.prototype.getFile=function(){return this.ef.getFile()};

function ny(a,b,c){if(a.length!=b.length)return k;this.A4=a;for(var d=1;d<a.length;d++)a[d]==k?a[d]=a[d-1]+1:c&&(a[d]+=a[d-1]);this.IB=b}ny.prototype.jU=function(a){for(var b=this.A4,c=0,d=b.length;8<d-c;){var f=d+c>>1;b[f]<=a?c=f:d=f}for(;c<d&&!(a<b[c]);++c);a=c-1;return 0>a?k:this.IB[a]};

var oy=k;
function py(a){if(44032<=a&&55203>=a)return 16==a%28?8:9;oy||(oy=new ny([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,
27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,
1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,
2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],j));return oy.jU(a)};

var qy=G&&I(8),ry=hc?"<wbr></wbr>":gc?"&shy;":qy?"&#8203;":"<wbr>";



var sy;(sy="ScriptEngine"in r&&"JScript"==r.ScriptEngine())&&(r.ScriptEngineMajorVersion(),r.ScriptEngineMinorVersion(),r.ScriptEngineBuildVersion());

function W(a,b){this.Qg=sy?[]:"";a!=k&&this.append.apply(this,arguments)}W.prototype.set=function(a){this.clear();this.append(a)};sy?(W.prototype.BC=0,W.prototype.append=function(a,b,c){b==k?this.Qg[this.BC++]=a:(this.Qg.push.apply(this.Qg,arguments),this.BC=this.Qg.length);return this}):W.prototype.append=function(a,b,c){this.Qg+=a;if(b!=k)for(var d=1;d<arguments.length;d++)this.Qg+=arguments[d];return this};W.prototype.clear=function(){sy?this.BC=this.Qg.length=0:this.Qg=""};
W.prototype.toString=function(){if(sy){var a=this.Qg.join("");this.clear();a&&this.append(a);return a}return this.Qg};

function ty(a,b){var c;c=new W;c.append('<div class="inner"><div class="pd-list-header">',X(b.wN),'</div><div class="notify"></div><ul class="pd-list">');var d=b.x6,f=d.length;if(0<f)for(var g=0;g<f;g++){var i=d[g],l=b.aV;(c||new W).append('<li class="',X(i.cc),'" aimId="',X(i.cc),'"><a role="button" class="pd-list-remove blue button" aimId="',X(i.cc),'">',X(l),"</a><div>",X(i.Pa),"</div></li>")}else c.append("<li><div>",X(b.hZ),"</div></li>");c.append('</ul><div class="pd-list-additem"><span class="pd-list-additem-prompt">Add a user to the ',
X(b.wN),'</span><input class="pd-list-additem-input"/><a role="button" class="pd-list-additem-btn">',X(b.ST),"</a></div></div>");c=c.toString();a.innerHTML=c}function X(a){return Ma(""+a)}
function uy(a,b){var c;c=""+a;var d=b||10;if(!(d>c.length)){for(var f=[],g=0,i=0,l=0,q=0,s=0;s<c.length;s++){var B=q,q=c.charCodeAt(s),E;if(E=768<=q)E=q,B=py(B),E=py(E),E=!((10==B&&11==E?0:1==B||10==B||11==B||1==E||10==E||11==E||!(5==B&&(5==E||6==E||8==E||9==E)||(8==B||6==B)&&(6==E||7==E)||(9==B||7==B)&&7==E||2==E))&&!(3==B||4==E));B=E;g>=d&&32<q&&!B&&(f.push(c.substring(l,s),ry),l=s,g=0);i?62==q&&60==i?i=0:59==q&&38==i&&(i=0,g++):60==q||38==q?i=q:32>=q?g=0:g++}f.push(c.substr(l));c=f.join("")}return c}
;

function eu(a,b){var c=b||new W;c.append('<div class="aimlist-panel" id="',X(a.id),'"><div class="loading-content"></div><div class="aimlist-searchbar"><div class="aimlist-searchbar-container"><input class=\'aimlist-searchbar-input\' spellcheck="false" tabindex="5" placeholder=\'Start or find a chat\' title="Start or find a chat" /><div class="aimlist-searchbar-clear" title="Clear"></div></div><a href="#" class="aimlist-searchbar-button sms" title="Send an SMS message" tabindex="7" onmouseover="this.firstChild.src=\'',
X(P()),"common/images/new-sms-hover.png'\" onfocus=\"this.firstChild.src='",X(P()),"common/images/new-sms-hover.png'\" onmouseout=\"this.firstChild.src='",X(P()),"common/images/new-sms.png'\" onblur=\"this.firstChild.src='",X(P()),'common/images/new-sms.png\'"><img src="',X(P()),'common/images/new-sms.png" alt="Send an SMS message" /></a><a href="#" class="aimlist-searchbar-button chat" title="Start a new chat" tabindex="6" onmouseover="this.firstChild.src=\'',X(P()),"common/images/new-chat-hover.png'\" onfocus=\"this.firstChild.src='",
X(P()),"common/images/new-chat-hover.png'\" onmouseout=\"this.firstChild.src='",X(P()),"common/images/new-chat.png'\" onblur=\"this.firstChild.src='",X(P()),'common/images/new-chat.png\'"><img src="',X(P()),'common/images/new-chat.png" alt="Start a new chat" /></a></div><div class="aimlist-itemscontainer"></div></div>');if(!b)return c.toString()}
function Aw(a,b){var c=b||new W;c.append('<div class="aimlist-popup" id="',X(a.id),'"><div class="aimlist-searchbar"><div class="aimlist-searchbar-container"><input class=\'aimlist-searchbar-input\' spellcheck="false" placeholder="',X(a.Pu),'" title="',X(a.Pu),'"/></div></div><div class="aimlist-itemscontainer"></div></div>');if(!b)return c.toString()}
function vy(a,b){var c=b||new W;c.append('<div class="panel-header ',a.aa?"picnic":"im",'">',a.he?'<span class="panel-header-icon-outer">'+(a.aa?'<img class="panel-header-icon isGroupChat" src="'+(a.he?X(a.he):"")+'" onerror="aim.ui.iconFail.Handle(this)" alt=""/><div class="panel-header-icon-overlay"></div>':'<img class="panel-header-icon" src="'+(a.he?X(a.he):"")+'" onerror="aim.ui.iconFail.Handle(this)" alt=""/>')+"</span>":"",'<span class="panel-header-header',a.gm&&a.my&&(a.sN||a.vN)?" panel-header-buttons-3":
a.gm&&a.my||a.gm&&a.MC?" panel-header-buttons-2":a.gm&&a.my||a.gm&&a.aG?" panel-header-buttons-2":a.gm||a.MC?" panel-header-buttons-1":a.gm||a.aG?" panel-header-buttons-1":"",'"',a.La?' title="'+X(a.La)+'"':"",">");wy(a,c);c.append('</span><div class="panel-header-buttons">',a.my?'<button class="panel-header-button panel-header-favorite-button" title="Favorite" tabIndex="25" aria-label="Toggle favorite chat"><div class="panel-header-favorite sprite"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="Favorite" /></div></button>':
"",a.sN?'<button class="panel-header-button panel-header-addmember-button" title="Add Member" tabIndex="25" aria-label="Add member to this chat"><div class="panel-header-addmember sprite"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="Add Member" /></div></button>':"",a.vN?'<button class="panel-header-button panel-header-video-button" title="Start Video" tabIndex="25" aria-label="Start video chat"><div class="panel-header-video sprite"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="Start Video" /></div></button>':
"",a.gm?'<button role="button" class="panel-header-button panel-header-menu-button" title="Chat Options" tabIndex="25" aria-label="Chat options" aria-haspopup="true"><div class="panel-header-menu sprite"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="Chat Options" /></div></button>':"",a.MC?'<button class="panel-header-button panel-header-close-button" title="Close" tabIndex="25" aria-label="Close chat"><div class="panel-header-close sprite"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="Close" /></div></button>':
"",a.aG?'<button class="panel-header-button panel-header-minimize-button" title="Minimize" tabIndex="25" aria-label="Minimize chat"><div class="panel-header-minimize sprite"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="Minimize" /></div></button>':"","</div></div>");if(!b)return c.toString()}
function xy(a,b){var c=b||new W;c.append('<div class="panel-header-box">',a.Fy?'<div class="panel-header-edit-location">':"",'<input class="panel-header-edit" type="text" maxlength="45" tabindex="12" aria-label="Name your group" title="Name your group">',a.Fy?"</div>":"",'</div><a role="button" class="save-button button small submit" title="save" tabindex="13">Save</a><a role="button" class="cancel-button button small" title="cancel" tabindex="14">Cancel</a>');if(!b)return c.toString()}
function oq(a,b){var c=b||new W;c.append('<h1 class="aimlist-item-header aim-list-header accordion-list-header vl-item ',X(a.id),'" id="',X(a.id),'"><span class="aimlist-item-header-label">',X(a.title),"</span>",a.QO?'<span class="aimlist-item-header-menu '+X(a.QO)+'"></span>':"","</h1>");if(!b)return c.toString()}function nq(a,b){var c=b||new W;c.append('<div class="aimlist-item-content vl-item',a.selected?" selected":"",'">',X(a.content),"</div>");if(!b)return c.toString()}
function yy(){var a=new W;a.append("Chat name needs to be between 3 and 45 characters.");return a.toString()}
function zy(a){var b=new W;b.append('<div class="groupchat-maxed"><div class="addcontact-header-label">Whoah! You\'ve reached the maximum number of group chats. Before you can ',X(a.action),' this group chat, you\'ll need to leave one of your other groups chats.</div><div class="groupchat-maxed-groupselector"><div class="groupchat-maxed-groups-label">Select a group chat to leave:</div><div class="groupchat-maxed-groups-combo"><div class="groupchat-maxed-groups-menu"></div></div></div></div>');return b.toString()}
function Ay(a){var b=new W;b.append('<div class="contactadded"><span class="contactadded-message">',X(a.v6),"</span></div>");return b.toString()}function By(a){var b=new W;b.append("Unable to add <b>",X(a.userName),"</b> to the group <b>",X(a.xE),"</b>.  Please choose a different group.");return b.toString()}function Cy(a){var b=new W;b.append("Unable to rename this group to <b>",X(a.xE),"</b>.  The name may already exist or be too long.  Please choose a different name.");return b.toString()}
function Dy(a,b){var c=b||new W;c.append("Are you sure you want to delete this group and everyone in it?");if(!b)return c.toString()}function wy(a,b){var c=b||new W;c.append('<span class="header-title"><span class="header-title-name">',X(a.heading),"</span></span>",a.vJ?'<span class="sub-header">'+a.vJ+(a.LH?'<span class="presence '+X(a.LH)+'"></span>':"")+"</span>":"");if(!b)return c.toString()}
function Ey(a,b){var c=b||new W;c.append('<div class="social-main"></div>');if(!b)return c.toString()}
function Fy(a,b){var c=b||new W;c.append('<div class="activities-container"><div class="control-bar"><a href="#" id="activities-filter-button" class="current-filter" role="button" title="Filter updates" filter="all" aria-haspopup="true" tabindex="25">View all</a><div class="filters goog-menu" for="activities-filter-button" role="menu" tabindex="-1"><div role="menuitem" class="goog-menuitem do-filter active" filter="all" title="View all">View all</div><div role="menuitem" class="goog-menuitem do-filter" filter="me" title="View my updates">My updates</div></div><div class="refresh-control"><label id="refreshUpdatesLabel" class="last-refresh">Updated <span class="last-refresh-time"></span></label><a role="button" class="do-refresh" name="refresh-button" aria-labelledby="refreshUpdatesLabel" alt="Refresh updates"><img src="',X(P()),
'common/images/refresh.png" alt="Refresh updates" /></a></div></div><div class="activities"><div class="loading-activities"></div></div></div>');if(!b)return c.toString()}function Gy(a,b){var c=b||new W;c.append('<div role="menuitem" class="goog-menuitem do-filter service ',X(a.rb),'" filter="',X(a.rb),'" title="View ',X(a.yb),' updates">',X(a.yb),"</div>");if(!b)return c.toString()}
function Hy(a,b){var c=b||new W;c.append('<div class="lifestream-activity ',X(a.rb),a.Tt?" user-owned":"",'" id="ls-',X(a.id),'">',a.Ji?a.Qd?'<div class="userIcon"><a href="'+X(a.Qd)+'" target="_new" class="profile-url '+X(a.rb)+'"><img src="'+X(a.Ji)+'" class="user-icon" title="'+X(a.Pa)+'"" alt=""/></a></div>':'<div class="userIcon"><img src="'+X(a.Ji)+'" title="'+X(a.Pa)+'" alt="" /></div>':"",'<div class="content"><div class="timestamp"></div>',a.Tt?'<div role="button" class="delete-activity control" aria-label="Delete update" title="Delete update">X</div>':
"",a.Pa?a.Qd?'<div class="userName"><a href="'+X(a.Qd)+'" target="_new" class="profile-url '+X(a.rb)+'">'+X(a.Pa)+"</a></div>":'<div class="userName">'+X(a.Pa)+"</div>":"",'<div class="title">',"aim"!=a.rb?a.Yv:X(a.title),"</div>");(c||new W).append(a.Or?a.wp?'<a href="'+X(a.wp)+'" target="_new"><img src="'+X(a.Or)+'" class="thumbnail" alt="" /></a>':'<img src="'+X(a.Or)+'" class="thumbnail" alt="" />':"");a.QI?(Iy(a,c),(c||new W).append('<div class="shared-link">',a.zl,'<div class="description">',
X(a.QI.description),"</div></div>")):(c.append(a.zl?"aim"!=a.rb?'<div class="body">'+a.zl+"</div>":'<div class="body">'+X(a.body)+"</div>":""),Iy(a,c));c.append('<div class="source">');for(var d=a.G5,f=d.length,g=0;g<f;g++){var i=d[g];c.append('<span class="service-icon ',X(i),' sprite"><img src="',X(P()),'common/spritelo/LoSprite.png" title="',X(i),'" /></span>')}c.append("</div>");d=c||new W;d.append('<div class="actions">');0<a.uY.length?(d.append('<div class="like-control-section',a.$f?" liked":
"",'">'),Jy(a,d),d.append('</div><div class="like-count">'),Ky(a,d),d.append("</div>")):d.append('<div class="like-control-disabled"></div>');d.append(0<a.QU.length?'<div class="activity-comments"><div role="button" class="comment-control control sprite hidden" title="Control comment list"><span class="icon comment-icon"><img src="'+X(P())+'common/spritelo/LoSprite.png" alt="comment" /></span><span class="comment-control-label"></span></div><div class="activity-comment-list"></div></div>':"","</div>");
c.append("</div></div>");if(!b)return c.toString()}function Iy(a,b){var c=b||new W;if(0<a.media.length){c.append('<div class="media',a.QI?" shared-link-thumbnail":"",'">');for(var d=a.media,f=d.length,g=0;g<f;g++){var i=d[g];c.append('<div class="media-item">',i.url?'<a href="'+X(i.url)+'" target="_blank"><img src="'+X(i.thumbnail)+'" alt="media item" /></a>':'<img src="'+X(i.thumbnail)+'" alt="media item" />',"</div>")}c.append("</div>")}}
function Jy(a,b){var c=b||new W;c.append('<button class="control sprite like-control" title="',a.$f?"Unlike":"Like",' this"><span class="icon like-icon"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="" /></span>',a.$f?"unlike":"like","</button>");if(!b)return c.toString()}
function Ky(a,b){var c=b||new W;c.append(0<a.zo?a.$f?"You"+(1<a.zo?' and <a href="#" onclick="return false" class="likers control" alt="See who likes this">'+X(a.zo-1)+" other "+(2==a.zo?"person":"people")+"</a>":"")+" like this.":'<a href="#" onclick="return false" class="likers control" alt="See who likes this">'+(1==a.zo?"1 person</a> likes":X(a.zo)+" people</a> like")+" this.":"");if(!b)return c.toString()}
function Ly(a,b){var c=b||new W;c.append('<div class="like-list-dialog"><div class="like-list-content"><div class="close" title="Close">close</div><h3>People who like this:</h3><div class="like-list-wrapper"><ul class="like-list">');for(var d=a.vY,f=d.length,g=0;g<f;g++){var i=d[g];(c||new W).append('<li class="liker">',i.Qd?'<a href="'+X(i.Qd)+'" class="profile-url '+X(i.rb)+("aim"==i.rb?' do-chat" onclick="return false"':"")+'" target="_blank">':"",'<img src="',X(i.TJ),'" alt="',X(i.Pa),'" class="user-icon" /> ',
X(i.Pa),i.Qd?"</a>":"","</li>")}c.append("</ul></div></div></div>");if(!b)return c.toString()}function My(a){var b=new W;b.append('<div class="no-activities">You have no ',a.yb?X(a.yb)+" ":"","updates at this time.</div>");return b.toString()}
function Ny(a,b){var c=b||new W;c.append('<div class="social-posting-form"><div class="status-input inputs"></div>');Oy(0,c);c.append('<a role="button" class="posting-button submit button" name="post-status" title="Post status" tabindex="25">Post</a></div></div></div>');if(!b)return c.toString()}
function Oy(a,b){var c=b||new W;c.append('<div class="social-crosspost-toggles"><label id="postStatusLabel">Post to:</label><a role="button" class="crosspost-icon aim sprite" aria-labelledby="postStatusLabel" title="AIM"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="AIM" /></a><div class="status-size-counter"></div></div>');if(!b)return c.toString()}
function Py(a,b){var c=b||new W;c.append('<div class="social-crosspost-toggle ',X(a.rb.service),a.selected?" active":" inactive",a.rb.maxStatusLength?" has-max-status-length":"",'" data-service="',X(a.rb.service),'"><a role="button" class="crosspost-icon  control sprite" aria-labelledby="postStatusLabel" title="',X(a.yb),'"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="',X(a.yb),'" /></a></div>');if(!b)return c.toString()}
function Qy(a,b){var c=b||new W;c.append('<div class="activity-comment',a.Tt?" user-owned":"",'" cid="',X(a.id),'"><div class="comment-time"></div>',a.Tt?'<div role="button" class="delete-comment control" title="Delete">X</div>':"",a.Qd?'<a href="'+X(a.Qd)+'" target="_blank" class="profile-url '+X(a.rb)+'">':"",'<img class="comment-userIcon user-icon" src="',X(a.TJ),'" title="',X(a.userName),'"  /><div class="comment-userName user-name">',X(a.userName),"</div>",a.Qd?"</a>":"",'<div class="comment-text">',
X(a.text),"</div></div>");if(!b)return c.toString()}function Ry(a){var b=new W;b.append('<span class="show-all">show all ',X(a.count)," comments</span>");return b.toString()}function Sy(){var a=new W;a.append('<span class="show-less">show fewer comments</span>');return a.toString()}function Ty(a,b){var c=b||new W;c.append('<div class="comment-post-form"><div class="inputs"></div></div>');if(!b)return c.toString()}
function Uy(a,b){var c=b||new W;c.append('<div class="show-more-activities">show more activities</div>');if(!b)return c.toString()}
function Vy(a){var b=new W;b.append('<div class="editfriendly-container"><div class="editfriendly-name"><label for="editfriendly-first-input" class="editfriendly-label">First Name</label><input id="editfriendly-first-input" class="editfriendly-first-input" value="',a.zM?X(a.zM):"",'"/></div><div class="editfriendly-name"><label for="editfriendly-last-input" class="editfriendly-label">Last Name</label><input id="editfriendly-last-input" class="editfriendly-last-input" value="',a.kO?X(a.kO):"",'"/></div><input class="editfriendly-pushfriendlyname-input" id="pushFriendlyName" type="checkbox" name="pushFriendlyName"',
a.x4?' checked="checked"':"",'><label class="editfriendly-pushfriendlyname-label" for="pushFriendlyName">Allow other AIM users to see my name</label></div>');return b.toString()}function Wy(a,b){var c=b||new W;c.append("Delete this update?");if(!b)return c.toString()}
function Xy(a){(a||new W).append('<div id="colorMenu" class="colorMenu goog-menu menu-color-container" style="visibility:hidden"><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #000;" x-hexColor="#000000" title="RGB(0, 0, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #444;" x-hexColor="#444444" title="RGB(68, 68, 68)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #666;" x-hexColor="#666666" title="RGB(102, 102, 102)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #999;" x-hexColor="#999999" title="RGB(153, 153, 153)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #ccc;" x-hexColor="#cccccc" title="RGB(204, 204, 204)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #eee;" x-hexColor="#eeeeee" title="RGB(238, 238, 238)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #f3f3f3;" x-hexColor="#f3f3f3" title="RGB(243, 243, 243)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #fff;" x-hexColor="#ffffff" title="RGB(255, 255, 255)"></div></div><div class="menu-color-gap-row"></div><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #f00;" x-hexColor="#ff0000" title="RGB(255, 0, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #f90;" x-hexColor="#ff9900" title="RGB(255, 153, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #ff0;" x-hexColor="#ffff00" title="RGB(255, 255, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #0f0;" x-hexColor="#00ff00" title="RGB(0, 255, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #0ff;" x-hexColor="#00ffff" title="RGB(0, 255, 255)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #00f;" x-hexColor="#0000ff" title="RGB(0, 0, 255)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #90f;" x-hexColor="#9900ff" title="RGB(153, 0, 255)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #f0f;" x-hexColor="#ff00ff" title="RGB(255, 0, 255)"></div></div><div class="menu-color-gap-row"></div><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #f4cccc;" x-hexColor="#f4cccc" title="RGB(244, 204, 204)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #fce5cd;" x-hexColor="#fce5cd" title="RGB(252, 229, 205)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #fff2cc;" x-hexColor="#fff2cc" title="RGB(255, 242, 204)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #d9ead3;" x-hexColor="#d9ead3" title="RGB(217, 234, 211)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #d0e0e3;" x-hexColor="#d0e0e3" title="RGB(208, 224, 227)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #cfe2f3;" x-hexColor="#cfe2f3" title="RGB(207, 226, 243)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #d9d2e9;" x-hexColor="#d9d2e9" title="RGB(217, 210, 233)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #ead1dc;" x-hexColor="#ead1dc" title="RGB(234, 209, 220)"></div></div><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #ea9999;" x-hexColor="#ea9999" title="RGB(234, 153, 153)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #f9cb9c;" x-hexColor="#f9cb9c" title="RGB(249, 203, 156)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #ffe599;" x-hexColor="#ffe599" title="RGB(255, 229, 153)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #b6d7a8;" x-hexColor="#b6d7a8" title="RGB(182, 215, 168)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #a2c4c9;" x-hexColor="#a2c4c9" title="RGB(162, 196, 201)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #9fc5e8;" x-hexColor="#9fc5e8" title="RGB(159, 197, 232)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #b4a7d6;" x-hexColor="#b4a7d6" title="RGB(180, 167, 214)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #d5a6bd;" x-hexColor="#d5a6bd" title="RGB(213, 166, 189)"></div></div><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #e06666;" x-hexColor="#e06666" title="RGB(224, 102, 102)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #f6b26b;" x-hexColor="#f6b26b" title="RGB(246, 178, 107)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #ffd966;" x-hexColor="#ffd966" title="RGB(255, 217, 102)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #93c47d;" x-hexColor="#93c47d" title="RGB(147, 196, 125)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #76a5af;" x-hexColor="#76a5af" title="RGB(118, 165, 175)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #6fa8dc;" x-hexColor="#6fa8dc" title="RGB(111, 168, 220)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #8e7cc3;" x-hexColor="#8e7cc3" title="RGB(142, 124, 195)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #c27ba0;" x-hexColor="#c27ba0" title="RGB(194, 123, 160)"></div></div><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #cc0000;" x-hexColor="#cc0000" title="RGB(204, 0, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #e69138;" x-hexColor="#e69138" title="RGB(230, 145, 56)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #f1c232;" x-hexColor="#f1c232" title="RGB(241, 194, 50)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #6aa84f;" x-hexColor="#6aa84f" title="RGB(106, 168, 79)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #45818e;" x-hexColor="#45818e" title="RGB(69, 129, 142)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #3d85c6;" x-hexColor="#3d85c6" title="RGB(61, 133, 198)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #674ea7;" x-hexColor="#674ea7" title="RGB(103, 78, 167)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #a64d79;" x-hexColor="#a64d79" title="RGB(166, 77, 121)"></div></div><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #990000;" x-hexColor="#990000" title="RGB(153, 0, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #b45f06;" x-hexColor="#b45f06" title="RGB(180, 95, 6)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #bf9000;" x-hexColor="#bf9000" title="RGB(191, 144, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #38761d;" x-hexColor="#38761d" title="RGB(56, 118, 29)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #134f5c;" x-hexColor="#134f5c" title="RGB(19, 79, 92)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #0b5394;" x-hexColor="#0b5394" title="RGB(11, 83, 148)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #351c75;" x-hexColor="#351c75" title="RGB(53, 28, 117)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #741b47;" x-hexColor="#741b47" title="RGB(116, 27, 71)"></div></div><div class="menu-color-row"><div class="goog-menuitem menu-color-swatch" style="background-color: #660000;" x-hexColor="#660000" title="RGB(102, 0, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #783f04;" x-hexColor="#783f04" title="RGB(120, 63, 4)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #7f6000;" x-hexColor="#7f6000" title="RGB(127, 96, 0)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #274e13;" x-hexColor="#274e13" title="RGB(39, 78, 19)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #0c343d;" x-hexColor="#0c343d" title="RGB(12, 52, 61)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #073763;" x-hexColor="#073763" title="RGB(7, 55, 99)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #20124d;" x-hexColor="#20124d" title="RGB(32, 18, 77)"></div><div class="goog-menuitem menu-color-swatch" style="background-color: #4c1130;" x-hexColor="#4c1130" title="RGB(76, 17, 48)"></div></div></div>')};

function zo(){for(var a=window.document.getElementsByTagName("link")||[],b="",c=0;c<a.length;c++)"text/css"==a[c].type&&(b+=a[c].outerHTML);a=b;b=new W;b.append("<!DOCTYPE HTML><html><head><title>AIM","","</title>",a);(b||new W).append('<meta http-equiv="expires" content="0"><meta http-equiv="pragma" content="no-cache"><meta http-equiv="cache-control" content="no-cache, must-revalidate">');b.append("</head><body","","></body></html>");return b.toString()}
function Yy(a,b){var c=b||new W;c.append('<div class="client-container',a.Dv?" aim-show-ad":"",'">');var d=c||new W;d.append('<div class="client-container-sidebar"><div class="client-sidebar-item me-item"></div>');Zy({Dr:"contacts",La:"Contacts and chats"},d);Zy({Dr:"commons",La:"Updates"},d);d.append('<div class="client-container-sidebar-services"></div><div role="menu" class="control sprite client-sidebar-menu" title="Start a group chat, SMS, preferences &amp; more"><img src="',X(P()),'common/spritehi/HiSprite.png"/></div><a role="button" class="control sprite client-sidebar-newchat" title="Start a new chat"><img src="',
X(P()),'common/spritehi/HiSprite.png"/></a><a role="button" class="control sprite client-sidebar-newsms" title="Send SMS (Text)"><img src="',X(P()),'common/spritehi/HiSprite.png"/></a></div>');c.append('<div class="client-container-splitpane"><div class="client-container-mainpanel goog-splitpane-first-container">',a.Dv?'<div id="client-container-ad" class="client-container-ad"><div class="_ad_list_container">'+(a.kY?'<div id="_ad_list"></div>':'<iframe class="showAd" id="_ad_list" scrolling="no" marginHeight="0" marginWidth="0"></iframe>')+
'<div id="_ad_house" style="display:none"><img src="'+X(P())+'_uac/desktop_banner.png" usemap="#_ad_house_map"></img><map name="_ad_house_map"><area shape="rect" coords="5,107,85,139" href="https://itunes.apple.com/us/app/aim-free-edition/id281704574?mt=8"><area shape="rect" coords="89,107,174,139" href="https://play.google.com/store/apps/details?id=com.aol.mobile.aim"></map></div></div></div>':"",'</div><div class="client-container-splitpane-handle goog-splitpane-handle"></div><div class="client-container-secondarypanel goog-splitpane-second-container"><div class="feedback-item"></div>');
Xy(c);c.append('</div></div><div class="client-container-onepanel"></div></div>');if(!b)return c.toString()}function $y(a,b){var c=b||new W;c.append('<div class="tabbed-im-container"><div class="goog-tab-content"></div>');Xy(c);c.append("</div>");if(!b)return c.toString()}
function az(a,b){var c=b||new W;c.append('<div class="identity-hovercard client-identityhovercard"><div class="client-identityhovercard-icon" ><div class=\'client-identityhovercard-edit\'>change</div></div><div class="client-identityhovercard-info"><div class="friendlyname"></div><div class="editfriendlynamefields"><input id="newname" class="newfirstname panel-header-edit" type="text"/><input id="newname" class="newlastname panel-header-edit" type="text"/><a role="button" name="save" id="save" class="button submit" value="Save">Save</a><a role="button" name="cancel" id="cancel" class="button cancel" value="Cancel">Cancel</a></div><div class="screenname"></div><div class="goog-inline-block client-menu-button state-button" title="" role="button" tabindex="0" aria-haspopup="true" ><div class=\'statechange\'></div><div class="goog-inline-block client-menu-button-caption state-text">Available</div><div class="goog-inline-block client-menu-button-dropdown"></div></div><div class="client-identityhovercard-status"></div></div></div>');if(!b)return c.toString()}
function bz(a){for(var b=new W,a=a.DI,c=a.length,d=0;d<c;d++){var f=a[d];Zy({id:X(f.id),Dr:X(f.Dr),count:X(f.count),La:(!f.id?"Connect ":"")+X(f.La),rb:"true",disabled:!f.id?"true":"",selected:X(f.selected),Nk:f.Nk?"true":""},b)}return b.toString()}
function Zy(a,b){(b||new W).append('<a role="button" class="control sprite client-sidebar-item ',X(a.Dr),"-item",a.rb?" hey-item":"",a.disabled?" disabled":"",a.selected?" selected":"",a.Nk?" needs-reauth":"",'"',a.id?'id="'+X(a.id)+'"':"",' sidebarid="',X(a.Dr),'" title="',X(a.La),'"><div class="sidebar-count-frame"><img src="',X(P()),'common/spritehi/HiSprite.png"/></div><div class="client-sidebar-item-info"><div class="client-sidebar-item-count" ',a.count?"":'style="display: none;"',">",a.count?
X(a.count):"","</div></div></a>")}function cz(a,b){var c=b||new W;c.append('<div class="panel-notification"><div class="panel-notification-background"><img class="panel-notification-icon" src="',X(a.he),'"></img><span class="panel-notification-caption">',X(a.caption),"</span></div></div>");if(!b)return c.toString()}
function dz(a,b){var c=b||new W;c.append('<div class="chatpanel" id="',X(a.id),'"><div class="chatpanel-header"></div><div class="chatpanel-conversation"></div></div>');if(!b)return c.toString()};

function ez(a,b){V.call(this,b);this.DF=a||"";this.wJ=m}z(ez,V);p=ez.prototype;p.l=function(){Gl(this,xy,{Fy:qi})};p.v=function(){ez.g.v.call(this);this.jj=K("panel-header-edit",this.c());this.jj.value=this.DF;this.h().e(this.jj,["input","propertychange"],this.Ok)};p.update=function(a){this.jj&&this.DF==this.jj.value&&(this.jj.value=a);this.DF=a};p.w=function(){return this.jj?this.jj.value:""};p.Ok=function(){this.wJ||this.kI()};
p.kI=function(){var a=this.jj.value.replace(/[\u0080-\uffff]/g,"");this.jj.value!=a&&(this.jj.value=a)};

function fz(){Hl.call(this);this.Ty=new Ch;this.wk();r._cmd_controller_=this}z(fz,Hl);ga(fz);p=fz.prototype;p.wk=ba();function Hq(a){r._cmd_controller_.Tq({tag:a})}p.Tq=function(a){var b=new Wq(a);this.dispatchEvent(b);S(b);return!xb([gz,hz,iz,jz,kz],a.tag)};p.IQ=function(a){a&&(ka(a)?A(a,this.bT,this):this.bT(a))};p.bT=function(a){this.dispatchEvent(new Vq(a))};
function wo(a,b,c,d){var f=a.Ty.get(b);f||(f=new yl(c),f.jC=j,a.h().e(f,"shortcut",a.g1),a.Ty.set(c,f));var g;d?g=d:(a="MacIntel"==navigator.platform,!u(window.App)?lz&&u(lz.YR)&&(g=a?lz.YR.lK:lz.YR.mK):Yn&&u(uo)&&(g=a?uo.lK:uo.mK));A(g,function(a){S("Registering shortcut: id["+a.id+"], strk["+a.wc+"], target: "+c);f.hR(a.id.toString(),a.wc)})}function Bo(a,b){var c=a.Ty.get(b);c&&c instanceof yl&&(c.o(),a.Ty.remove(b))}
p.g1=function(a){a={enabled:m,tag:parseInt(a.identifier,10)};0<a.tag&&(this.dispatchEvent(new Vq(a)),a.enabled&&this.dispatchEvent(new Wq(a)))};function Vq(a,b){L.call(this,"aim.ui.CommandController.QueryUpdate",b);S("[Event] aim.ui.CommandController.QueryUpdate tag:"+a.tag);this.ye=a}z(Vq,L);Vq.prototype.getItem=n("ye");function Wq(a,b){L.call(this,"aim.ui.CommandController.Action",b);S("[Event] aim.ui.CommandController.Action tag:"+a.tag);this.ye=a}z(Wq,L);Wq.prototype.getItem=n("ye");
var hz=31001,gz=31010,gr=1059,Iq=1126,Jq=1127,iz=31011,jz=31012,kz=31013,mz={tag:0,separator:j},nz={tag:1011,title:"E&xit"},oz={tag:1030,title:"Sign &Out"},pz={tag:1020,title:"Open",isDefault:"true"},qz={tag:1041,title:"A&vailable",icon:P("desktop/images/available.png")},rz={tag:1042,title:"&Busy",icon:P("desktop/images/away.png")},sz={tag:1044,title:"&Invisible",icon:P("desktop/images/offline.png")},tz={tag:1050,title:"S&hare a File"},uz={tag:1051,title:"Take a Webcam P&icture"},vz={tag:1060,title:"&New Chat"},
wz={tag:gr,title:"New &Group Chat"},xz={tag:1061,title:"S&end SMS (Text)"},yz={tag:1063,title:"Block This Person"},zz={tag:1063,title:"Unblock This Person"},Az={tag:1065,title:"Add to Favorites"},Bz={tag:1065,title:"Remove from Favorites"},Cz={tag:1057,title:"Open Chat Log"},Dz={tag:1058,title:"Delete Chat Log"},Ez={tag:1067,title:"Go Off the Record"},Fz={tag:1067,title:"Go On the Record"},Gz={tag:1074,title:"Add to Favorites"},Hz={tag:1074,title:"Remove from Favorites"},Iz={tag:1075,title:"&Add Member"},
Jz={tag:31E3,title:"&Preferences"},$q={tag:1120,title:"Add AIM Contact"},cr={tag:1128,title:"Add New Contact Group"},er={tag:Iq,title:"Add Facebook Friends"},fr={tag:Jq,title:"Add Google Talk Contacts"},Kz={tag:1145,title:"&Mark All Chats Read"},Lz={tag:gz,title:"About AIM"},Mz={tag:31009,title:"Help"},Nz={tag:1155,title:"Feedback"},Oz={tag:iz,title:"Cut"},Pz={tag:jz,title:"Copy"},Qz={tag:kz,title:"Paste"},ar={tag:1401,title:"Invite a Friend via Email"},Rz={tag:1701,title:"Show tabs on left"},Sz=
{tag:1702,title:"Show tabs on top"},Tz={tag:1801,title:"&Show Inactive Notification Icons"},Uz={tag:1801,title:"&Hide Inactive Notification Icons"},Vz={tag:1220,title:"Disable bouncing"};


function Wz(a,b,c,d,f,g,i,l,q,s,B){V.call(this);this.Sh=a||k;this.fa=b||k;this.hB=c||k;this.yf=d||k;this.KE=t(f)?f:j;this.Q=k;this.yt=t(g)?g:j;this.JE=t(i)?i:m;this.ME=t(l)?l:m;this.jx=t(q)?q:j;this.Cq=t(B)?B:m;this.bG=t(s)?s:m;this.Uc=this.Rm=k}z(Wz,V);p=Wz.prototype;p.l=function(){var a={he:this.Sh,heading:this.fa,vJ:this.hB,LH:t(this.r)&&!this.Cq?Hu(this.r):k,gm:this.KE,my:this.yt,sN:this.JE,vN:this.ME,MC:this.jx,aG:this.bG,aa:this.Cq};this.yf&&(a.La=this.yf);Gl(this,vy,a)};
p.v=function(){Wz.g.v.call(this);this.KE&&(this.Ae=K("panel-header-menu-button",this.c()),this.h().e(this.Ae,"click",this.WP).e(this.Ae,"keyup",this.r1));this.yt&&this.h().e(Xz(this),"click",this.hP);if(this.JE){var a=K("panel-header-addmember-button",this.c());this.h().e(a,"click",this.jP)}this.ME&&(a=K("panel-header-video-button",this.c()),this.h().e(a,"click",this.NQ));this.jx&&(a=K("panel-header-close-button",this.c()),this.h().e(a,"click",this.CG));this.bG&&(a=K("panel-header-minimize-button",
this.c()),this.h().e(a,"click",this.YP));this.h().e(this.getParent(),Kr,this.Ti);this.update();t(this.Rm)&&this.Ex(this.Rm)};
p.$=function(){Wz.g.$.call(this);var a=this.c();this.KE&&this.h().M(this.Ae,"click",this.WP);this.yt&&this.h().M(this.MD,"click",this.hP);if(this.JE){var b=K("panel-header-addmember-button",a);this.h().M(b,"click",this.jP)}this.ME&&(b=K("panel-header-video-button",a),this.h().M(b,"click",this.NQ));this.jx&&(b=K("panel-header-close-button",a),this.h().M(b,"click",this.CG));this.bG&&(a=K("panel-header-minimize-button",a),this.h().M(a,"click",this.YP));this.Ti()};p.r1=function(a){40==a.keyCode&&a.target.click()};
p.WP=function(){this.dispatchEvent("aim.ui.Panel.HeaderMenuOpen")};p.pP=function(){this.dispatchEvent(Hr)};p.CG=function(){this.dispatchEvent(Hr)};p.YP=function(){this.dispatchEvent("aim.ui.Panel.Minimize")};p.hP=function(a){S("Panel header Add to Favorites is clicked.",a);this.Ss(1065)};p.jP=function(a){S("Panel header Add Member is clicked.",a);this.Ss(1075,j);pt(xt)};p.NQ=function(a){S("Panel header Video is clicked.",a);this.Ss(1062,j);pt(wt)};
p.Ss=function(a,b){if(0<a){var c=r._cmd_controller_;if(c){var d={enabled:m,tag:a,reported:t(b)?b:m};c.dispatchEvent(new Vq(d));d.enabled&&c.dispatchEvent(new Wq(d))}}};p.NI=function(a,b,c,d){this.Sh=a;this.fa=b;this.hB=c;this.yf=d};p.al=function(a){this.fa=a;this.update()};p.Ud=function(a){this.yf=a;this.update()};p.dl=ca("Q");p.getHeader=function(){return this.fa||""};
p.update=function(){if(this.G){var a=K("panel-header-icon",this.c());a&&(a.setAttribute("src",this.Sh?this.Sh:""),this.yf&&a.setAttribute("title",this.yf));if(a=K("panel-header-header",this.c()))a.innerHTML=wy({heading:this.fa,vJ:this.hB,LH:t(this.r)&&!this.Cq?Hu(this.r):k})||"",this.yf&&a.setAttribute("title",this.yf)}};
p.Ex=function(a){this.Rm=a||"";this.c()&&(this.Uc?this.Uc.update(this.Rm):(this.Uc=new ez(this.Rm),Wf(this.Uc,K("panel-header-header",this.c()))),this.getParent()&&C(this.getParent().c(),"header-edit"),this.jx&&this.h().e(K("cancel-button",this.Uc.c()),"click",this.pP))};function Xz(a){a.yt&&!a.MD&&(a.MD=K("panel-header-favorite-button",a.c()));return a.MD}function Yz(a,b){if(a.yt){var c=Xz(a);c&&(b?C(c,"active"):D(c,"active"))}}p.w=function(){var a="";this.Uc&&(a=this.Uc.w());return a};
p.Ti=function(){var a="";this.Uc&&(a=this.Uc.w(),this.Uc.o(),this.Uc=k);this.getParent()&&D(this.getParent().c(),"header-edit");return a};p.ua=n("Q");p.enable=function(){D(this.c(),"disabled")};p.disable=function(){C(this.c(),"disabled")};

function Zz(a,b,c,d,f,g,i,l,q,s){Wz.call(this,a,b,c,d,f,g,i,l,q,s)}z(Zz,Wz);function $z(a,b,c){if(Q("appWindow")){var d=ff(a),f=jf(a),a=d.x,d=d.y,f=f.height;(c=Co(c.target))&&b&&c.showPopupMenu(b,a,d+f)}};

function aA(a){po.call(this,a)}z(aA,po);aA.prototype.l=function(){bA(this);aA.g.l.call(this)};function bA(a){if(si){var b=Co(a).va().document;b!=a.ba.Ia()&&(a.ba=new Qc(b))}}aA.prototype.aI=function(a,b,c,d){bA(this);return a&&si?(v(a)&&(a=K(a,this.c())),xi(a,c||this.ua(),b,d,this.c())):k};

function cA(){V.call(this);this.UD=m}z(cA,V);cA.prototype.K=function(a){this.F=a;this.h().e(a,"focus",this.Pf).e(a,"click",this.Kb)};cA.prototype.Pf=function(){this.UD=j};cA.prototype.Kb=function(){this.UD==j&&(this.UD=m,this.c().select())};

function dA(a){this.VF=a||100;this.Al=[]}p=dA.prototype;p.pu=0;p.add=function(a){this.Al[this.pu]=a;this.pu=(this.pu+1)%this.VF};p.get=function(a){a=eA(this,a);return this.Al[a]};p.set=function(a,b){a=eA(this,a);this.Al[a]=b};p.Db=function(){return this.Al.length};p.wb=function(){return 0==this.Al.length};p.clear=function(){this.pu=this.Al.length=0};p.dd=function(){for(var a=this.Db(),b=this.Db(),c=[],a=this.Db()-a;a<b;a++)c[a]=this.get(a);return c};
p.Qe=function(){for(var a=[],b=this.Db(),c=0;c<b;c++)a[c]=c;return a};p.Dd=function(a){return a<this.Db()};p.Kp=function(a){for(var b=this.Db(),c=0;c<b;c++)if(this.get(c)==a)return j;return m};function eA(a,b){b>=a.Al.length&&e(Error("Out of bounds exception"));return a.Al.length<a.VF?b:(a.pu+Number(b))%a.VF};

function fA(){this.Po=[];this.W=bm;this.oI=new dA(gA)}var gA=500;p=fA.prototype;p.$J="AIMDiagWindow";p.hb=k;p.sp=m;p.yx=m;p.OA=m;p.ls=k;p.Yt=x();p.uO=x();p.Gs=k;p.GK=function(){this.log((new Date).toString());this.log(window.navigator.userAgent)};p.Lf=function(){if(this.hb)if(this.hb.closed)hA(this);else return j;return m};function iA(a){var b=Ur;b.W=a;if(b.Lf())switch(a){case cm:jA(j,b.Gs);break;case 1100:b.hb.close()}}
p.Am=function(a){if(this.Lf()||this.sp||this.OA)this.hb.focus();else if(!this.yx)if(a){if(this.sp=j,(this.hb=window.open("about:blank",this.$J,"width=800,height=400,toolbar=no,resizable=yes,scrollbars=yes,status=no"))?"appWindow"in this.hb&&(this.hb.appWindow.isVisible=j):this.cJ||(alert("AIM Diagnostic Window popup was blocked by your browser."),this.cJ=j),delete this.sp,this.hb){this.cK();this.W==cm&&jA(j,this.Gs);var b=this;G||kA(this.hb,"beforeunload",function(){hA(b);return k});kA(this.hb,"unload",
function(){hA(b)})}}else{var c=new Zm;c.pa('<p>By clicking "Accept" below, you agree to and will enable the capturing of AIM diagnostic data. This includes info about your AIM network connection and activity. We will not capture the contents of your IMs, but the activity captured may include event info (like you sent an IM to x username at x time).</p>&nbsp; <p>We hope this data will allow us to improve our service. Data will only be captured while the data window is open. You may close the window at any time, at which point the captured data will be sent.</p>');
c.zb("Diagnostic Data Capture");a=cn();a.set("yes","Accept");a.set("no","Decline");Gm(c,a);C(an(c),"danger");me(c,Im,function(a){delete this.yx;c.o();if("no"!=a.key){var b=new Zm;b.zb("Diagnostic Data Capture");b.pa('<p><b>Please describe the problem you are experiencing:</b></p> <textarea class="dlg-diag-desc" rows="4" maxlength="1024"></textarea>');a=(new Cm).Ta(Sm,j);a.set("yes","Ready");Gm(b,a);C(an(b),"good");me(b,Im,function(){delete this.yx;var a=Vc("dlg-diag-desc",b.sa());ka(a)&&1==a.length&&
(a=a[0],a.value&&(this.Gs=a.value,this.log('User Says: "'+this.Gs+'"')));b.o();this.Am(j)},m,this);b.L(j)}},m,this);c.L(j);this.yx=j}};p.log=function(a,b){var c=La(Xa(Ma(a)));b&&(c+="<br>"+La(Xa(Li(b,arguments.callee.caller)||"")));this.LB(['<div class="msg">[<span class="ts">',Xa(lA(this.gD())),"s</span>] ",c,"</div>"].join(""))};function lA(a){var a=a/1E3,b=a.toFixed(3),c=0;if(1>a)c=1;else for(;10>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b}p.gD=function(){var a=x(),b=a-this.uO;this.uO=a;return b};
p.LB=function(a){this.oI.add(a);this.Lf()&&this.Wr(a)};p.Wr=function(a){this.Po.push(a);r.clearTimeout(this.ls);750<x()-this.Yt?this.qw():this.ls=r.setTimeout(w(this.qw,this),250)};p.qw=function(){this.Yt=x();if(this.Lf()){var a=this.hb.document.body,a=a&&100>=a.scrollHeight-(a.scrollTop+a.clientHeight);this.hb.document.write(this.Po.join(""));this.Po.length=0;a&&this.hb.scrollTo(0,1E6)}};
p.cK=function(){if(this.Lf()){this.hb.document.open();this.hb.document.title="AIM Diagnostic Data";this.Wr('<style>*{font:normal 12px monospace;}body{margin:8px; padding:0; margin-top:40px;}.ts{color:green;}.msg{color:black;}.hdr{color:red; border-bottom:2px solid black; background-color:white; padding:8px; position:fixed; top:0; left:0; height:16px; width:100%; overflow:hidden; }</style><div class="hdr"><b>NOTE:</b> AIM network connection and activity is being captured while this window is open.</div>');for(var a=
this.oI.dd(),b=0;b<a.length;b++)this.Wr(a[b])}};function mA(a){a=a.oI.dd().join("\r\n");a=a.replace("<br>","\r\n");a=a.replace(/<[^>]+>/g,"");return Sa(a)}function kA(a,b,c){a.addEventListener?a.addEventListener(b,c,m):a.attachEvent&&a.attachEvent("on"+b,c)}function hA(a){a.OA||(a.OA=j,nt(Y.j(),mA(a),function(b){jA(m,b.w("data.fileId"));delete a.hb;delete a.Gs;delete a.OA}))}function jA(a,b){var c=Y.j();a?(c.nB(1),mt(c,j,b)):mt(c,m,b,function(){c.nB(0)})}var Ur=new fA;Ur.GK();
M(window,"error",function(a){try{a=a.lc;if(G&&(!t(a.filename)||!t(a.lineno)||!t(a.message))&&t(window.event))var b=window.event,a={filename:b.errorUrl,lineno:b.errorLine,message:b.errorMessage};Ur.log(a.filename+"("+a.lineno+") : error: "+a.message)}catch(c){S("exception in diag exception logger:",a,c)}});

function nA(){};

function oA(){this.N=k}p=oA.prototype;p.nC=m;p.TIMEOUT=35E3;p.IT=60;p.oc=ca("N");p.clear=fa;p.reset=function(){t(this.bc)&&(Rd(this.bc),delete this.bc);delete this.ea;delete this.Jw;delete this.qc;delete this.Ms;delete this.nC};p.rt=function(){return this.$e||k};p.tE=function(){return this.qc||k};p.R=function(){return this.Ms||k};p.Zl=function(){return this.Jw||k};function pA(a,b,c){a.zj(bm,{statusCode:b,statusDetailCode:c})}function qA(a,b){a.zj(bm,{message:b})}p.nI=fa;p.lI=fa;p.getData=n("ea");
p.Er=aa();
function rA(a){var b=a.N.Ua,c=new Ih(b.Sj+"/aim/startSession");Zh(c,"assertCaps",b.et().join(","));Zh(c,"clientName","AIM_2011");Zh(c,"clientVersion","1.00");Zh(c,"events",b.Fd.join(","));Zh(c,"f","json");Zh(c,"interestCaps",b.VX.join(","));Zh(c,"excludePresenceFields","presenceIcon,emailConfirmed,memberSince,onlineTime,interactionScore,interactionTime");Zh(c,"invisible",b.bY);Zh(c,"clientFeatures",b.LU.join(","));A(b.e5,function(a){c.Wc.add("serviceName",a)});Zh(c,"sessionTimeout",a.IT);return c}
function sA(a){var b=rA(a);tA(a,a.cD(b),a.v3,function(){var a="t"+(uA++).toString(36)+x().toString(36);Zh(b,"c",vA+"."+a);return[this.cD(b),a]})}
p.v3=function(a,b,c){U("startSession result: "+a);U("startSession code: "+b);if(a==wA){Q("app.jsonConsole")?Hj&&window.app.jsonConsole.log("startSession",Ej(c)):U("startSession response is: "+Ej(c));var d=c.response,a=d.statusCode,c=d.statusDetailCode,d=d.data;200!=a&&Ur.log("startSession code:"+a+" detail:"+c);200==a?(this.DB(d.ts),this.Jw=d.aimsid,a=d.myInfo,this.qc=a.aimId,this.Ms=a.friendly,"wellKnownUrls"in d&&this.nI(d.wellKnownUrls),xA(this.N,d),a&&a.self&&a.self.rightsInfo&&a.self.rightsInfo.maxIMSize&&
(Du=a.self.rightsInfo.maxIMSize),1==d.renewToken&&R("startSession thinks we should get a new token."),"fetchBaseURL"in d?this.N.ka(700,d.fetchBaseURL):qA(this,"Missing fetchBaseURL")):400==a&&1015==c?(this.DB(d.ts),this.nC?pA(this,a,c):(this.nC=j,N(function(){this.N.ka(no)},0,this))):pA(this,a,c)}else 0==b?(Ur.log("startSession result "+a),Ur.log("startSession code "+b),N(function(){yA(this.N,"startSession",b)},5E3,this)):(Ur.log("startSession result "+a),Ur.log("startSession code "+b),N(function(){yA(this.N,
"startSession",b)},0,this))};function zA(a){if(a.N.zt()){var b=new Ih(a.N.Ua.Sj+"/aim/endSession");Zh(b,"aimsid",a.Jw);Zh(b,"f","json");Zh(b,"nocache",+new Date);a.zj(1200);tA(a,b.toString(),a.b0)}else U("ignoring call to offline for the no fetcher case."),a.N.ka(bm)}p.kR=function(){delete this.$e;window.location.reload(j)};
p.b0=function(a,b,c){a==wA?(b=c.response,a=b.statusCode,b=b.statusDetailCode,200==a?this.zj(bm):(Ur.log("endSession code:"+a+" detail:"+b),pA(this,a,b))):(Ur.log("endSession result "+b),yA(this.N,"endSession",b))};p.zj=function(a,b){this.N.zj(a,b)};p.DB=function(a){this.N.TE=a-Math.round(new Date/1E3)};function tA(a,b,c,d){t(a.bc)&&(Rd(a.bc),delete a.bc);var f=AA;d===m?(f=BA,d=h):na(d)&&(d=w(d,a));a.bc=new CA(w(c,a),f);a.bc.send(b,a.TIMEOUT,d)};

function DA(a,b,c){L.call(this,EA);this.tJ=a;this.yS=b.statusDetailCode;this.statusText=b.statusText;this.response=b;this.M4=c}z(DA,L);DA.prototype.Oh=n("response");var EA="PlatformStatusErrorEvent";function FA(a,b,c){L.call(this,fo);this.ud=b;this.RX=c}z(FA,L);var fo="aim.net.event.SessionStateChange";

var wA=0;

function GA(){var a=u(window.console);this.Cf=window.console||{};this.lA=a&&"true"==ai("profiling");this.K5="profile"in this.Cf?function(a){this.Cf.profile(a)}:fa;this.GV="profileEnd"in this.Cf?function(){this.Cf.profileEnd()}:fa;this.QW="group"in this.Cf?function(a){this.Cf.group(a)}:S;this.wE="log"in this.Cf?function(a){this.Cf.log(a)}:S;this.PW="groupEnd"in this.Cf?function(){this.Cf.groupEnd()}:fa;this.data={};this.qA=j;this.Sy={};this.ju={};this.ku={}}
function HA(a,b,c,d){a.lA&&a.qA&&(c&&a.lA?(a.K5(b),a.Sy[b]=j):a.Sy[b]=m,a.Cf.memory&&(a.ju[b]=a.Cf.memory),d||(u(a.data[b])?a.data[b].Jr():a.data[b]=new Zl))}
function IA(a,b,c){if(a.lA){if(a.qA&&b){a.Sy[b]&&(a.GV(),a.Sy[b]=m);if(c&&(u(a.data[b])&&a.data[b].Qs(),a.Cf.memory&&a.ju[b])){a.ku[b]||(a.ku[b]={increaseCount:0});var c=a.ku[b],d=a.ju[b],f=a.Cf.memory,g=m,i;for(i in f)if("number"==typeof f[i]){var l=f[i]-d[i];if(0>l)var q=i+"_decrease",g=j;else q=i;c[q]=l+(c[q]||0)}g||c.increaseCount++}a.ju[b]=k}a.name=""}}function JA(a,b){IA(a,b,j)}
GA.prototype.wD=function(){if(this.lA){var a=$l.j().data,b=[];for(d in this.data)b.push(d);for(d in a)b.push(d);b=b.sort();this.QW("AIM Profiler:");for(var c=b.length;c--;){var d=b[c],f=this.data[d]||a[d];this.wE(d+" -\tMin: "+f.Min+"  Max: "+f.Max+"  Average: "+Math.round(100*f._total/(f.Count||1))/100+"  Count: "+f.Count)}for(c=b.length;c--;)if(d=b[c],a=this.ku[d]){var d=d+" -\t",g;for(g in a)d+=g+": "+a[g]+"  ";this.wE(d)}$l.j();this.wE("DOM item count:  "+document.getElementsByTagName("*").length);
this.PW()}};GA.prototype.pause=function(){this.qA=m};GA.prototype.reset=function(){this.data={};this.ju={};this.ku={}};ga(GA);r._aim_dump_profile=function(){GA.j().wD();return""};r._aim_pause_profile=function(){GA.j().pause();return""};r._aim_record_profile=function(){GA.j().qA=j;return""};

/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function KA(a,b){this.Qc=[];this.kL=a;this.WL=b||k}p=KA.prototype;p.Gn=m;p.ut=m;p.Nu=0;p.eJ=m;p.GU=m;p.zC=0;p.cancel=function(a){if(this.Gn)this.fv instanceof KA&&this.fv.cancel();else{if(this.bb){var b=this.bb;delete this.bb;a?b.cancel(a):(b.zC--,0>=b.zC&&b.cancel())}this.kL?this.kL.call(this.WL,this):this.eJ=j;this.Gn||(a=new LA,this.Mi(),MA(this,m,a))}};p.vf=function(){this.Nu++};p.FL=function(a,b){MA(this,a,b);this.Nu--;0==this.Nu&&this.Gn&&NA(this)};
function MA(a,b,c){a.Gn=j;a.fv=c;a.ut=!b;NA(a)}p.Mi=function(){this.Gn&&(this.eJ||e(new OA),this.eJ=m)};p.xU=function(a){this.Mi();MA(this,j,a)};function PA(a,b,c,d){a.Qc.push([b,c,d]);a.Gn&&NA(a)}function QA(a){return rb(a.Qc,function(a){return na(a[1])})}
function NA(a){a.HJ&&a.Gn&&QA(a)&&(r.clearTimeout(a.HJ),delete a.HJ);a.bb&&(a.bb.zC--,delete a.bb);for(var b=a.fv,c=m,d=m;a.Qc.length&&0==a.Nu;){var f=a.Qc.shift(),g=f[0],i=f[1],f=f[2];if(g=a.ut?i:g)try{var l=g.call(f||a.WL,b);u(l)&&(a.ut=a.ut&&(l==b||l instanceof Error),a.fv=b=l);b instanceof KA&&(d=j,a.vf())}catch(q){b=q,a.ut=j,QA(a)||(c=j)}}a.fv=b;d&&a.Nu&&(PA(b,w(a.FL,a,j),w(a.FL,a,m)),b.GU=j);c&&(a.HJ=r.setTimeout(function(){u(b.message)&&b.stack&&(b.message+="\n"+b.stack);e(b)},0))}
function OA(){wa.call(this)}z(OA,wa);OA.prototype.message="Already called";function LA(){wa.call(this)}z(LA,wa);LA.prototype.message="Deferred was cancelled";

function RA(a,b){var c=b||{},d=c.document||document,f=document.createElement("SCRIPT"),g={GR:f,Ec:h},i=new KA(SA,g),l=k,q=t(c.timeout)?c.timeout:5E3;0<q&&(l=window.setTimeout(function(){TA(f,j);var b=new UA(VA,"Timeout reached for loading script "+a);i.Mi();MA(i,m,b)},q),g.Ec=l);f.onload=f.onreadystatechange=function(){if(!f.readyState||"loaded"==f.readyState||"complete"==f.readyState)TA(f,c.KU||m,l),i.xU(k)};f.onerror=function(){TA(f,j,l);var b=new UA(WA,"Error while loading script "+a);i.Mi();MA(i,
m,b)};Yc(f,{type:"text/javascript",charset:"UTF-8",src:a});XA(d).appendChild(f);return i}function XA(a){var b=a.getElementsByTagName("HEAD");return!b||0==b.length?a.documentElement:b[0]}function SA(){if(this&&this.GR){var a=this.GR;a&&"SCRIPT"==a.tagName&&TA(a,j,this.Ec)}}function TA(a,b,c){t(c)&&r.clearTimeout(c);a.onload=fa;a.onerror=fa;a.onreadystatechange=fa;b&&window.setTimeout(function(){od(a)},0)}var WA=0,VA=1;
function UA(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);wa.call(this,c);this.code=a}z(UA,wa);

function YA(a,b){this.me=new Ih(a);this.yU=b?b:"callback";this.Ec=5E3}var vA="_callbacks_",ZA=0;YA.prototype.send=function(a,b,c,d){a=a||k;d=d||"_"+(ZA++).toString(36)+x().toString(36);r[vA]||(r[vA]={});var f=this.me.Hb();if(a)for(var g in a)(!a.hasOwnProperty||a.hasOwnProperty(g))&&$h(f,g,a[g]);b&&(r[vA][d]=$A(d,b),$h(f,this.yU,vA+"."+d));b=RA(f.toString(),{timeout:this.Ec,KU:j});PA(b,k,aB(d,a,c),h);return{ya:d,XL:b}};YA.prototype.cancel=function(a){a&&(a.XL&&a.XL.cancel(),a.ya&&bB(a.ya,m))};
function aB(a,b,c){return function(){bB(a,m);c&&c(b)}}function $A(a,b){return function(c){bB(a,j);b.apply(h,arguments)}}function bB(a,b){r[vA][a]&&(b?delete r[vA][a]:r[vA][a]=fa)};

var AA=0,BA=2;function cB(a){return Nl(a.replace(/\u2028|\u2029/g," "))}var dB=window.JSON&&window.JSON.parse?window.JSON.parse:cB;function CA(a,b){U("aim.net.Transport - constructing.");this.$d=a;this.Tm=b;eB(this);this.VS=this.Tm;this.nd&&(M(this.nd,"success",this.PQ,m,this),M(this.nd,"error",this.ei,m,this),M(this.nd,"timeout",this.HQ,m,this),M(this.nd,"abort",this.GP,m,this),U("aim.net.Transport.xhrRequestor_ - listeners attachted."));this.Ce=GA.j()}z(CA,xe);p=CA.prototype;
p.reset=function(){this.abort();this.Tm=this.VS;delete this.Nc;delete this.$b;delete this.dK};p.Nc=m;p.uo=k;p.Hq=k;p.nd=k;p.dK=m;p.$b=k;function eB(a){a.Tm||(a.Tm="withCredentials"in new XMLHttpRequest?1:BA);!a.nd&&1==a.Tm&&(a.nd=new On);return a.Tm||BA}
p.n=function(){this.abort();this.nd&&(ne(this.nd,"success",this.PQ,m,this),ne(this.nd,"error",this.ei,m,this),ne(this.nd,"timeout",this.HQ,m,this),ne(this.nd,"abort",this.GP,m,this),U("aim.net.Transport.xhrRequestor_ - listeners removed."));this.$d=fa;CA.g.n.call(this);U("aim.net.Transport - disposed.")};
p.send=function(a,b,c){if(this.Nc)return 1;U("sending url: "+a);this.$b=a;delete this.gO;1==eB(this)&&!v(c)?(na(c)&&(this.gO=c),this.nd.zv(b),this.nd.send(a),this.Nc=j):(na(c)&&(c=c(),a=c[0],c=c[1]),this.uo=new YA(a,"c"),this.uo.Ec=b,this.Hq=this.uo.send({},w(this.$G,this),w(this.ZG,this),c),this.Nc=t(this.Hq));return wA};p.pF=function(){return this.Nc==j};
p.abort=function(){return this.Nc?(1==eB(this)?this.nd.abort():(this.uo.cancel(this.Hq),delete this.Nc,delete this.uo,delete this.Hq,delete this.$b),wA):2};p.PQ=function(){HA(this.Ce,"aim_fetchEvents_Transport",j,j);$l.j().Jr("aim_fetchEvents_Transport");this.dK=j;delete this.Nc;delete this.$b;try{var a=wA,b=this.nd.On(),c=dB(b)}catch(d){a=6,c||(c={invalidJson:this.nd.On()})}this.$d(a,this.nd.lb(),c||{},b);JA(this.Ce,"aim_fetchEvents_Transport")};
p.ei=function(){delete this.Nc;!this.dK&&1==this.Tm&&1!=this.VS&&this.$b&&this.nd&&0==this.nd.lb()?(S("aim.net.Transport CORS error falling back to JSONp."),this.Tm=BA,this.send(this.$b,this.nd.He,this.gO)):(delete this.$b,this.$d(4,-100,{}))};p.HQ=function(){delete this.Nc;delete this.$b;U("aim.net.Transport send timeout.");this.$d(3,0,{})};p.GP=function(){this.Nc||U("aim.net.Transport send aborted.");delete this.Nc;delete this.$b;this.$d(5,0,{})};
p.$G=function(a){delete this.Nc;delete this.uo;delete this.Hq;delete this.$b;this.$d(wA,200,a||{})};p.ZG=function(a){delete this.Nc;delete this.uo;delete this.Hq;delete this.$b;this.$d(4,-200,a)};var uA=0;

function fB(a,b){this.$d=a;var c="false"==ai("webWorker");if(G||H&&I("8.0"))c=j;var d=Q("app.info")?window.app.info.name:"";!c&&"Chromely"==d&&(d=window.navigator.userAgent.match(/Chrome\/(\d*\.\d*)/),(d=d[1])&&(c=13>=parseFloat(d)));S("WebWorker status: forceWebWorkerOff is "+c);if(this.bf=!c&&"Worker"in window?new window.Worker(window.location.protocol+"//"+window.location.host+"/static/2.38.0.6/js/aim.wimworker.js"):k)this.xC=w(this.qX,this),this.bf.addEventListener("message",this.xC,m);this.bc=
this.bf?k:new CA(w(this.AE,this),b);this.Nc=m;this.$b="";this.Ce=GA.j()}z(fB,Pd);p=fB.prototype;p.qX=function(a){if(a)try{var b=oa(a)?a.data:dB(a);if(v(b)&&"{"==b.charAt(0)){if(Mj("PreParseMessage"),b=dB(b),Mj("PostParseMessage"),"resultCode"in b){var c=b.resultCode;wA<=c&&(HA(this.Ce,"aim_fetchEvents_webWorker",j,j),$l.j().Jr("aim_fetchEvents_webWorker"));this.AE(c,b.status,b.json);wA<=c&&JA(this.Ce,"aim_fetchEvents_webWorker")}}else S(b)}catch(d){S("exception: ",a)}};
p.AE=function(a,b,c){this.Nc=m;7<=a&&(this.bf.removeEventListener("message",this.xC),this.bf.postMessage({cmd:"exit"}),delete this.bf,this.bc||(this.bc=new CA(w(this.AE,this),8<=a?BA:AA)),this.Nc=m);try{var d=c&&v(c)?dB(c):c}catch(f){a=6,d||(d={invalidJson:c})}this.$d(a,b,d||{},c)};p.reset=function(){this.bf?this.bf.postMessage({cmd:"reset"}):this.bc&&this.bc.reset();this.Nc=m};
p.abort=function(){if(this.Nc){this.Nc=m;if(this.bf)this.bf.postMessage({cmd:"abort"});else if(this.bc)return this.bc.abort();return wA}return 2};p.n=function(){this.abort();this.bf&&(this.bf.removeEventListener("message",this.xC),this.bf.postMessage({cmd:"exit"}),delete this.bf);this.bc&&(this.bc.o(),delete this.bc);this.$d=fa;fB.g.n.call(this)};
p.send=function(a,b,c){this.$b=a;if(this.Nc)return 1;this.Nc=j;if(this.bf)this.bf.postMessage({cmd:"get",url:a.toString(),timeout:b,callbackId:c||""});else if(this.bc)return this.bc.send(a,b,c);return wA};p.pF=function(){return this.Nc==j};

function gB(a,b){L.call(this,Ex);this.Fc=a;this.mJ=b||{}}z(gB,L);gB.prototype.Ra=n("Fc");gB.prototype.C=function(a){a instanceof ju&&!a.aa()&&(a=a.m());for(var b=this.Fc.Ra(),c=k,d=0;d<b.length;d++)if(c=b[d],c.m()==a)return c;return k};function hB(a,b){return rb(b.Ra(),function(a){return this.C(a)!=k},a)}function iB(a,b){var c=new bv;ix(b,function(a){this.C(a)!=k&&c.Zd(a)},a);return c}var Ex="PresenceEvent";

function jB(a,b,c){Bv.call(this,c,a);this.data=b;S(this)}z(jB,Bv);

function kB(a,b){Bv.call(this,b,"presence");this.r=a instanceof ju?a:av(a)}z(kB,Bv);kB.prototype.Ra=function(){return new bv([this.r])};kB.prototype.C=n("r");

function lB(a,b){Bv.call(this,b,"buddylist");this.na=a}z(lB,Bv);

function mB(a,b){Bv.call(this,b,"clientError");this.Lb=a.source;this.Np=a.cookie;this.$X="data"==a.channel}z(mB,Bv);mB.prototype.bj=n("Lb");

function nB(a,b){Bv.call(this,b,"conversation");this.i4=a.operation;this.cd=qb(a.conversations||[],function(a){return new Dv(a)})}z(nB,Bv);

function oB(a,b){Bv.call(this,b,"typing");this.df=a.aimId;this.Qj=a.typingStatus}z(oB,Bv);oB.prototype.m=n("df");oB.prototype.lb=n("Qj");

function Zv(a,b){Bv.call(this,b,"offlineIM");this.Lb=jr(a.aimId);this.za=a.msgId;this.$h=a.message;this.Qw=a.autoresponse;this.gG=a.msgLogged;this.ps=!!a.offTheRecord;this.st=!!a.globalOffTheRecord||!!a.gOTR;this.Aa=a.timestamp}z(Zv,Bv);p=Zv.prototype;p.m=function(){return this.Lb.m()};p.bj=n("Lb");p.aj=n("za");p.Mc=function(){return this.ps||this.st};p.Ak=o(m);
p.Gg=function(){if(!u(this.Lb)||!u(this.$h))return S("Could not create messsage - source or message was empty."),k;var a=new qv(this.$h,this.Lb,this.za,new Date(1E3*this.Aa)),b=this.Mc();a.Oo=b;return a};p.kl=function(){var a={},b={sent:0};b.timestamp=this.Aa;b.msgId=this.za;b.message=this.$h;a.aimId=this.m();a.lastIM=b;a.incrementUnreadCount=j;a.convDataFromImEvent=j;return new Dv(a)};

function pB(a,b){Bv.call(this,b,"dataIM");this.Lb=a.source;this.UL=a.dataType;this.TL=a.dataIM;this.Aa=a.timestamp;this.Eo=a.metaData;this.nu=a.metaDataType;this.Rf=a.port;this.Np=a.cookie}z(pB,Bv);pB.prototype.bj=n("Lb");

function qB(a){var b=kx(a.imserv);b.update(a);return b}function av(a){if(u(a.imserv))return qB(a);var b=jr(a.aimId);b.update(a);return b}var rB=0,sB=0;function tB(a){if(u(a.imserv))return qB(a);var b=new ju(a.aimId,a),c=b.m(),d=vu(oi(c)),b=$u(c,b);if(d){var f=b,g=Zu(d,f,j);g||(g=d.R()!=f.R());g?d.update(b):(U('Presence for: "',c,'" dropped.  It was unchanged.  Count:',++rB),U("Presence Data: ",a),b=k)}b&&(U('Presence for: "',c,'" was changed or new.  Count:',++sB),d||wu(c,b));return b};

function $v(a,b){Bv.call(this,b,"sentIM");this.Ll=av(a.dest);this.lW=!a.iSent;this.za=a.msgId;this.bP=a.message;this.Aa=a.timestamp?new Date(1E3*a.timestamp):new Date;this.cR=a.timestamp;this.Qw=a.autoresponse;this.gG=a.msgLogged;this.ps=!!a.offTheRecord;this.st=!!a.globalOffTheRecord||!!a.gOTR;this.Eo=a.metaData;this.nu=a.metaDataType}z($v,Bv);p=$v.prototype;p.we=function(){return this.Ll.we()};p.m=function(){return this.Ll.m()};p.dh=function(){return this.Ll.z()};p.aj=n("za");
p.Mc=function(){return this.ps||this.st};function uB(a){return t(a.Eo)&&"json"==a.nu}p.Gg=function(){var a=new qv(this.bP,this.bj(),this.za,this.Aa,h,uB(this)?uB(this)?pv(this.Eo):k:h),b=this.Mc();a.Oo=b;return a};p.Ak=function(){return this.Ll.aa()};p.bj=function(){return r._aim_user_};
p.kl=function(){var a={sent:1};a.timestamp=this.cR?this.cR:0;a.msgId=this.za;a.message=this.bP;a.sender=r._aim_user_.m();a.wasFileSent=t(this.Eo);var b={};b.aimId=this.m();b.imserv=this.dh();b.displayId=this.we();b.lastIM=a;b.incrementUnreadCount=m;b.convDataFromImEvent=j;return new Dv(b)};

function vB(a,b){Bv.call(this,b,"rateLimit");this.mY=a.classes[0];this.hd=this.mY.status}z(vB,Bv);vB.prototype.lb=n("hd");

function wB(a,b){Bv.call(this,b,"imserv");this.C4=a.recentActivities}z(wB,Bv);

function xB(a,b){Bv.call(this,b,"sessionEnded");this.data=a}z(xB,Bv);

function yB(a,b){Bv.call(this,b,"myInfo");this.PL=a instanceof ju?a:av(a)}z(yB,Bv);

function zB(a,b){this.Cb=a;this.OC=qb(b,function(a){return new AB(a)})}function BB(a){a=tb(a.OC,function(a){return"url"==a.Ga()});return t(a)?a.mq()||"#":"#"}zB.prototype.Ga=n("Cb");zB.prototype.Xl=function(){switch(this.Cb){case "confirm":return y("Accept");case "deny":return y("Decline")}return this.Cb};zB.prototype.Ul=function(){var a=k;rb(this.OC,function(b){if("gotoPicnic"==b.Ga()||"rejectPicnic"==b.Ga())return a=b.mq(),j});return a};
zB.prototype.Sa=function(){return{label:this.Xl(),href:BB(this),picnic:this.Ul(),type:this.Ga()}};function CB(a){return qb(a,function(a){return new zB(a.label,a.cmd)})}function AB(a){var b=a.indexOf(":");this.Cb=a.slice(0,b);this.Ei=a.slice(b+1)}AB.prototype.Ga=n("Cb");AB.prototype.mq=n("Ei");


function DB(a){this.ya=a.activityId;this.RT=a.activity||a.update||"{}";try{this.ca=Ml(this.RT)}catch(b){S("failed to parse activity json",b),this.ca={}}this.Cb=this.ca.type||"";this.ne=this.ca.user||{};this.mp=EB(this.ca.titleHTMLService||this.ca.titleHTML||this.ca.title);this.xf=this.ca.title?this.ca.title:Qo(this.mp);this.ks=this.ca.bodyHTMLService||this.ca.bodyHTML||this.ca.body;this.Vw=this.ca.body?this.ca.body:Qo(this.ks);this.ZB=this.ca.activityURLService||this.ca.activityURL;this.a6=this.ca.thumbnail;
this.fY=this.ca.isNotification||m;this.qo=t(this.ca.isRead)?!this.ca.isRead:m;a=this.ca.user;this.Ha=!t(a)?k:"invite"==FB(this)?"invite":a.service||k;this.CK=CB(this.ca.actions||[]);this.as=this.ca.actionTaken;this.Lg=new Date(1E3*this.ca.timestamp);isNaN(this.Lg.getTime())&&(this.Lg=new Date);this.UB=k;GB(this);this.eB=j}p=DB.prototype;p.z=n("ya");p.Ga=n("Cb");function FB(a){a=a.ca.dominoClassification;return t(a)?a.target:k}function HB(a){a=a.ca.dominoClassification;return t(a)?a.category:k}
p.Un=function(){return this.ne.aimId};p.ub=function(){var a=this.ne.service;"thirdparty"==a&&(a="aim");return a};p.Pt=n("fY");function GB(a){a.UB=new Date(1E3*a.ca.actionTime);isNaN(a.UB.getTime())&&(a.UB=new Date)}function IB(a){return t(a)?a.replace(/<a .*?href="">(.*?)<\/a>/g,"$1"):""}function EB(a){return t(a)?a.replace(/(<a[^>]+lifestream\.(aol|aim)\.com[^>]+>)(.+?)<\/a>/gi,function(a,c,d,f){return-1<c.search(/service="/i)?a:f}):""}
function JB(a){var b;A(a.CK,function(a){"confirm"==a.Ga()&&(b=a.Ul())});return b}function KB(a){return(a=/<a class="nlink nlocal" service="([a-zA-Z]+)"/.exec(a.mp))&&0<a.length?a[1].toLowerCase():k}
p.Sa=function(){var a=this.ya,b=this.ZB,c=this.xf,d=IB(this.mp),f=this.Vw,g=IB(this.ks),i;if(!(i=KB(this)))i=(i=/<a class="nlink nlocal" chatservice="([a-zA-Z]+)"/.exec(this.mp))&&0<i.length?i[1].toLowerCase():k;a={id:a,wp:b,title:c,Yv:d,body:f,zl:g,Pa:this.ne.displayName||this.ne.serviceUser,rb:this.ub(),c5:this.ne.serviceIcon,yb:this.ne.serviceDisplayName,Ji:i?P()+"settings/images/servicelogos/service-"+i+".png":this.ne.buddyIcon,Qd:"aim"==this.ub()?k:this.ne.profileUrl,mS:this.eB,Or:this.a6,hF:JB(this),
type:this.Ga()};if("tag"==HB(this)&&("photo"==FB(this)||"video"==FB(this)))a.Pa=k;return a};function LB(a){var b;try{b=Ml(a)}catch(c){S("failed to parse activity json",c),b={}}return new DB({activity:a,activityId:b.id})};

function MB(a){this.ya=a.id;this.Cb=a.type;this.ne=a.user||{};this.mp=a.titleHTMLService||a.titleHTML||a.title||"";this.xf=a.title?a.title:Qo(this.mp);this.ks=a.bodyHTMLService||a.bodyHTML||a.body||"";this.Vw=a.body?a.body:Qo(this.ks);this.ZB=a.activityURL;this.nM=1E3*a.lsEntryTime;this.Lg=new Date(this.nM);isNaN(this.Lg.getTime())&&(this.Lg=new Date);var b=a.media||[];this.iz=[];A(b,w(function(a){a.type&&a.thumbnail&&zb(this.iz,a)},this));this.Lb=a.source||"";"thirdparty"==this.Lb&&(this.Lb="aim");
this.fu=a.likeServices||[];b=mb(this.fu,"thirdparty");-1<b&&(this.fu[b]="aim");xb(this.fu,this.ub())||(this.fu=[]);this.nj=a.likeCount||0;this.UJ=a.userLiked||m;b=a.likeUsers||[];this.wO=[];A(b,function(a){zb(this.wO,{TJ:a.buddyIcon,userName:a.displayName,rb:a.service,Qd:NB(this,a),Pa:a.displayName})},this);this.Jp=a.commentServices||[];b=mb(this.Jp,"thirdparty");-1<b&&(this.Jp[b]="aim");xb(this.Jp,this.ub())||(this.Jp=[]);this.Fl=a.commentCount||0;b=a.comments||[];this.fg=[];A(b,function(a){zb(this.fg,
OB(this,a))},this);this.mJ=[this.ub()];t(a.combinedActivities)&&A(a.combinedActivities,function(a){try{zb(this.mJ,a.user.service)}catch(b){S("issues getting combined activity source",b)}},this);this.ZA=a.sharedLink||k;t(this.ZA)&&!t(this.ZA.description)&&(this.ZA.description="")}p=MB.prototype;p.wb=function(){return""==this.xf&&""==this.Vw};p.z=n("ya");p.Ga=n("Cb");p.Un=function(){return this.ne.aimId};p.ub=function(){var a=this.ne.service;"thirdparty"==a&&(a="aim");return a};
function PB(a){return a.Fl}function QB(a,b){a.nj+=t(b)?b:1}function RB(a,b){a.nj-=t(b)?b:1;0>a.nj&&(a.nj=0)}function SB(a){return a.fg}p.qC=function(a){A(a,function(a){rb(this.fg,function(c){return c.id==a.id})||this.fg.push(OB(this,a))},this);this.Fl=this.fg.length};p.$f=n("UJ");p.St=function(a){return(t(a)?a.serviceUser:this.Un())==r._aim_user_.m()};
function NB(a,b){var c=t(b)?b.profileUrl:a.ne.profileUrl,d=t(b)?b.service:a.ub();a.St(b)?c=k:"aim"==d&&(c="/?chat="+(t(b)?b.serviceUser:a.Un()));return c}function TB(a,b){return a.UJ!=b?(b?QB(a):(RB(a),0>a.nj&&(a.nj=0)),a.UJ=b,j):m}p.tA=function(a){var b=k;A(this.fg,function(c){c.id==a&&(b=c)},this);if(ia(b))return m;Cb(this.fg,b);this.Fl=this.fg.length;return j};
p.Sa=function(){return{id:this.ya,wp:this.ZB,title:this.xf,Yv:this.mp,body:this.Vw,zl:this.ks,Pa:this.ne.displayName||this.ne.serviceUser,rb:this.ne.service,c5:this.ne.serviceIcon,yb:this.ne.serviceDisplayName,Ji:this.ne.buddyIcon,Qd:NB(this),timestamp:this.nM,V9:this.Lg,source:this.Lb,G5:this.mJ,uY:this.fu,zo:this.nj,$f:this.$f(),QU:this.Jp,Z9:this.Fl,media:this.iz,Tt:this.St(),QI:this.ZA}};
function OB(a,b){var c=b.user;return{text:b.comment,TJ:c.buddyIcon,userName:c.displayName,rb:c.service,timestamp:b.timestamp,Qd:NB(a,c),id:b.id,Tt:c.aimId==r._aim_user_.m()}};

function UB(a){var b=t(a.update)?Nl(a.update):{};this.Cb=t(a["delete"])?VB:t(b.likesAddedCount)?WB:t(b.likesRemovedCount)?XB:t(b.commentsAddedCount)?YB:t(b.commentsRemovedCount)?ZB:$B;this.ya=a.activityId||"";this.El=0;this.ea=k;a="";switch(this.Cb){case WB:a=b.likesAdded[0].aimId;this.El=b.likesAddedCount;break;case XB:a=b.likesRemoved[0].aimId;this.El=b.likesRemovedCount;break;case YB:a=b.commentsAdded[0].user.aimId;this.El=b.commentsAddedCount;this.ea=b.commentsAdded;break;case ZB:a=b.commentsRemoved[0].user.aimId,
this.El=b.commentsRemovedCount,this.ea=b.commentsRemoved}this.gY=a==r._aim_user_.m();this.Lg=new Date}p=UB.prototype;p.Ga=n("Cb");p.z=n("ya");p.St=n("gY");p.bE=function(){return t(this.ea)?this.ea:-1};p.getData=n("ea");var VB="LifetreamUpdate.delete",WB="LifetreamUpdate.addLike",XB="LifetreamUpdate.removeLike",YB="LifetreamUpdate.addComment",ZB="LifetreamUpdate.removeComment",$B="LifetreamUpdate.unknown";

function aC(a,b){Bv.call(this,b,"lifestream");this.na=a;this.Cw=t(this.na.activity)?Nl(this.na.activity)||{}:{};var c=t(this.Cw)&&t(this.Cw.isNotification)?this.Cw.isNotification:m;this.ca=t(a.update)||t(a["delete"])?new UB(a):c?new DB(a):new MB(this.Cw);this.Lg=t(a.timestamp)?new Date(1E3*a.timestamp):new Date;this.fO=(this.Lt()||this.ca instanceof UB)&&this.ca.St()||m}z(aC,Bv);aC.prototype.ec=n("ca");aC.prototype.Pt=function(){return this.ca instanceof DB};
aC.prototype.Lt=function(){return this.ca instanceof MB};

function Jv(a,b,c){Bv.call(this,b,"urlInfo");U("!urlinfo! - sequence: ",b," urlinfo - json: ",a);this.CJ=a.to;this.ct=a.from;this.za=a.msgId;this.ng=a.imserv||"";c?this.Ie=c:(a=Ml(a.urlInfo),a=u(a.urlInfoResults)?a.urlInfoResults:a,this.Ie=ka(a)?Hb(a):a)}z(Jv,Bv);Jv.prototype.sE=n("Ie");Jv.prototype.aa=function(){return""!=this.ng};
Jv.prototype.kl=function(a){var b={},c=a.Sa(),d=this.ct==r._aim_user_.m(),f=d?this.CJ:this.ct,g=jr(f);c.message=c.text;c.sender=f;b.aimId=f;b.displayId=g.we();c.sent=d;c.timestamp=a.Aa;c.msgId=this.za;b.imserv=this.ng;b.lastIM=c;a=this.Ie[0].uInfo.type;c.hq&&0!=c.hq.length?(c.message=c.hq[0].name,b.type="image"==a?"image":c.hq[0].isKnownSound?"voice":"file"):b.type=a;b.incrementUnreadCount=m;b.convDataFromImEvent=j;b.keepUnreadCount=j;return new Dv(b)};

function bC(a,b){Bv.call(this,b,"notification");Qr={rw:"service-added",uw:"service-deleted"};u(a.fields)&&A(a.fields,function(a){"heyServiceAdded"in a?(this.Dj="heyServiceAdded"in a?a.heyServiceAdded:h,this.Cb=Qr.rw):"heyServiceRemoved"in a?(this.Dj="heyServiceRemoved"in a?a.heyServiceRemoved:h,this.Cb=Qr.uw):"serviceDisplayName"in a&&(this.qc="serviceDisplayName"in a?a.serviceDisplayName:h)},this)}z(bC,Bv);p=bC.prototype;p.Dj="";p.Cb="";p.qc="";p.ub=n("Dj");p.Ga=n("Cb");p.tE=n("qc");

function cC(a,b){Bv.call(this,b,"permitDeny");this.na=a;this.IH=a.pdMode;this.tU=a.blocks||[];this.$T=a.allows||[]}z(cC,Bv);

function dC(a,b){Bv.call(this,b,"sentDataIM");this.UL=a.dataType;this.TL=a.dataIM;this.Aa=a.timestamp;this.Rf=a.port;this.Np=a.cookie}z(dC,Bv);

function eC(a,b){Bv.call(this,b,"service");this.na=a;this.Dj=a.service}z(eC,Bv);eC.prototype.ub=function(){var a=this.na.servicePromo;return a?a.service:k};

function fC(a,b){Bv.call(this,b,"ftux");this.hg=a.firstName;this.sg=a.lastName;this.Jc=a.emailAddr;this.LC=a.clientType;this.NK=m;try{var c=a.otherClients;t(c)&&A(c,function(a){a=a.clientType;if(Ta(a,"Web")||Ta(a,"Windows")||Ta(a,"Mac"))this.NK=j},this)}catch(d){S("error checking ftux otherClients",d)}}z(fC,Bv);fC.prototype.QM=n("hg");fC.prototype.SM=n("sg");fC.prototype.Wx=n("Jc");

function gC(a,b){Bv.call(this,b,"preference");this.na=a}z(gC,Bv);gC.prototype.w=function(a){return this.na[a]};

function hC(a,b){Bv.call(this,b,"userAddedToBuddyList");this.df=a.requester;this.Ms=a.displayAIMid;this.Dj=a.service}z(hC,Bv);hC.prototype.m=n("df");hC.prototype.R=n("Ms");hC.prototype.ub=n("Dj");

function iC(){Il.call(this,"add-contact");this.h().e(r._aim_session_,fo,this.ph)}z(iC,Il);p=iC.prototype;p.tb=k;p.ph=function(a){a.ud==bm&&this.Nl()};
p.ds=function(){var a=this.bh("addgroup-dialog","Add Contacts Group"),b=new bn;b.Ta(Rm,m,j);b.Ta({caption:"Add",key:"add"},j);Gm(a,b);C(Hm(b,"add"),"danger");b=new W;b.append('<div class="addgroup"><div class="addgroup-label">Enter new group name:</div><input class="addgroup-groupname" spellcheck="false"></input></div>');b=b.toString();a.pa(b);this.h().e(a,Im,this.zZ);a.L(j);K("addgroup-groupname",a.c()).focus();qi&&window.App.bringToForeground()};
p.zZ=function(a){"add"==a.key&&(a=K("addgroup-groupname",this.bh().c()).value,Y.j().ds(a))};p.bh=function(a,b){this.tb=this.tb||new Zm;a&&$m(this.tb,a);b&&this.tb.zb(b);return this.tb};p.Nl=function(){this.tb&&(re(this.tb),this.tb.o(),this.tb=k)};

function jC(a){this.F=a;this.LN=G||hc&&!I("531")&&"TEXTAREA"==a.tagName;this.wa=new Kf(this);this.wa.e(this.F,this.LN?["keydown","paste","cut","drop"]:"input",this)}z(jC,xe);jC.prototype.yd=k;jC.prototype.handleEvent=function(a){if(this.LN){if("keydown"!=a.type||Ee(a)){var b="keydown"==a.type?this.F.value:k;G&&229==a.keyCode&&(b=k);var c=kC(a);lC(this);this.yd=N(function(){this.yd=k;this.F.value!=b&&mC(this,c)},0,this)}}else(!gc||this.F==Rc(this.F).activeElement)&&mC(this,kC(a))};
function lC(a){a.yd!=k&&(Be(a.yd),a.yd=k)}function kC(a){a=new be(a.lc);a.type="input";return a}function mC(a,b){try{a.dispatchEvent(b)}catch(c){}finally{b.o()}}jC.prototype.n=function(){jC.g.n.call(this);this.wa.o();lC(this);delete this.F};

function nC(a,b,c){L.call(this,a,b);this.item=c}z(nC,L);

function oC(a,b){Of.call(this,b);this.Nd=a||""}z(oC,Of);oC.prototype.Wi=k;var pC="placeholder"in document.createElement("input");p=oC.prototype;p.vq=m;p.l=function(){this.F=this.D().l("input",{type:"text"})};p.K=function(a){oC.g.K.call(this,a);this.Nd||(this.Nd=a.getAttribute("label")||"");var b;a:{var c=Rc(a);try{b=c&&c.activeElement;break a}catch(d){}b=k}b==a&&(this.vq=j,D(this.c(),this.Zr));pC?this.c().placeholder=this.Nd:De(this.c(),"label",this.Nd)};
p.v=function(){oC.g.v.call(this);this.Gh();this.Mi();this.c().zc=this};p.$=function(){oC.g.$.call(this);this.Ri();this.c().zc=k};p.Gh=function(){var a=new Kf(this);a.e(this.c(),"focus",this.CE);a.e(this.c(),"blur",this.zE);pC?this.wa=a:(H&&a.e(this.c(),["keypress","keydown","keyup"],this.gX),a.e(bd(Rc(this.c())),"load",this.BX),this.wa=a,qC(this))};function qC(a){!a.hW&&a.wa&&a.c().form&&(a.wa.e(a.c().form,"submit",a.iX),a.hW=j)}p.Ri=function(){this.wa&&(this.wa.o(),this.wa=k)};
p.n=function(){oC.g.n.call(this);this.Ri()};p.Zr="label-input-label";p.CE=function(){this.vq=j;D(this.c(),this.Zr);if(!pC&&!rC(this)&&!this.aF){var a=this,b=function(){a.c().value=""};G?N(b,10):b()}};p.zE=function(){pC||(this.wa.M(this.c(),"click",this.CE),this.Wi=k);this.vq=m;this.Mi()};p.gX=function(a){27==a.keyCode&&("keydown"==a.type?this.Wi=this.c().value:"keypress"==a.type?this.c().value=this.Wi:"keyup"==a.type&&(this.Wi=k),a.preventDefault())};
p.iX=function(){rC(this)||(this.c().value="",N(this.SW,10,this))};p.SW=function(){rC(this)||(this.c().value=this.Nd)};p.BX=function(){this.Mi()};p.hasFocus=n("vq");function rC(a){return!!a.c()&&""!=a.c().value&&a.c().value!=a.Nd}p.clear=function(){this.c().value="";this.Wi!=k&&(this.Wi="")};p.reset=function(){rC(this)&&(this.clear(),this.Mi())};p.ga=function(a){this.Wi!=k&&(this.Wi=a);this.c().value=a;this.Mi()};p.w=function(){return this.Wi!=k?this.Wi:rC(this)?this.c().value:""};
p.vv=function(a){pC?(this.Nd=a,this.c()&&(this.c().placeholder=this.Nd)):(this.c()&&!rC(this)&&(this.c().value=""),this.Nd=a,this.xR(),this.c()&&De(this.c(),"label",this.Nd))};p.Xl=n("Nd");p.Mi=function(){pC?this.c().placeholder!=this.Nd&&(this.c().placeholder=this.Nd):(qC(this),De(this.c(),"label",this.Nd));rC(this)?D(this.c(),this.Zr):(!this.aF&&!this.vq&&C(this.c(),this.Zr),pC||N(this.xR,10,this))};p.uc=function(a){this.c().disabled=!a;Ub(this.c(),this.Zr+"-disabled",!a)};p.isEnabled=function(){return!this.c().disabled};
p.ZV=function(){this.aF=m};p.xR=function(){this.c()&&!rC(this)&&!this.vq&&(this.c().value=this.Nd)};

function sC(a,b){Of.call(this,a);this.zc=new oC;this.Q=b||new Ug(this.D());this.n5()}z(sC,Of);p=sC.prototype;p.Z=hj("aol.ui.ComboBox");p.Qb=j;p.dY=m;p.yy=k;p.sO=k;p.zc=k;p.Q=k;p.$m=-1;p.og=k;p.TF=xa;p.Cl=k;p.Il="";p.PV="";p.Ax=k;p.hT=m;
p.l=function(){this.og=this.D().l("input",{name:this.PV,autocomplete:"off"});this.Cl=this.D().l("span","goog-combobox-button");this.F=this.D().l("span","goog-combobox",this.og,this.Cl);this.hT&&(this.Cl.innerHTML="&nbsp;&#x25BC;",qf(this.Cl,j));this.og.setAttribute("label",this.Il);this.zc.qa(this.og);this.Q.le(m);this.Q.G||this.O(this.Q,j)};p.uc=function(a){this.Qb=a;this.zc.uc(a);Ub(this.c(),"goog-combobox-disabled",!a)};
p.v=function(){sC.g.v.call(this);var a=this.h();a.e(this.c(),"mousedown",this.q_);a.e(this.D().Ia(),"mousedown",this.NG);a.e(this.og,"blur",this.xu);this.Sc=new Ie(this.og);a.e(this.Sc,"key",this.Kf);this.yy=new jC(this.og);a.e(this.yy,["input","propertychange"],this.Ok);a.e(this.Q,"action",this.s1)};p.$=function(){this.Sc.o();delete this.Sc;this.yy.o();this.yy=k;sC.g.$.call(this)};p.ae=o(m);p.n=function(){sC.g.n.call(this);this.gx();this.zc.o();this.Q.o();this.Cl=this.og=this.Q=this.zc=k};
p.Ml=function(){this.gx();this.zN();this.Q.gd(-1)};p.Ad=function(a){this.Q.O(a,j);this.$m=-1};p.hn=function(a,b){this.Q.bg(a,b,j);this.$m=-1};p.removeItem=function(a){if(a=this.Q.removeChild(a,j))a.o(),this.$m=-1};p.Wl=function(a){return Zf(this.Q,a)};p.oq=function(){return Yf(this.Q)};p.ua=n("Q");p.DW=function(){if(-1==this.$m){for(var a=0,b=0,c=Yf(this.Q);b<c;b++){var d=Zf(this.Q,b);!(d instanceof Tg)&&d.isVisible()&&a++}this.$m=a}this.Z.info("getNumberOfVisibleItems() - "+this.$m);return this.$m};
p.pi=ca("Il");p.VR=function(){this.hT=j};p.ga=function(a){this.Z.info("setValue() - "+a);this.zc.w()!=a&&(this.zc.ga(a),this.dispatchEvent("change"))};p.w=function(){return this.zc.w()};p.rt=function(){return ek(Ga(this.zc.w().toLowerCase()))};p.n5=function(){var a=this.Q;a.L(m);Vg(a,m);a.MK=j};p.hz=function(a){var b=this.Q.isVisible(),c=this.DW();b&&0==c?(dj(this.Z,"no matching items, hiding"),this.zN()):!b&&0<c&&(a&&(dj(this.Z,"showing menu"),this.PR(""),this.OR(this.rt())),N(this.gx,1,this),this.WI())};
function tC(a){a.Hx&&a.Q.vd(a.Hx.x,a.dY?a.Hx.y-a.Q.c().offsetHeight:a.Hx.y+a.zV)}p.WI=function(){this.Q.L(j);C(this.c(),"goog-combobox-active");this.Hx=af(this.c());this.zV=this.c().offsetHeight;tC(this)};p.zN=function(){this.Q.L(m);D(this.c(),"goog-combobox-active")};p.gx=function(){this.Ax&&(Be(this.Ax),this.Ax=k)};
p.q_=function(a){if(this.Qb&&(a.target==this.c()||a.target==this.og||ud(this.Cl,a.target)))this.Q.isVisible()?(dj(this.Z,"Menu is visible, dismissing"),this.Ml()):(dj(this.Z,"Opening dropdown"),this.hz(j),gc&&this.og.focus(),this.og.select(),this.Q.ci=j,a.preventDefault());a.stopPropagation()};p.NG=function(a){a.target instanceof Element&&!ud(this.Q.c(),a.target)&&(this.Z.info("onDocClicked_() - dismissing immediately"),this.Ml())};
p.s1=function(a){this.Z.info("onMenuSelected_()");if(this.dispatchEvent(new nC("action",this,a.target))){var b=a.target.w();dj(this.Z,"Menu selection: "+b+". Dismissing menu");this.ga(Sa(b));this.Ml()}a.stopPropagation()};p.xu=function(){this.Z.info("onInputBlur_() - delayed dismiss");this.gx();this.Ax=N(this.Ml,250,this)};
p.Kf=function(a){var b=this.Q.isVisible();if(b&&this.Q.Kf(a))return j;var c=m;switch(a.keyCode){case 27:b&&(dj(this.Z,"Dismiss on Esc: "+this.zc.w()),this.Ml(),c=j);break;case 9:if(b&&(b=Eg(this.Q)))dj(this.Z,"Select on Tab: "+this.zc.w()),b.ii(a),c=j;break;case 33:case 34:if(b)if(b=this.Q.fd,33==a.keyCode)if(0>b-5)Fg(this.Q);else for(b=0;5>b;b++)Hg(this.Q);else if(b+5>=Yf(this.Q))Gg(this.Q);else for(b=0;5>b;b++)Ig(this.Q);else dj(this.Z,"Page Up/Down - maybe show menu"),this.hz(j),c=j;break;case 38:case 40:b||
(dj(this.Z,"Up/Down - maybe show menu"),this.hz(j),c=j)}c&&a.preventDefault();return c};p.Ok=function(){dj(this.Z,"Key is modifying: "+this.zc.w());var a=this.rt();this.PR(a);this.hz(m);var b=Eg(this.Q);(""==a||!b||!b.isVisible())&&this.OR(a);this.sO=a;this.dispatchEvent("change");tC(this)};
p.PR=function(a){this.Z.info("setItemVisibilityFromToken_() - "+a);for(var b=m,c=0,d=!this.TF(a,this.sO),f=0,g=Yf(this.Q);f<g;f++){var i=Zf(this.Q,f);if(i instanceof Tg)i.L(b),b=m;else if(i instanceof Rg){if(!i.isVisible()&&!d)continue;var l=i.ah(),l=this.cY(i)||l&&this.TF(l.toLowerCase(),a);"function"==typeof i.tv&&i.tv(a);i.L(!!l);b=l||b}else b=i.isVisible()||b;!(i instanceof Tg)&&i.isVisible()&&c++}this.$m=c};
p.OR=function(a){this.Z.info("setItemHighlightFromToken_() - "+a);if(""!=a)for(var b=0,c=Yf(this.Q);b<c;b++){var d=Zf(this.Q,b),f=d.ah();if(f&&this.TF(f.toLowerCase(),a)){this.Q.gd(b);d.tv&&d.tv(a);return}}this.Q.gd(-1)};p.cY=function(a){return"function"==typeof a.eO&&a.Ny};function uC(a,b,c){Rg.call(this,a,b,c)}z(uC,Rg);gg("goog-combobox-item",function(){return new uC(k)});uC.prototype.Ny=m;uC.prototype.eO=n("Ny");
uC.prototype.tv=function(a){if(this.isEnabled()){var a=Za(a),b=this.ah();b&&(this.c().innerHTML=b.replace(RegExp(a,"i"),function(a){return"<b>"+a+"</b>"}),this.Km(b))}};

hj("goog.ui.ComboBox");function vC(a,b,c){Rg.call(this,a,b,c)}z(vC,Rg);gg("goog-combobox-item",function(){return new vC(k)});vC.prototype.Ny=m;vC.prototype.eO=n("Ny");vC.prototype.tv=function(a){if(this.isEnabled()){var b=this.ah(),c=b.toLowerCase().indexOf(a);if(0<=c){var d=this.D();this.pa([d.createTextNode(b.substr(0,c)),d.l("b",k,b.substr(c,a.length)),d.createTextNode(b.substr(c+a.length))])}}};

function wC(a){this.sc=a;this.wa=new Kf(this);this.wa.e(a,"highlight",this.J0);this.wa.e(a,"enter",this.c0);this.wa.e(a,"aftershow",this.BZ);this.wa.e(a,"hide",this.Ho);xC(this,j)}z(wC,Pd);p=wC.prototype;p.$t=k;p.tI=k;p.jD=m;p.c0=function(a){this.jD?a.preventDefault():this.$t=a.target};p.J0=function(){xC(this)};p.BZ=function(){this.tI!=k?(this.sc.c().scrollTop=this.tI,xC(this,m)):xC(this,j)};p.Ho=function(a){a.target==this.sc&&(this.$t=k,this.tI=this.sc.c().scrollTop)};
function xC(a,b){var c=Eg(a.sc);if(a.sc.isVisible()&&c&&c!=a.$t){var d=a.sc.c(),c=cf(c.c(),d,b);d.scrollLeft=c.x;d.scrollTop=c.y;yC(a);a.$t=k}}function yC(a){a.jD=j;N(function(){this.jD=m},0,a)}p.n=function(){wC.g.n.call(this);this.wa.o();this.$t=k};

function Pq(a,b){Il.call(this,"add-contact");this.VL=a||"";this.Zp=b?b:J();this.h().e(r._aim_session_,fo,this.ph).e(Oq.j(),or,this.LQ)}z(Pq,Il);p=Pq.prototype;p.tb=k;p.oe="";p.sx="";p.Dc=k;p.Tb=k;p.ph=function(a){a.ud==bm&&this.Nl()};
p.Di=function(a){a&&a.z();var b=this.bh("add-contact-dialog","Add Contact"),c=new bn;c.Ta(Rm,m,j);c.Ta({caption:"Add",key:"add"},j);Gm(b,c);C(Hm(c,"add"),"danger");if(a){var c=a.Sa(),d=new W;d.append('<div class="addcontact"><span class="addcontact-username static" value="',X(c.cc),'">',X(c.ek),'</span><div class="addcontact-groupselector"><div class="addcontact-groups-label">Enter new or existing group:</div><div class="addcontact-groups-combo"></div></div><div class="addcontact-error"></div></div>');
c=d.toString()}else c=new W,c.append('<div class="addcontact"><div class="addcontact-username-label">Enter username, email or mobile:</div><div class="addcontact-username" placeholder="Enter a username or email address" spellcheck="false"></div><div class="addcontact-groupselector"><div class="addcontact-groups-label">Enter new or existing group:</div><div class="addcontact-groups-combo"></div></div><div class="addcontact-error"></div></div>'),c=c.toString();b.pa(c);b.L(j);a||(this.Dc=new ww,this.Dc.te.RI=
j,this.Dc.Jg=window.document.body,this.Dc.T(K("addcontact-username",this.bh().c())),this.h().e(this.Dc,"aim.ui.AimList.Change",this.Ok).e(this.Dc,Mw,this.H2).e(this.Dc.$i(),"keydown",this.bH));this.Tb&&this.Tb.o();this.oR();this.h().M(b,Im,this.vP).e(b,Im,this.iP);(a=Tc("input",h,b.c())[0])&&a.focus();a=this.Zp.va();"App"in a&&"bringToForeground"in a.App&&a.App.bringToForeground()};
p.oR=function(){this.Tb=k;var a=this.bh();if(br()){this.Tb=new sC;this.Tb.VR();this.Tb.pi("Select a group");for(var b=Oq.j().it(),c=!Ba(this.VL)?this.VL:b[0]||"Buddies",d=0;d<b.length;d++)this.Tb.Ad(new vC(b[d]));this.Tb.Ad(new Tg);b=new vC("New Group");b.eY=j;this.Tb.Ad(b);a=K("addcontact-groups-combo",a.c());this.Tb.T(a);new wC(this.Tb.ua());Tc("input",h,a)[0].setAttribute("maxLength","48");this.Tb.ga(c);this.h().e(this.Tb.c(),"keydown",function(a){27==a.keyCode&&this.Tb.ua().isVisible()&&(this.Tb.Ml(),
a.stopPropagation())},j).e(this.Tb,"action",function(a){var b=a.item;b&&b.eY&&(this.Tb.ga(""),this.Tb.Ml(),a.stopPropagation(),a.preventDefault())})}else C(a.c(),"nogroups")};
p.iP=function(a){a.preventDefault();if("add"==a.key){if(a=this.bh(),this.oe=zC(this),!Ba(this.oe)){var a=k,b=this.Tb?this.Tb.w():h;b&&(a=Oq.j().Vl()[b]);a&&!Tq(a)?(a=new Zm(this.Zp),a.zb("Error"),a.pa(By({userName:this.oe,xE:b})||""),Gm(a,Wm()),a.L(j)):Y.j().Di(this.oe,this.Tb?this.Tb.w():"Buddies",w(function(a){if(kr(a)){var a=this.bh("contact-added-dialog","Contact Added"),d=new bn;d.Ta({caption:"Send IM",key:"sendim"},j);d.Ta({caption:"Add another user",key:"addmore"});d.Ta({caption:"Close",key:"close"},
m,j);Gm(a,d);C(Hm(d,"sendim"),"danger");a.pa(Ay({v6:br()?this.oe+" has been added to the \u201c"+b+"\u201d group in your contact list.":this.oe+" has been added to your contact list."})||"");this.h().M(a,Im,this.iP).e(a,Im,this.vP);a.L(j);a.focus()}else this.tb&&(a=a.w("statusCode"),a=462==a?br()?"Hmm, either that username is invalid or the username could not be added to the specified group.  Unless they\u2019re email addresses, usernames can only contain letters, numbers, and these 3 symbols: -._<br /><br />Mobile phone numbers must begin with + and contain the correct country and area code.":
"Hmm, that doesn\u2019t look like a valid username. Unless they\u2019re email addresses, usernames can only contain letters, numbers, and these 3 symbols: -._<br /><br />Mobile phone numbers must begin with + and contain the correct country and area code.":"Dang, we couldn\u2019t add that contact. An unknown error occurred, unfortunately. If you contact AIM Help, you can mention error code "+a+".",d=K("addcontact-error",this.tb.c()),d.innerHTML=a,O(d,!Ba(a)))},this))}}else this.Nl()};
function zC(a){var b=a.sx;b||(a=a.bh(),b=K("addcontact-username",a.c()).getAttribute("value"));return AC(b)}function AC(a){var b=a.toLowerCase();ur(a)&&(a=vr(a),Ba(a)||(b=a));return b}p.vP=function(a){switch(a.key){case "sendim":a=jr(this.oe);"App"in window&&"dispatchEvent"in window.App?window.App.dispatchEvent(new dy(a)):pu.j().Tf("start_chat",a);this.Nl();break;case "addmore":a.preventDefault();this.Di();break;case "close":this.Nl()}this.oe=""};
p.bh=function(a,b){this.tb=this.tb||new Zm(this.Zp);a&&(D(zm(this.tb),"contact-added-dialog"),D(zm(this.tb),"add-contact-dialog"),$m(this.tb,a));b&&this.tb.zb(b);return this.tb};p.Nl=function(){this.tb&&(re(this.tb),this.tb.o(),this.tb=k);this.Dc&&(re(this.Dc.c()),this.Dc.o(),this.Dc=k);this.Tb&&(re(this.Tb.c()),this.Tb.o(),this.Tb=k);this.oe="";this.h().M(r._aim_session_,fo,this.ph).M(Oq.j(),or,this.LQ)};
p.Ok=function(){var a=this.Dc.w();this.sx=AC(a);if(2>a.length)BC(this,[]);else{var b=jr(a);ku(Oq.j(),a);a=[];a.push(new kq("Search results"));a.push(new Aq(b,b.z()));a.push(new Eq);BC(this,a);Be(this.QY);this.QY=N(this.T4,2E3,this)}};p.bH=function(a){9==a.keyCode&&Cw(this.Dc)};p.H2=function(a){a=a.C();this.Dc.Td(a.R());this.sx=a.z()};
p.T4=function(){var a=this.Dc.w(),b=Y.j(),c=a,a=w(this.G2,this);if(c){var d={match:"keyword="+c,nToGet:200},c=c.trim();-1<c.indexOf(" ")&&(c=c.match(/(.*) (.*)/),d={match:"firstName="+c[1]+",lastName="+c[2],nToGet:200});$(b,"memberDir","search",d,a,j)}};
p.G2=function(a){var b=[],c=this.Dc.w(),c=jr(c);b.push(new kq("Search results"));b.push(new Aq(c,c.z()));if(kr(a))for(var d=a.w("data.results.infoArray",[]),f=0;f<d.length;f++){var g=a.w("data.results.infoArray."+f+".profile.aimId");g&&g!=this.sx&&(c=jr(g),ku(Oq.j(),g),b.push(new Aq(c,c.z())))}BC(this,b)};p.LQ=function(){this.Dc.oa&&this.Dc.oa.isVisible()&&BC(this)};function BC(a,b){a.Dc.ia.qf=j;b&&a.Dc.ia.vc(b);a.Dc.oa&&a.Dc.oa.isVisible()&&(a.Dc.Jj(),sp(a.Dc.ia))};

function Sx(a){Il.call(this,"add-contact");this.r=a;this.h().e(r._aim_session_,fo,this.ph)}z(Sx,Il);p=Sx.prototype;p.tb=k;p.ph=function(a){a.ud==bm&&this.Nl()};
function Rx(a){var b=a.bh("editcontact-dialog","Edit Contact"),c=new bn;c.Ta(Rm,m,j);c.Ta({caption:"Save",key:"save"},j);Gm(b,c);C(Hm(c,"save"),"danger");var d=Iu(a.r);d||(d=a.r.we());c=a.r.w("friendly",k)||"";var f=new W;f.append('<div class="editcontact"><div class="editcontact-displayid">',X(d),'</div><label for="editcontact-name-input">Enter a name:<input class="editcontact-name" value="',X(c),'" spellcheck="false" name="editcontact-name-input" maxlength="64"/></label></div>');c=f.toString();
b.pa(c);a.h().e(b,Im,a.V_);b.L(j);K("editcontact-name",b.c()).focus();"App"in window&&"bringToForeground"in window.App&&window.App.bringToForeground()}p.V_=function(a){if("save"==a.key){var b=K("editcontact-name",this.bh().c()).value;this.r.Wh()?Ks(Y.j(),this.r.z(),b):Y.j().Di(this.r.z(),h,w(function(a){kr(a)&&Ks(Y.j(),this.r.z(),b)},this))}};p.bh=function(a,b){this.tb=this.tb||new Zm;a&&(D(zm(this.tb),"contact-added-dialog"),D(zm(this.tb),"add-contact-dialog"),$m(this.tb,a));b&&this.tb.zb(b);return this.tb};
p.Nl=function(){this.tb&&(re(this.tb),this.tb.o(),this.tb=k);this.Tb&&(re(this.Tb.c()),this.Tb.o(),this.Tb=k);this.oe=""};

function zw(){this.ZR=this.Hj=this.p5=this.SI=this.aB=this.$R=this.q5=this.TI=m;this.qM=[];this.Px="";this.RI=m;this.aS=j;this.Zo=aa()}function yw(a){a.TI=j;return a}function CC(a){a.aB=j;return a}function Lx(){var a=new zw;a.SI=j;return a}function DC(a,b){var c=[];ix(b,function(a){c.push(a.m())});a.qM=c}function xw(a){a.Zo=hr;return a};

function ir(a){ux.call(this);this.na=a;if(a=this.na.buddies)for(var b=0;b<a.length;b++){var c=a[b];c&&(c=av(c),c.aa()?this.vb=c:this.Zd(c))}}z(ir,ux);p=ir.prototype;p.vb=k;p.ZH=m;p.cv="";p.getName=function(){var a=this.na.name;Uq(this)&&(a="Recent Contacts");return a};p.qb=function(){return this.na.service};
p.lm=function(){this.Ck()&&!u(this.na.collapsed)&&(this.na.collapsed=k,Xs(Y.j(),w(function(a){this.na.collapsed=!!a.w("data.offlineGrpCollapsed")},this)));return t(this.na.collapsed)?!this.na.collapsed:j};p.Ck=function(){return!!this.na.offline};function Uq(a){return!!a.na.recent}function Tq(a){return!a.na.smart&&!Uq(a)&&!a.Ck()}p.Ul=n("vb");p.Zd=function(a){a.aa()||a.ds(this.getName());ir.g.Zd.call(this,a)};p.bv=function(a){var b=jr(a);b.aa()||b.Xu(this.getName());ir.g.bv.call(this,a)};
p.Sa=function(){return{name:this.getName(),Lx:this.lm(),iZ:Tq(this),nR:this.ZH,I4:this.cv}};function Ux(a){a.ZH=m;var b=a.getName();a.cv=b};

function Zq(a,b,c,d){this.Ub=a;this.ya=b;this.bJ=!!c;this.XF=d}Zq.prototype.getName=n("Ub");Zq.prototype.z=n("ya");

function Oq(){bv.call(this);this.Hh()}z(Oq,bv);ga(Oq);Oq.prototype.bm={};Oq.prototype.Sl=new ux;Oq.prototype.am=new ux;Oq.prototype.rf=m;ju.prototype.uy=k;p=Oq.prototype;p.ND=m;p.Ij=m;p.Fv=j;p.Ap=j;p.fP=new ir({name:"Offline",offline:j});p.CI={};p.Hh=function(){var a=r._cmd_controller_,b=r._aim_session_;this.h().e(b,fo,this.ph).e(b,"preference",this.xm).e(b,"permitDeny",this.Jh).e(b,"service",this.S2).e(a,"aim.ui.CommandController.QueryUpdate",this.FG).e(a,"aim.ui.CommandController.Action",this.vu)};
p.ph=function(a){a.ud==bm&&(this.clear(),this.Sl.clear(),this.rf=this.ND=m)};p.xm=function(a){var b=a.w("globalOTR");if(u(b)){var c=r._aim_user_;c.na.globalOffTheRecord=b;c.na.gOTR=b}b=a.w("showGroups");u(b)&&(this.Ij=!!b);b=a.w("showOfflineGrp");u(b)&&(this.Fv=!!b);a=a.w("sortBuddyList");u(a)&&(this.Ap=!!a);this.Jh()};p.S2=function(a){if(a.na.servicePromo){var b=a.na.servicePromo;this.CI[a.ub()]=b?"signup"==b.promoId&&!!b.enabled:m;this.Jh()}};function br(){return Oq.j().Ij}
p.FG=function(a){a=a.getItem();switch(a.tag){case 1122:a.enabled=r._aim_session_.Dk()&&this.Ij;a.checked=this.Fv;break;case 1123:a.enabled=r._aim_session_.Dk();a.checked=this.Ij;break;case 1124:a.enabled=r._aim_session_.Dk()&&this.Ij;a.checked=this.Ap;break;case 1041:a.checked="online"==r._aim_user_.xa(j);break;case 1042:a.checked="away"==r._aim_user_.xa(j);break;case 1044:a.checked="invisible"==r._aim_user_.xa(j)}};
p.vu=function(a){switch(a.getItem().tag){case 1122:Ys(Y.j(),"showOfflineGrp",this.Fv?"0":"1");break;case 1123:Ys(Y.j(),"showGroups",this.Ij?"0":"1");break;case 1124:Ys(Y.j(),"sortBuddyList",this.Ap?"0":"1")}};
function EC(a,b){var c=j;a.uy&&(1E3>x()-a.uy?c=m:a.uy=k);if(c){a.clear();a.bm={};a.ND||(a.ND=j,Y.j().getData(h,w(a.v0,a)));if(c=b.na.groups)for(var d=0;d<c.length;d++){var f=new ir(c[d]);a.update(f);if(f.na.imserv){var g=f.Ul();g&&(a.Zd(g),a.am.Zd(g))}a.bm[f.getName()]=f}a.am.sort(Wu);a.Jh()}}function ku(a,b,c){var d=jr(oi(b));0==d.it().length&&!d.Oy&&Cs(Y.j(),b,w(function(a){kr(a)&&(d.update(a.w("data.users.0")),this.Jh());c&&c.call(this,a)},a))}
p.clear=function(){ix(this,function(a){a.ey={}});this.bm={};this.am.clear();Oq.g.clear.call(this)};p.Vl=n("bm");p.it=function(){for(var a=[],b=Gc(this.bm),c=0;c<b.length;c++)Tq(this.bm[b[c]])&&a.push(b[c]);return a};function Tx(a,b){if(Tq(b)){var c=b.cv.replace(/^\s*/,"").replace(/\s*$/,"");Ba(c)||b.getName()==c||Is(Y.j(),b,c,function(a){462==a.w("statusCode")&&(a=new Zm,a.zb("Error"),a.pa(Cy({xE:c})||""),Gm(a,Wm()),a.L(j))});Ux(b);a.Jh()}}
p.Xu=function(a){if(Tq(a)){var b=new gn(h,Dy);this.h().e(b,Im,function(c){"no"!=c.key&&Y.j().Xu(a);b.o()});b.L(j)}};function Ou(a,b){var c=b.aa();if(!c)for(var d=b.it(),f=0;f<d.length;f++)if(!a.bm[d[f]].na.imserv){c=j;break}return c}
function Ew(a,b){var c=[],d=b||new zw;if(!d.RI){a.Ij||yw(d);d.ZR=a.Ap;if(0<jx(a.Sl)){var f=new Zq("Favorites","favorites"),g=c.length;a.Sl.sort(Xu);var i=Kc(d);i.SI=m;FC(a,c,a.Sl,i,h,h,f);c.length>g&&Ab(c,d.Zo.call(a,f),g)}!d.aB&&!d.Hj&&(f=new Zq("Group chats","groupchats",j,"groupchats"),c.push(d.Zo.call(a,f)),0<jx(a.am)&&FC(a,c,a.am,d,h,h,f));GC(a,c,d)}return c}
function GC(a,b,c){var d=new Zq("Contacts","contacts",j,"contacts"),f=b.length;c.aS||(a.CI.facebook&&b.push(new zq("facebook")),a.CI.google&&b.push(new zq("google")));if(c.TI){var g=new ux(a);ix(g,function(a){a.aa()&&g.xg(a)});g.sort(Xu);FC(a,b,g,c,h,h,d)}else HC(a,b,Fc(a.bm),c,d);b.length>f&&Ab(b,c.Zo.call(a,d),f)}
function HC(a,b,c,d,f){var g=new ux;A(c,function(a){var c=d.TI,c=c||!!a.na.imserv;c||(b.push(d.Zo.call(this,a,f)),c=new ux(a),d.ZR&&c.sort(Xu),FC(this,b,c,d,g,a,f))},a);a.Ij&&a.Fv&&(b.push(d.Zo.call(a,a.fP,f)),g.sort(Wu),FC(a,b,g,d,h,a.fP,f))}
function FC(a,b,c,d,f,g,i){ix(c,function(a){var c=d.q5;(c=(c=(c=(c=(c=(c=(c=c||d.aB&&a.aa())||d.SI&&!Ou(this,a))||d.p5&&Dq(a)&&"true"!=ai("groupchatallowanyone"))||xb(d.qM,a.m()))||d.Hj&&(wr(a)||a.cj()==xr||a.aa()||Dq(a)&&"true"!=ai("groupchatallowanyone")))||d.$R&&"mobile"!=a.xa())||!a.ez(d.Px,g?g.getName():""))||(!a.Ck()||!this.Ij||!this.Fv||!f?b.push(d.Zo.call(this,a,g,i)):f&&f.Zd(a))},a)}
p.xg=function(a,b,c,d){if(b){var b="Are you sure you want to remove "+(this.Ij?"<b>{$user}</b> from all groups?":"<b>{$user}?</b>"),b=y(b,{user:a.R()}),f=new gn(h,h,h,d),d=w(function(b){f.L(m);"yes"==b.key&&this.xg(a,m,c)},this);f.pa(b);this.h().e(f,Im,d);f.L(j)}else this.C(a.m())&&Hs(Y.j(),a.m(),c)};
p.Jk=function(a,b,c,d){d=d||fa;b?(b=new gn(h,h,h,c),b.pa(y("Are you sure you want to leave the <b>{$groupChat}</b> group chat?",{groupChat:a.R()})),this.h().e(b,Im,ua(this.i1,a,j,c||new Qc,d)),b.L(j)):Y.j().Jk(a.z(),r._aim_user_,w(this.dH,this,a,m,c||new Qc,d))};p.i1=function(a,b,c,d,f){f.target.L(m);"yes"==f.key&&Y.j().Jk(a.z(),r._aim_user_,w(this.dH,this,a,b,c,d))};
p.dH=function(a,b,c,d,f){if(802==f.w("data.results.0.resultCode",0)){var f=a.eh().Ra(),g=r._aim_user_.m();if(f=(f=tb(f,function(a){return a.m()!=g}))?f.m():k){var i=w(function(){Y.j().Jk(a.z(),r._aim_user_,w(this.dH,this,a,b,c,d))},this);Us(Y.j(),a.z(),f,i)}else b?(f=new gn("Yes, delete this group chat.",h,h,c),f.pa("Since you are the owner, leaving this group chat will DELETE it!"),this.h().e(f,Im,ua(this.H_,a,d)),f.L(j)):Rs(Y.j(),a.z(),w(function(a){d.call(h,kr(a))},this))}else d.call(h,j)};
p.H_=function(a,b,c){c.target.L(m);"yes"==c.key&&Rs(Y.j(),a.z(),w(function(a){b.call(h,kr(a))},this))};function IC(a,b){b.na.isFavorite=j;a.Sl.Zd(b);JC(a);a.Jh()}function Sq(a,b){b.na.isFavorite=m;a.Sl.xg(b);JC(a);a.Jh()}function JC(a){var b=r._aim_user_.m(),c=[];ix(a.Sl,function(a){a.aa()?c.push({user:a.m(),type:"picnic"}):c.push({user:a.m(),type:"user"})});Js(Y.j(),b,c)}
p.v0=function(a){if(kr(a)){for(var b=[],c=k,d=r._aim_user_.m(),a=a.w("data.items"),f=0;f<a.length;f++){var g=a[f].itemName;0==g.indexOf("pbu:")&&(g=="pbu:3:"+d?c=a[f]:b.push(g))}c&&c.data&&(c=Ml(c.data),gx(this.Sl,qb(c,function(a){a="user"==a.type?jr(a.user):kx(a.user);a.na.isFavorite=j;return a},this)),this.Jh());0<b.length&&(S("Found obsolete/invalid data blobs, removing them now"),Y.j().deleteData(b))}};p.Jh=function(){this.rf=j;this.dispatchEvent(or)};p.Lc=n("rf");var or="changed";

function KC(a,b){this.Co=b;this.de=[];a>this.Co&&e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.de.push(this.hk())}z(KC,Pd);p=KC.prototype;p.KL=k;p.gM=k;p.ot=function(){return this.de.length?this.de.pop():this.hk()};p.Vo=function(a){this.de.length<this.Co?this.de.push(a):this.Ol(a)};p.hk=function(){return this.KL?this.KL():{}};p.Ol=function(a){if(this.gM)this.gM(a);else if(oa(a))if(na(a.o))a.o();else for(var b in a)delete a[b]};
p.n=function(){KC.g.n.call(this);for(var a=this.de;a.length;)this.Ol(a.pop());delete this.de};

function LC(){this.Fd=[];this.BH=new Ch;this.SS=this.TS=this.US=this.sS=0;this.Nv=new Ch;this.Fl=this.RS=0;this.mG=1;this.GD=new KC(0,4E3);this.GD.hk=function(){return new MC};this.wS=new KC(0,50);this.wS.hk=function(){return new NC};var a=this;this.UE=new KC(0,2E3);this.UE.hk=function(){return""+a.mG++};this.UE.Ol=ba()}LC.prototype.Z=hj("goog.debug.Trace");function NC(){this.VJ=this.time=this.count=0}
NC.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.VJ&&a.push(" [VarAlloc = ",this.VJ,"]");return a.join("")};function MC(){}function OC(a,b,c,d){var f=[];-1==c?f.push("    "):f.push(PC(a.pM-c));f.push(" ",QC(a.pM-b));0==a.HD?f.push(" Start        "):1==a.HD?(f.push(" Done "),f.push(PC(a.w$-a.startTime)," ms ")):f.push(" Comment      ");f.push(d,a);0<a.i6&&f.push("[VarAlloc ",a.i6,"] ");return f.join("")}
MC.prototype.toString=function(){return this.type==k?this.us:"["+this.type+"] "+this.us};LC.prototype.reset=function(){for(var a=0;a<this.Fd.length;a++){var b=this.GD.id;b&&this.UE.Vo(b);this.GD.Vo(this.Fd[a])}this.Fd.length=0;this.BH.clear();this.sS=x();this.Fl=this.RS=this.SS=this.TS=this.US=0;b=this.Nv.Qe();for(a=0;a<b.length;a++){var c=this.Nv.get(b[a]);c.count=0;c.time=0;c.VJ=0;this.wS.Vo(c)}this.Nv.clear()};
LC.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.Fd.length;d++){var f=this.Fd[d];1==f.HD&&c.pop();a.push(" ",OC(f,this.sS,b,c.join("")));b=f.pM;a.push("\n");0==f.HD&&c.push("|  ")}if(0!=this.BH.Db()){var g=x();a.push(" Unstopped timers:\n");zh(this.BH,function(b){a.push("  ",b," (",g-b.startTime," ms, started at ",QC(b.startTime),")\n")})}b=this.Nv.Qe();for(d=0;d<b.length;d++)c=this.Nv.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.RS,"\n","Total comments created ",
this.Fl,"\n","Overhead start: ",this.US," ms\n","Overhead end: ",this.TS," ms\n","Overhead comment: ",this.SS," ms\n");return a.join("")};function PC(a){var a=Math.round(a),b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function QC(a){a=Math.round(a);return(""+(100+a/1E3%60)).substring(1,3)+"."+(""+(1E3+a%1E3)).substring(1,4)}new LC;


function RC(a){U("aim.net.Fetcher - constructing.");this.N=a;this.Ec=SC;this.qB=0;this.Ce=GA.j()}z(RC,xe);RC.prototype.Bx={};RC.prototype.uM=m;RC.prototype.n=function(){U("aim.net.Fetcher.disposeInternal");this.reset();delete this.N;RC.g.n.call(this)};var SC=1E4;p=RC.prototype;
p.oc=function(a){U("Init Fetcher ",a);Ur.log("Init Fetcher");this.bc&&this.reset();this.bc=new fB(w(this.vX,this));this.Mh=a;a="buddylist,conversation,permitDeny,service,myInfo,preference".split(",");t(this.Fd)&&(a=a.concat(this.Fd.split(",")));Kb(a);this.Fd=a.join(",");this.bc.pF()?S("Tried to start a fetch poll when one was already open..."):(this.Bx={},this.fr=j,this.Ec=SC,this.qB=0,this.bc.send(TC(this),this.Ec+5E3),this.N.ka(oo),Ur.log("Waiting for first events..."))};
p.reset=function(){Ur.log("Reset Fetcher");delete this.Mh;delete this.Op;delete this.fr;this.bc&&(Rd(this.bc),delete this.bc)};p.cancel=function(){Ur.log("Cancel Fetcher");delete this.fr;this.bc.reset()};p.eI=0;p.mE=n("N");function TC(a){var b=new Ih(a.Mh);Zh(b,"timeout",a.Ec);Zh(b,"f","json");t(a.Fd)&&Zh(b,"events",a.Fd);return b}
p.Y4=function(){this.bc.pF()?S("Fetcher::sendPoll called while a fetchEvents request was already open."):this.fr?(Ur.log("Waiting for events..."),this.bc.send(TC(this),this.Ec+5E3)):(Ur.log("Event polling stopped."),S("poll_ flag is off. Fetcher::sendPoll_ stopped."))};
function UC(a,b){var c=b.response,d=c.statusCode,c=c.data;200!=d&&Ur.log("Event Request statusCode: "+d);if(401==d||460==d)return S("Fetcher: received an auth error response: "+Ej(b)),S("...for URL: "+a.Mh),j;if(462==d)return S("Fetcher: received an unknown parameter response: "+Ej(b)),S("...for URL: "+a.Mh),j;if(200!=d||!u(c))return S("Fetcher got an error response: "+Ej(b)),S("...for URL: "+a.Mh),j;a.N.xa()==oo&&(a.qB=0,a.N.ka(cm));var f={},d=VC(a,c.events,f);if(("seqNumbersAreUnique"in f?f.seqNumbersAreUnique:
1)&&!a.uM)a.Bx={};f=ub(d,function(a){return a instanceof nB});if(-1!=f&&-1!=ub(d,function(a){return a instanceof lB})){var g=d[f];Db(d,f);Mj("Pre"+g.type);HA(a.Ce,g.type);a.dispatchEvent(g);JA(a.Ce,g.type);Mj("Post"+g.type)}var i=tb(d,function(a){return a instanceof xB});try{WC(a,d)}catch(l){Ur.log("Exception while dispatching presence events",l),S("FETCHEVENTS ERROR WHILE DISPATCHING PRESENCE EVENT:",l),Dj()}A(d,function(a){try{if(a!=i){var b=a.b5;b&&(this.Bx[b]=j);Mj("Pre"+a.type);HA(this.Ce,a.type);
this.dispatchEvent(a);JA(this.Ce,a.type);Mj("Post"+a.type)}}catch(c){Ur.log("Exception while dispatching event",c),S("FETCHEVENTS ERROR DISPATCHING EVENT:",a,c),Dj()}},a);if(t(i)){try{Mj("Pre"+i.type),HA(a.Ce,i.type),a.dispatchEvent(i),JA(a.Ce,i.type),Mj("Post"+i.type)}catch(q){Ur.log("Exception while dispatching end session event",q),S("FETCHEVENTS ERROR DISPATCHING END SESSION EVENT:",q),Dj()}a.fr=m;N(function(){R("Ending session from fetcher which received an end session event.");this.ka(bm)},
0,a.N);return m}a.uM=j==c.moreEventsAvailable;try{var s=c.fetchBaseURL;t(s)&&s!=a.Mh&&(a.Mh=s,a.N.nb.lI(s),U("New Fetcher URL: ",s))}catch(B){Ur.log("Exception while getting new event URL",B),S("Error occurred while getting new fetcher url...",B),Dj()}return m}function XC(a,b){var c=new Ih(a.Mh),c=c.zg+"://"+c.kf;Ur.log(b);Ur.log("Can't connect to "+c);a.N.ka(bm,{message:"Can't connect to the AIM service. Please try again later."})}
p.vX=function(a,b,c,d){HA(this.Ce,"aim.net.Fetcher->handleResponse_");var f=500,g,i,l=m;try{switch(a){case wA:if(200==b){if(delete this.Op,delete this.Fd,this.Ec=3E4,c){Q("app.jsonConsole")?Hj&&window.app.jsonConsole.log("fetchEvents",d||window.JSON.stringify(c)):U(c);var q=c.response;q&&(g=q.statusCode,i=q.statusText,l=UC(this,c),!l&&"data"in q&&"timeToNextFetch"in q.data&&(f=q.data.timeToNextFetch),l&&Ur.log("Fetcher AR from Common Response"))}}else{Ur.log("Fetcher AR from Non-200 status return: "+
b);if(this.Op){XC(this,"Got a non-200 result after a CORS failure");return}l=j}break;case 3:S("Fetcher::handleResponse_ got a timeout");if(this.Op){XC(this,"Got a timeout after a CORS failure");return}6>this.qB?(++this.qB,this.Ec=SC,f=3E3):(l=j,Ur.log("Fetcher AR from timeout"));break;case 1:S("Fetcher::handleResponse_ .currentlySending");break;case 4:S("Fetcher::handleResponse_ getError with status="+b);Ur.log("Fetcher AR from transport error: "+b);if(this.Op){XC(this,"Got an error after a CORS failure");
return}l=j;break;case 6:S("Fetcher::handleResponse_ got a json parse error with status="+b);a=m;try{S("findFetchUrlWithRegEx: "+c.invalidJson);var s=c.invalidJson.match(/"fetchBaseURL"\s*:\s*"([^"]*)"/)[1];S("recovered fetchUrl: "+s);t(s)&&s!=this.Mh&&(a=j,this.Mh=s,this.N.nb.lI(s))}catch(B){Ur.log("Exception getting new event URL via regex",B)}a||(delete this.fr,this.N.ka(200,{message:"We got bad data from host."}));break;case 8:if(!this.Op){Ur.log("CORS failed, will retry with JSONP.");this.Op=
j;break}default:Ur.log("Fetcher AR from default case: "+a),l=j}}catch(E){Ur.log("Exception while handling event response",E),S("FETCHEVENTS ERROR WHILE HANDLING COMMON RESPONSE:",E),Dj()}l?YC(this.N,m,g,i):this.fr&&N(this.Y4,f,this);JA(this.Ce,"aim.net.Fetcher->handleResponse_")};
function WC(a,b){Mj("PrePresenceWimEvents");HA(a.Ce,"user/bl/presence");var c=new bv,d={};A(b,function(a){if(a instanceof kB)c.Zd(a.C()),d.presence=j;else if(a instanceof lB){R(" Setting user list from aim.net.WimBuddylistEvent...");var b=Oq.j();EC(b,a);A(b.Ra(),function(a){c.Zd(a)});d.budylist=j}else a instanceof $v?(c.Zd(a.Ll),d.sentim=j):a instanceof yB&&(c.Zd(a.PL),d.myinfo=j)});0<jx(c)?(S(" Dispatching Presence event!"),a.dispatchEvent(new gB(c,d)),JA(a.Ce,"user/bl/presence")):IA(a.Ce,"user/bl/presence",
m);Mj("PostPresenceWimEvents")}
var ZC={presence:function(a,b){var c=tB(a);return c?new kB(c,b):k},buddylist:function(a,b){return new lB(a,b)},conversation:function(a,b){return new nB(a,b)},typing:function(a,b){return new oB(a,b)},im:function(a,b){return new vv(a,b)},dataIM:function(a,b){return new pB(a,b)},offlineIM:function(a,b){return new Zv(a,b)},sentIM:function(a,b){return new $v(a,b)},sentDataIM:function(a,b){return new dC(a,b)},rateLimit:function(a,b){return new vB(a,b)},imserv:function(a,b){return new wB(a,b)},myInfo:function(a,
b){var c=tB(a);return c?new yB(c,b):k},lifestream:function(a,b){return new aC(a,b)},sessionEnded:function(a,b){return new xB(a,b)},urlInfo:function(a,b){return new Jv(a,b)},notification:function(a,b){return new bC(a,b)},permitDeny:function(a,b){return new cC(a,b)},service:function(a,b){return new eC(a,b)},ftux:function(a,b){return new fC(a,b)},preference:function(a,b){return new gC(a,b)},clientError:function(a,b){return new mB(a,b)},userAddedToBuddyList:function(a,b){return new hC(a,b)}};
function VC(a,b,c){for(var d=[],f=b?b.length:0,g=0;g<f;g++){var i=b[g];if(!u(i)||!u(i.eventData)||!u(i.type))S("Fetcher got a malformed protoEvent in:",i);else{var l=i.eventData,q=i.type,i=i.seqNum;if(!i||!(i in a.Bx)){var s=ZC[q];s?(l=s(l,i))&&d.push(l):d.push(new jB(q,l,i))}else Ur.log("Ignoring duplicate event sequence number: "+i),c.seqNumbersAreUnique=m,U("Fetcher got a duplicate or falsy WIM Event seqNum: ",i)}}return d};

function $C(a,b,c){this.$d=a;this.Bb=b;c||(c=new Ih("//www.google.com/images/cleardot.gif"),ci(c));this.me=c}p=$C.prototype;p.Z=hj("goog.net.NetworkTester");p.JS=1E4;p.hv=m;p.AR=0;p.Pw=0;p.GH=0;p.rB=k;p.Mu=k;p.setTimeout=ca("JS");p.start=function(){this.hv&&e(Error("NetworkTester.start called when already running"));this.hv=j;this.Z.info("Starting");this.Pw=0;aD(this)};p.stop=function(){bD(this);this.hv=m};
function aD(a){a.Pw++;"onLine"in navigator&&!navigator.onLine?(a.Z.info("Browser is set to work offline."),N(w(a.Du,a,m),0)):(a.Z.info("Loading image (attempt "+a.Pw+") at "+a.me),a.uk=new Image,a.uk.onload=w(a.T0,a),a.uk.onerror=w(a.VG,a),a.uk.onabort=w(a.S0,a),a.rB=N(a.U0,a.JS,a),a.uk.src=""+a.me)}p.T0=function(){this.Z.info("Image loaded");this.Du(j)};p.VG=function(){this.Z.info("Image load error");this.Du(m)};p.S0=function(){this.Z.info("Image load aborted");this.Du(m)};
p.U0=function(){this.Z.info("Image load timed out");this.Du(m)};p.Du=function(a){bD(this);a?(this.hv=m,this.$d.call(this.Bb,j)):this.Pw<=this.AR?this.GH?this.Mu=N(this.O1,this.GH,this):aD(this):(this.hv=m,this.$d.call(this.Bb,m))};p.O1=function(){this.Mu=k;aD(this)};function bD(a){a.uk&&(a.uk.onload=k,a.uk.onerror=k,a.uk.onabort=k,a.uk=k);a.rB&&(Be(a.rB),a.rB=k);a.Mu&&(Be(a.Mu),a.Mu=k)};

function cD(){M(window,"unload",w(this.m6,this),j)}p=cD.prototype;p.oc=ca("N");p.cancel=function(){this.jl&&(this.jl.stop(),delete this.jl)};function dD(a,b){a.check(b,0,0)}p.check=function(a,b,c){U("Monitor: starting check.  retries:"+b+" pause:"+c);var d=new Ih(window.location.href);-1!=d.kf.indexOf("localhost")?d=h:(d=new Ih("/static/common/images/networkdetect.gif"),ci(d));this.GC=a;this.jl&&this.jl.stop();this.jl=new $C(this.z3,this,d);this.jl.GH=c;this.jl.AR=b;this.jl.start()};
p.z3=function(a){delete this.jl;if(this.GC){U("Monitor: check result :"+(a?"online":"offline"));var b=this.GC;delete this.GC;b.call(this.N,a)}};p.m6=function(){S("onunload got called in Monitor");this.o6=j};

function eD(){this.kb=[]}p=eD.prototype;p.tk=0;p.lp=0;p.Jx=function(a){this.kb[this.lp++]=a};p.Sp=function(){if(this.tk!=this.lp){var a=this.kb[this.tk];delete this.kb[this.tk];this.tk++;return a}};p.Db=function(){return this.lp-this.tk};p.wb=function(){return 0==this.lp-this.tk};p.clear=function(){this.lp=this.tk=this.kb.length=0};p.contains=function(a){return xb(this.kb,a)};p.remove=function(a){a=mb(this.kb,a);if(0>a)return m;a==this.tk?this.Sp():(Db(this.kb,a),this.lp--);return j};
p.dd=function(){return this.kb.slice(this.tk,this.lp)};

function fD(a,b){this.UO=a||0;this.Co=b||10;this.UO>this.Co&&e(Error(gD));this.de=new eD;this.km=new Hi;this.fD=0;this.zF=k;this.Hw()}z(fD,Pd);var gD="[goog.structs.Pool] Min can not be greater than max";p=fD.prototype;p.ot=function(){var a=x();if(!(t(this.zF)&&a-this.zF<this.fD)){for(var b;0<this.de.Db()&&!(b=this.de.Sp(),this.rG(b));)this.Hw();!b&&this.Db()<this.Co&&(b=this.hk());b&&(this.zF=a,this.km.add(b));return b}};p.Vo=function(a){return this.km.remove(a)?(this.hC(a),j):m};
p.hC=function(a){this.km.remove(a);this.rG(a)&&this.Db()<this.Co?this.de.Jx(a):this.Ol(a)};p.Hw=function(){for(var a=this.de;this.Db()<this.UO;)a.Jx(this.hk());for(;this.Db()>this.Co&&0<this.de.Db();)this.Ol(a.Sp())};p.hk=function(){return{}};p.Ol=function(a){if("function"==typeof a.o)a.o();else for(var b in a)a[b]=k};p.rG=function(a){return"function"==typeof a.AU?a.AU():j};p.contains=function(a){return this.de.contains(a)||this.km.contains(a)};p.Db=function(){return this.de.Db()+this.km.Db()};
p.wb=function(){return this.de.wb()&&this.km.wb()};p.n=function(){fD.g.n.call(this);0<this.km.Db()&&e(Error("[goog.structs.Pool] Objects not released"));delete this.km;for(var a=this.de;!a.wb();)this.Ol(a.Sp());delete this.de};

function hD(a,b){this.Vt=a;this.md=b}hD.prototype.getKey=n("Vt");hD.prototype.w=n("md");hD.prototype.Hb=function(){return new hD(this.Vt,this.md)};

function iD(a){this.nh=[];if(a)a:{var b,c;if(a instanceof iD){if(b=a.Qe(),c=a.dd(),0>=a.Db()){for(var a=this.nh,d=0;d<b.length;d++)a.push(new hD(b[d],c[d]));break a}}else b=Gc(a),c=Fc(a);for(d=0;d<b.length;d++)jD(this,b[d],c[d])}}function jD(a,b,c){var d=a.nh;d.push(new hD(b,c));b=d.length-1;a=a.nh;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}p=iD.prototype;
p.remove=function(){var a=this.nh,b=a.length,c=a[0];if(!(0>=b)){if(1==b)yb(a);else{a[0]=a.pop();for(var a=0,b=this.nh,d=b.length,f=b[a];a<d>>1;){var g=2*a+1,i=2*a+2,g=i<d&&b[i].getKey()<b[g].getKey()?i:g;if(b[g].getKey()>f.getKey())break;b[a]=b[g];a=g}b[a]=f}return c.w()}};p.dd=function(){for(var a=this.nh,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].w());return b};p.Qe=function(){for(var a=this.nh,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};
p.Kp=function(a){return rb(this.nh,function(b){return b.w()==a})};p.Dd=function(a){return rb(this.nh,function(b){return b.getKey()==a})};p.Hb=function(){return new iD(this)};p.Db=function(){return this.nh.length};p.wb=function(){return 0==this.nh.length};p.clear=function(){yb(this.nh)};

function kD(){iD.call(this)}z(kD,iD);kD.prototype.Jx=function(a,b){jD(this,a,b)};kD.prototype.Sp=function(){return this.remove()};

function lD(a,b){this.yA=new kD;fD.call(this,a,b)}z(lD,fD);p=lD.prototype;p.ot=function(a,b){if(!a){var c=lD.g.ot.call(this);c&&this.fD&&(this.bV=r.setTimeout(w(this.hy,this),this.fD));return c}this.yA.Jx(b||100,a);this.hy()};p.hy=function(){for(var a=this.yA;0<a.Db();){var b=this.ot();if(b)a.Sp().apply(this,[b]);else break}};p.hC=function(a){lD.g.hC.call(this,a);this.hy()};p.Hw=function(){lD.g.Hw.call(this);this.hy()};
p.n=function(){lD.g.n.call(this);r.clearTimeout(this.bV);this.yA.clear();this.yA=k};

function mD(a,b,c){lD.call(this,b,c);this.NE=a}z(mD,lD);mD.prototype.hk=function(){var a=new On,b=this.NE;b&&uh(b,function(b,d){a.headers.set(d,b)});return a};mD.prototype.Ol=function(a){a.o()};mD.prototype.rG=function(a){return!a.qe&&!a.isActive()};

function nD(a,b,c,d,f){this.hu=u(a)?a:1;this.He=u(f)?Math.max(0,f):0;this.Xr=new mD(b,c,d);this.ki=new Ch;this.wa=new Kf(this)}z(nD,xe);var oD="ready,complete,success,error,abort,timeout".split(",");p=nD.prototype;p.zv=function(a){this.He=Math.max(0,a)};p.send=function(a,b,c,d,f,g,i,l){this.ki.get(a)&&e(Error("[goog.net.XhrManager] ID in use"));b=new pD(b,w(this.hX,this,a),c,d,f,i,u(l)?l:this.hu);this.ki.set(a,b);this.Xr.ot(w(this.TW,this,a),g);return b};
p.abort=function(a,b){var c=this.ki.get(a);if(c){var d=c.tp;c.yK=j;b&&(this.wa.M(d,oD,c.MB),me(d,"ready",function(){this.Xr.Vo(d)},m,this),this.ki.remove(a));d&&d.abort()}};p.TW=function(a,b){var c=this.ki.get(a);c&&!c.tp?(this.wa.e(b,oD,c.MB),b.zv(this.He),c.tp=c.z$=b,this.dispatchEvent(new qD("ready",this,a,b)),rD(this,a,b),c.yK&&b.abort()):this.Xr.Vo(b)};
p.hX=function(a,b){var c=b.target;switch(b.type){case "ready":rD(this,a,c);break;case "complete":a:{var d=this.ki.get(a);if(7==c.Ac||c.ro()||d.Ow>d.hu)if(this.dispatchEvent(new qD("complete",this,a,c)),d&&(d.xL=j,d.RC)){c=d.RC.call(c,b);break a}c=k}return c;case "success":this.dispatchEvent(new qD("success",this,a,c));break;case "timeout":case "error":this.qk(a,c);break;case "abort":this.dispatchEvent(new qD("abort",this,a,c))}return k};
function rD(a,b,c){var d=a.ki.get(b);d&&!d.xL&&!(d.Ow>d.hu)?(d.Ow++,c.send(d.Zc,d.ZF,d.Yb(),d.fE())):(d&&(a.wa.M(c,oD,d.MB),a.ki.remove(b)),a.Xr.Vo(c))}p.qk=function(a,b){var c=this.ki.get(a);c.Ow>c.hu&&this.dispatchEvent(new qD("error",this,a,b))};p.n=function(){nD.g.n.call(this);this.Xr.o();this.Xr=k;this.wa.o();this.wa=k;var a=this.ki;uh(a,function(a){a.o()});a.clear();this.ki=k};function qD(a,b,c,d){L.call(this,a,b);this.id=c;this.tp=d}z(qD,L);
qD.prototype.n=function(){qD.g.n.call(this);delete this.id;this.tp=k};function pD(a,b,c,d,f,g,i){this.Zc=a;this.ZF=c||"GET";this.ib=d;this.NE=f||k;this.hu=u(i)?i:1;this.Ow=0;this.yK=this.xL=m;this.MB=b;this.RC=g;this.tp=k}z(pD,Pd);pD.prototype.Yb=n("ib");pD.prototype.fE=n("NE");pD.prototype.n=function(){pD.g.n.call(this);delete this.MB;delete this.RC};

function sD(a){this.N=a;this.eI=1;this.th={};this.Ec=35E3;this.jT=!G||I(10);this.RB=a=new nD(1,h,1,10,this.Ec);this.wa=new Kf(this);this.wa.e(this.N,fo,this.X5,j).e(a,"success",this.f4).e(a,["error","abort"],this.e4)}z(sD,Pd);p=sD.prototype;p.n=function(){Rd(this.RB);Rd(this.wa);sD.g.n.call(this)};
p.X5=function(a){switch(a.ud){case cm:tD(this,function(a){"request.Registered"==a.state&&uD(this,a)});break;case jo:tD(this,function(a){"request.Pending"==a.state&&(a.state="request.Hanging")});break;case 1100:N(this.qs,100,this)}};p.qs=function(){U("sender registry has "+Gc(this.th).length+" items.");Dc(this.th,function(a){return"request.Registered"==a.state||"request.Pending"==a.state?j:m},this)?U("...not empty"):(U("...empty"),this.N.sH())};function tD(a,b){Cc(a.th,b,a)}
p.send=function(a){var b=this.eI;this.th[b]=a;a.register(b,this.N);this.eI++;uD(this,a)};function vD(a,b){"request.Pending"!=a.state&&"request.Hanging"!=a.state&&e("*** WHAT? "+Vr(a)+" is not in the HANGING or PENDING state.  id:"+a.Jf()+" state:"+a.state);a.state="request.Complete";a.state="request.Complete";a.ns&&(a.AA=b,a.ns(b,a))}
function wD(a,b,c,d){401==b?(S("Request failed due to 401 Unauthorized",c),c.state="request.Failed",Tr(c,d),a.N.xa()==cm&&(Ur.log("Sender AR from 401"),YC(a.N,j))):"request.Hanging"==c.state?(c.state="request.Registered",uD(a,c)):"request.Pending"==c.state?(S("Sending request failed.",c),S("Error "+d.tJ+": "+d.statusText),c.state="request.Failed",Tr(c,d),a.N.dispatchEvent(new DA(b,d,c))):e("*** "+Vr(c)+" should not be failing in this state.  id:"+c.Jf()+" state:"+c.state)}
function uD(a,b){("request.Registered"!=b.state||ia(b.Jf()))&&e("*** "+Vr(b)+" is missing a request ID or not in the REGISTERED state. id:"+b.Jf()+" state:"+b.state);var c=a.N,d=c.Ua,f=b.Jf(),g=d.Me,i=c.Zl()||h,l;if(b.kT){a:{l=d.Sj;var q=l.indexOf("//");if(0<q){l=l.substr(q+2);for(var s in fs)if(0<=fs[s].indexOf(l)){l=s[0].toLowerCase();break a}}l="d"}l=d.G6+"/"+l}else l=b.m$?"":d.Sj;l=new Ih(l+"/"+Vr(b));Zh(l,"f","json");d.bO&&t(d.UK)?(Zh(l,"k",g),Zh(l,"a",d.UK)):i&&Zh(l,"aimsid",i);Zh(l,"r",f);
b.CU||Zh(l,"nocache",+new Date);b.xA&&Zh(l,"r",b.xA);for(var B in b.TQ)d=b.TQ[B],ka(d)?$h(l,B,d):u(d)&&Zh(l,B,d);if(c.xa()==cm||1100==c.xa())Ur.log("Sending "+Vr(b)),c=b.fI,"POST"==c||a.jT?(R("XHR Posting id:"+b.Jf()+" uri: "+l),a.RB.qe||a.RB.send(b.Jf(),""+l,c,b.gA,b.fE())):(R("JSONP Posting id:"+b.Jf()+" uri: "+l),c=new YA(l,"c"),c.Ec=a.Ec,c.send({},w(a.$G,a,l),w(a.ZG,a,l,b.Jf()))),b.state="request.Pending"}
p.f4=function(a){var b=a.id,c=a.tp,d=c.Yx();R("onXhrSuccess_ "+d);var f=this.th[b];if(u(f)){R("  id:"+b+" state:"+f.state);"request.Pending"!=f.state&&"request.Hanging"!=f.state&&e("*** ONRESP "+Vr(f)+" is not in the HANGING or PENDING state.  id:"+b+" state:"+f.state);a=c.Oh();try{var g=dB(a);if(Hj&&Q("app.jsonConsole")){var i=new Ih(d);window.app.jsonConsole.log("WIM",'{ "path":"'+i.uf+'","reply":'+a+',"uri":"'+d+'"}')}}catch(l){S("Could not parse response: "+a),g={response:{data:[],requestId:b,
statusCode:-1,statusText:"Invalid JSON Format"}}}a=g.response;b=a.statusCode;200==b?vD(f,a):wD(this,b,f,a);this.qs()}else S("Request id was not found in local registry",a)};
p.e4=function(a){var b=a.id,c=a.tp,d=c.Yx();R("onXhrFailed_ "+d);var f=c.lb(),g=c.Oh();0==f&&0==g.length&&(S("CORS blocked the response for "+d,c),this.jT=m);c=this.th[b];u(c)?(a=c.state,wD(this,-1,c,{response:{data:[],requestId:b,statusCode:-1,statusText:"XHR request failed to complete."}}),"request.Hanging"!=a&&(Rd(c),delete this.th[b]),this.qs()):S("Request id was not found in local registry",a)};
p.$G=function(a,b){var c=b.response,d=c.requestId;if(u(d)){var f=this.th[d];if(u(f)){S("onJsonSuccess_ id:"+d+" uri:"+a);Hj&&Q("app.jsonConsole")&&window.app.jsonConsole.log("WIM",window.JSON.stringify({path:a.uf,reply:b,uri:a.toString()}));"request.Pending"!=f.state&&"request.Hanging"!=f.state&&e("*** JSONP "+Vr(f)+" is not in the HANGING or PENDING state.  id:"+f.Jf()+" state:"+f.state);var g=c.statusCode;200==g?vD(f,c):wD(this,g,f,c);f=this.th[d];Rd(f);delete this.th[d];this.qs()}else S("Request id was not found in local registry",
b)}else S("Request id is missing from the server response",b)};p.ZG=function(a,b){var c=this.th[b];S("onJsonFailure_ id:"+b+" uri:"+a);var d=c.state;wD(this,-1,c,{requestId:b,statusCode:-1,statusText:"Failed to load script tag, probably malformed JS at that url."});"request.Hanging"!=d&&(Rd(c),delete this.th[b]);this.qs()};

function Kl(a,b,c,d){this.Ua=a;us.j().TO=(this.Ua.Sj+"/metrics").replace(/^https/,"http");this.nb=b;b.oc(this);this.tg=c;c.oc(this);this.jd=d;this.W=bm;this.Vs=new RC(this);this.AI=new sD(this);this.Ir=0;this.wa=new Kf(this);this.JH=[];this.Cy=[];this.tC=[];this.xl=k;this.wa.e(this,"permitDeny",this.R1,j).e(this,"service",this.A3,j);Hj&&Q("app.jsonConsole")&&(window.app.jsonConsole.config("clientLogin","${response.statusCode|} ${response.statusDetailCode|} - ${response.statusText|}"),window.app.jsonConsole.config("WIM",
"${path} (${reply.response.requestId}) - ${reply.response.statusText|reply.response.statusCode}"),window.app.jsonConsole.config("fetchEvents","${response.statusCode} - ${response.statusText}","events","response.data.events"),window.app.jsonConsole.config("startSession","${response.statusCode} - ${response.statusText}"),window.app.jsonConsole.config("events","${seqNum} - ${type}"),window.app.jsonConsole.configEx("events","type","presence","exPresenceEvent"),window.app.jsonConsole.configEx("events",
"type","conversation","exConversationEvent"),window.app.jsonConsole.config("exPresenceEvent"," ${eventData.aimId|eventData.displayId}"),window.app.jsonConsole.config("exConversationEvent"," ${eventData.operation}","conversation","eventData.conversations"),window.app.jsonConsole.config("conversation",'Conversation Data - "${displayId|aimId}"'),window.app.jsonConsole.open());Y.j().N=this}z(Kl,xe);p=Kl.prototype;p.n=function(){Kl.g.n.call(this);this.Vs.o();this.AI.o();this.wa.o()};
function xD(a,b){R("Session Login");a.vf&&1300!=a.W&&(R("...seems pause did not finish in time. Cleaning up."),a.tg.cancel(),a.ka(bm));a.W==bm||200==a.W||1300==a.W?a.vf?(R("...reconnecting from a pause state"),a.nx=j,delete a.vf,a.Ir=0,a.ka(jo),dD(a.tg,function(a){a?this.nb.cm():this.ka(ko)})):(a.Ir=0,delete a.yl,delete a.nx,a.ka(lo),a.nb.cm(b)):500==a.W&&a.nb.ZM(b)}
p.Yo=function(a){a?"number"!=typeof this.xl&&(this.xl=window.setTimeout(w(this.sC,this),1500)):"number"==typeof this.xl&&(window.clearTimeout(this.xl),this.xl=k)};function yD(a,b){R("Session Logout");b&&a.Yo(j);a.tC=[];a.gu||(delete a.vf,a.yl?a.ka(bm):200==a.W||a.W==ko?(a.tg.cancel(),a.ka(bm)):a.W==cm?(a.gu=j,a.PN=b,a.ka(1100),a.nD=N(a.sH,1E4,a)):a.ka(bm))}
p.pause=function(){R("Session Pause");if(this.gu||this.vf||this.W==bm||200==this.W)return R("...already trying to logout, pause, or in an offline or disconnected state."),m;this.yl?((this.W==jo||this.W==ko)&&this.tg.cancel(),R("...auto_reconnecting... so you are ready to pause now."),this.vf=j,N(function(){this.ka(bm)},0,this)):this.W==cm?(R("...pausing while in online "+this.W),this.vf=j,delete this.TD,zA(this.nb)):(R("...pausing while in state "+this.W),this.vf=j,N(function(){this.ka(bm)},0,this));
return j};p.paused=n("vf");function xA(a,b){a.ow=b.wellKnownUrls;zD(a,AD(a,"SNS"));a.nb.nI(a.ow)}function BD(a){switch(a.W){case bm:case 200:case 1300:return m;default:return a.yl===j}}function CD(a){return a.nx===j}p.sH=function(){1100==this.W&&(zA(this.nb),delete this.PN,this.nD&&(Be(this.nD),delete this.nD))};p.zj=function(a,b){R("Posting transition to "+a+" with info:"+Ej(b));this.JH.push({state:a,info:b});this.eA||(this.eA=N(this.EM,0,this))};
p.EM=function(){if(this.eA){Be(this.eA);for(delete this.eA;this.JH.length;){var a=this.JH.shift();R("Firing pending transition to "+a.state+" with info:"+Ej(a.info));this.ka(a.state,a.info)}}};
p.ka=function(a,b){R("Entering setState");this.EM();var c=this.W;U("aim.net.Session.prototype.setState newState: ",a," oldState: ",c);R("Session::setState from:"+c+" to:"+a+" info:"+Ej(b));if(this.vf&&(1100==a||1200==a))R("  in pause mode, skipping this event");else{if(this.yl){if(R("  in autoreconnect"),a==bm&&this.W==no&&401===b.statusCode){this.nb.cm();return}}else this.vf&&a==bm&&(R("  in pause mode"),a=1300);c!=a&&(this.W=a,iA(a),Mj("PreSessionSate"+a),this.dispatchEvent(new FA(0,a,b)),Mj("PostSessionSate"+
a),Ur.log("Session state changed from "+c+" to "+a),a==cm&&(Ur.log(" User name: "+this.m()),Ur.log(" API URL: "+this.Ua.Sj),Q("app.network.info")&&Ur.log("network: "+window.app.network.info.join("|"))));switch(a){case bm:case 200:case 1300:DD(this);this.gu&&this.nb.clear();this.nb.reset(!this.vf);delete this.gu;delete this.TD;delete this.yl;delete this.nx;this.Vs.reset();break;case cm:delete this.yl;delete this.nx;this.Ir=0;vs(us.j(),this.m());this.Es&&(A(this.Es,function(a){this.AI.send(a)},this),
delete this.Es);!(0<=this.Ua.vl[0].search(/:\/\/api-red/)||0<=this.Ua.vl[0].search(/:\/\/api-qh/))&&ht(Y.j(),0<=this.Ua.vl[0].search(/:\/\/staging/)?"BOSS_STAGE":k);ms(this.Ua,AD(this,"webTraceApiBase"));break;case ko:this.tg.check(this.ZP,1E4,5E3);break;case no:++this.Ir;sA(this.nb);break;case 700:if(this.yl){var c=new Ih(b,m),d=c.kf;Q("app.network.resolve")&&window.app.network.resolve(d,function(a,b){Ur.log(a+": "+b)});Q("app.network.snoop")&&(d=c.zg+"://"+d,c.Rf!=k&&(d+=":"+c.Rf),window.app.network.snoop(d+
"/aim/fetchEvents?f=json",function(a,b,c,d,q){Ur.log("URL: "+a);if(b&&c&&d&&!q){for(q=0;q<c.length;q++)Ur.log(c[q]);Ur.log(b+": "+d)}else c="",b&&(c+=b),q&&(c+=" "+window.JSON.stringify(q)),Ur.log(c)}))}this.Vs.oc(b)}}};
function yA(a,b,c){R("Session::onNetError requestName:"+b+" code:"+c);switch(b){case "clientLogin":dD(a.tg,function(a){R("got called from network check for clientLogin "+a);a?this.nb.cm(this.nb.getData()):this.ka(ko)});break;case "startSession":dD(a.tg,function(a){R("got called from network check "+a);a?this.ka(no):this.ka(ko)});break;case "endSession":a.vf&&!a.TD?(a.TD=j,a.tg.check(function(a){a?zA(this.nb):this.ka(bm)},10,1E3)):a.ka(bm)}}
p.send=function(a){this.W!=cm&&1100!=this.W?(S("Session: waiting for session to be online before sending request",a),this.Es=this.Es||[],this.Es.push(a)):this.AI.send(a)};p.ZP=function(a){this.W==ko&&(a?this.nb.cm(this.nb.getData()):this.tg.check(this.ZP,1E4,5E3))};
function YC(a,b,c,d){S("Start Auto-reconnect");Ur.log("Start Auto-reconnect");a.W9?S("...ignoring extra request to start auto-reconnect"):a.vf?S("...ignoring request to start auto-reconnect due to pause"):(a.yl=j,b&&(S("...cancelling fetcher"),a.Vs.cancel()),a.W==cm?(a.ka(jo),dD(a.tg,function(a){a?(a=this.Vs.Mh,t(a)?this.ka(700,a):this.ka(200)):this.ka(ko)})):a.W==oo&&(400<=c&&3<=a.Ir?a.ka(bm,{message:"Fetcher: "+d}):(2<=a.Ir&&a.ka(bm,{message:"Could not connect. Try again later."}),N(function(){this.cm()},
0,a.nb))))}p.m=function(){return this.nb?this.nb.tE():k};p.zt=function(){return this.Ua?this.Ua.zt():m};p.sC=function(){this.nb&&(!this.Ua.Eq||this.nb.rt())&&this.nb.kR();"number"==typeof this.xl&&(window.clearTimeout(this.xl),this.xl=k)};p.Zl=function(){return this.nb?this.nb.Zl():k};p.xa=n("W");p.Dk=function(){return this.W==cm};function AD(a,b){return a.ow&&b in a.ow?a.ow[b]:k}function zD(a,b){t(b)&&Q("app.addInternalUrl")&&(window.app.addInternalUrl(b),zb(a.Cy,b))}
function DD(a){if(Q("app.removeInternalUrl")){for(var b=a.Cy.length,c=0;c<b;c++)window.app.removeInternalUrl(a.Cy[c]);a.Cy=[]}}p.R1=function(a){Ll.j().add("model","permitDeny",a)};function cv(){return Ll.j().H("permitDeny")||k}p.A3=function(a){u(a.na.serviceConfigs)&&ED(this,a.na.serviceConfigs)};
function ED(a,b){a.pB=b;ob(a.pB||[],function(a){if(a.associated&&"notConnected"==a.connectionState&&-1==this.tC.indexOf(a.name)){var b=Y.j();$(b,"service","setConnection",{serviceName:a.name,connected:"1"},h)}this.tC.push(a.name)},a)}function dr(a){var b=r._aim_session_,c=k;ka(b.pB)&&A(b.pB,function(b){b.name==a&&(c=b)});return c}p.TE=0;

function FD(){po.call(this,h);this.ln=this.Uk=this.zp=this.fB=this.Dl=this.EC=this.Cc=this.$c=k;this.Kj=m;this.jL=this.sM=this.JK=k;this.EX=j;this.bA=m;this.Vf(2);this.Ki="me"}z(FD,aA);p=FD.prototype;p.l=function(){this.K(this.ba.createElement("div"))};
p.K=function(a){FD.g.K.call(this,a);a=this.c();a.style.height="100%";var b;b=Q("app.auth")?{clientLogin:j}:{B5:j};var c=new W;c.append('<div class=\'authentication\'><div class="content top"><div class="logo"></div></div><div class="content usernamePassword"><div class="login-error-span"><span id="authentication-error-label" class="errorLabel hidden"> </span></div><div class=\'authentication-form-centering\'>',b.clientLogin?"<span class='login-label'>Email address or username</span><br><input tabindex='1' class='authentication-username textInput' placeholder=' you@example.com' spellcheck=\"false\"></input><div><span class='login-label'>Password&nbsp;</span><a tabindex='6' href=\"http://www.aim.com/redirects/inclient/resetpassword.adp\" target=\"_blank\">(Forgotten it?)</a><br><input tabindex='2' class='authentication-password password textInput' type='password'></input></div><div><input tabindex='4' id='authentication-remember' class='authentication-remember-check' type='checkbox' checked='checked'/><label for='authentication-remember' class='authentication-remember-label'>Remember password</label></div><div style='padding-top: 3px;'><input tabindex='5' id='authentication-autolaunch' class='authentication-autolaunch-check' type='checkbox' checked='checked'/><label for='authentication-autolaunch' class='authentication-autolaunch-label'>Launch AIM on startup</label></div>":
"",b.clientLogin?"<div class=\"authentication-signin\" onmousedown=\"return false\"><button tabindex='3' class='authentication-signin-button'>Sign In</button></div>":"",b.B5?"<div class=\"authentication-signin same-width\" onmousedown=\"return false\"><div role=\"button\" tabindex='3' class='authentication-signin-button sns-login'>Retry</div><div role=\"button\" tabindex='4' class='button marketing auth-logout hidden'>Sign out of AOL</div></div>":"",b.clientLogin?'<div class="authentication-new-account"><span class="login-label">New to AIM?</span><div><button tabindex=\'7\' class=\'authentication-createaccount-button authentication-aim-fill authentication-aim marketing button\'><span class="authentication-createaccount-span authentication-aim-badge"><span>Create a new AIM account</span></span></button></div><div class=\'content\'><div class="authentication-form-centering">or <a class="authentication-facebook" tabindex=\'8\'>Log in with Facebook</a></div></div></div>':
"",'</div></div><div class="content captcha"><div class="captcha-container"><img class="captcha-image"></img><span class="captcha-info"></span><div class="captcha-input-container"><input class="captcha-input" spellcheck="false"></input></div><div class="ace"><a role="button" class="button captcha-continue">Continue</a>&nbsp;<a role="button" class="button captcha-cancel">Cancel</a></div></div></div><div class="content authProgress"><div class="authentication-progress-centering"><span class="signing-in-label">Signing in...</span><image class="spinner" src="',
X(P()),'common/images/ajax-loader_white.gif" /><div class="authentication-cancel" onmousedown="return false"><a role="button" tabindex=\'1\' class=\'authentication-cancel-button button\'>Cancel</a></div></div></div></div>');b=c.toString();a.innerHTML=b};
p.v=function(){FD.g.v.call(this);this.fB=K("authentication-signin-button",this.c());if(Q("app.auth")){this.jL=K("authentication-cancel-button",this.c());this.Uk=K("authentication-remember-check",this.c());this.Uk.checked=0!=Vl("rememberPassword");this.ln=K("authentication-autolaunch-check",this.c());this.ln.checked=window.app.autolaunch;this.h().e(this.ln,"click",this.kP);this.$c=K("authentication-username",this.c());this.$c.focus();var a=new cA;this.O(a);a.qa(this.$c);this.EC=K("captcha-continue",
this.c());this.EC.disabled=j;this.Dl=K("captcha-input",this.c());this.Cc=K("password",this.c());this.JK=K("authentication-aim",this.c());this.sM=K("authentication-facebook",this.c());this.CL=K("usernamePassword",this.c());this.AL=K("captcha",this.c());this.zL=K("authProgress",this.c())}else this.zp=K("auth-logout",this.c());GD(this,h);HD(this);this.h().e(this.fB,"click",this.yQ);Q("app.auth")?this.h().e(this.jL,"click",this.zG).e(this.$c,"input",this.T3).e(this.Dl,"input",this.c_).e(this.Cc,"input",
this.M1).e(this.Cc,"focus",this.lH).e(this.Cc,"blur",this.L1).e(this.Pe(),"key",this.yu).e(this.Uk,"click",this.xH).e(this.JK,"click",this.DZ).e(this.sM,"click",this.PG):this.zp&&this.h().e(this.zp,"click",this.KZ);Q("appWindow.signal")&&window.appWindow.signal(j)};p.$=function(){FD.g.$.call(this);this.ln&&this.h().M(this.ln,"click",this.kP)};p.show=function(){ID(this,JD);FD.g.show.call(this)};
function HD(a){a.fB&&(a.fB.disabled=!KD(a));if(a.zp){var b=window.App.ad;b.nb&&b.nb.rt()?D(a.zp,"hidden"):C(a.zp,"hidden")}}function KD(a){var b=m;if(Q("app.auth")){var b=pi(a.$c.value),c=a.Cc.value,d=a.Dl.value;if(b=a.EX&&!Ba(b)&&(c||a.Kj||d))a=(a=r._aim_session_)?a.xa():bm,b=a==bm||500==a}else b=j;return b}
function GD(a,b){if(Q("app.auth")&&a.$c&&a.Cc){var c="";a.Kj=m;var d=b;d||(d=window.App.ad.jd.get(LD));d&&(d.openAuthTokenOnly&&"displayName"in d?c=d.displayName:"userName"in d&&(c=d.userName),"auth"in d&&(a.Kj=j));a.Kj?(MD(a,h,a.hO,j),a.bA&&a.$c.focus()):MD(a,h,"",m);!c&&!b&&(c=""+(window.App.ad.jd.get(ND)||""));a.$c.value=c||""}}p.T3=function(){pi(this.$c.value);MD(this,"","",m);this.Kj=m;HD(this)};p.c_=function(){this.EC.disabled=Ca(this.Dl.value)};p.M1=function(){this.Kj=m;HD(this)};
p.lH=function(){this.bA=j;this.Kj=m;MD(this,h,"");this.dispatchEvent(OD);HD(this)};p.L1=function(){this.bA=m};p.yu=function(a){13==a.keyCode&&PD(this,j)};function QD(a,b){b=b||"Username or Password is incorrect";MD(a,"","",m);a.Cc.focus();C(a.Cc,"error");RD(a,b)}
function SD(a,b){a.EU=b.context;var c=K("captcha-info",a.c());Ad(c,b.info);K("captcha-image",a.c()).src=b.url+"?context="+a.EU;a.Dl.value="";ID(a,TD);a.h().e(K("captcha-continue",a.c()),"click",a.yQ);a.h().e(K("captcha-cancel",a.c()),"click",a.a_);a.Dl.focus()}function RD(a,b){var c=Sc("authentication-error-label");c.innerHTML=b;D(c,"hidden");F(c,"goodLabel")&&D(c,"goodLabel");ID(a,JD)}
function ID(a,b){a.G&&a.CL&&a.AL&&a.zL&&(a.CL.style.display=b==JD?"block":"none",a.AL.style.display=b==TD?"block":"none",a.zL.style.display=b==UD?"block":"none")}function VD(a){a.G&&(a.Cc&&D(a.Cc,"error"),a=Sc("authentication-error-label"),C(a,"hidden"),Ad(a,""))}
function WD(a,b,c){if(a.$c){var d=pi(a.$c.value);if(Q("app.auth")&&d){var f=Vl("auth-users");f&&Ic(Object(f),d);Wl("auth-users",f);window.App.ad.jd.get(ND)==d&&window.App.ad.jd.set(ND,"");GD(a)}}a.Cc&&(MD(a,"","",m),a.Cc.focus(),C(a.Cc,"error"));(a=Sc("authentication-error-label"))?(Ad(a,"Unhandled error "+b+":"+c),D(a,"hidden")):S("Unhandled error "+b+":"+c)}p.yQ=function(){PD(this,j)};p.KZ=function(){this.dispatchEvent(XD)};p.zG=function(){this.dispatchEvent(YD)};
p.xH=function(){Q("app.auth")&&(this.dispatchEvent(ZD),$D(this)&&MD(this,h,h,m),Wl("rememberPassword",this.Uk.checked?1:0));HD(this)};p.kP=function(){Q()&&(window.app.autolaunch=t(this.ln)&&this.ln.checked)};p.DZ=function(){this.dispatchEvent(aE)};p.PG=function(){this.dispatchEvent(bE)};p.a_=function(){RD(this,"Authentication failed")};
function PD(a,b){if(KD(a)){ID(a,UD);var c=new cE(a.$c?pi(a.$c.value):"",a.Cc?a.Cc.value:"",a.Dl?a.Dl.value:"");Q("app.auth")&&b&&$D(a)&&(MD(a,"","",m),a.Kj=m,a.h().M(a.Cc,"focus",a.lH),a.Cc.focus(),a.h().e(a.Cc,"focus",a.lH));a.dispatchEvent(c);VD(a)}}function dE(a,b,c,d){Q("app.auth")&&a.Cc&&(a.Kj=m,MD(a,c,"",m),a.$c.value=b,a.$c.focus(),HD(a),d&&KD(a)&&PD(a))}p.R=function(){var a="";this.$c&&this.$c.value&&(a=this.$c.value);return a};
function eE(a){var b="";a.$c&&a.$c.value&&(b=a.$c.value);return pi(b)}function $D(a){return t(a.Uk)&&!a.Uk.checked}function MD(a,b,c,d){a.Cc&&(u(b)&&(a.Cc.value=b),u(c)&&(a.Cc.placeholder=c),u(d)&&(a.Cc.disabled=d))}p.hO="********";var JD=1,TD=2,UD=3,bE="aim.client.ui.Auth.FacebookOpenAuth",aE="aim.client.ui.Auth.AimAccount",ZD="aim.client.ui.Auth.UserSaveChange",OD="aim.client.ui.Auth.WipePassword",YD="aim.client.ui.Auth.Cancel",XD="aim.client.ui.Auth.AuthSignout";
function cE(a,b,c){L.call(this,"aim.client.ui.Auth.SignInEvent");this.oe=a;this.m4=b;this.HU=c}z(cE,L);

function fE(){this.N=k}z(fE,oA);fE.prototype.ym=k;fE.prototype.Zq=0;fE.prototype.iw={};var LD="auth-current-userData",ND="auth-current-userName";p=fE.prototype;p.load=function(a){if(!a&&!this.N)return k;a=a||this.N.jd;a=a.get(LD);if(!a&&Q("app.auth.migratorLogin")){var b;try{b=window.app.auth.migratorLogin(document.location.hostname)}catch(c){b=window.app.auth.migratorLogin()}if("boolean"!=typeof b||b)a=ja(b)?{userName:b[0],auth:window.app.auth.save()}:{userName:b,migrate:1,password:""}}return a};
p.cy=function(){try{this.iw.auth=window.app.auth.save()}catch(a){}return this.iw};p.save=function(){var a=this.N.jd,b=this.cy();U("aim.net.authorizer.ClientLogin.prototype.save: ",b);a.set(LD,b);return b};p.oc=function(a){fE.g.oc.call(this,a);window.app.auth.setDevId(this.N.Ua.Me)};p.reset=function(a){fE.g.reset.call(this,a);delete this.Zw;a&&delete this.$e;t(this.Cm)&&(delete this.Cm.target,delete this.Cm);this.ym&&this.ym.close()};
p.cm=function(a){this.ea=a=a||{};R("clientLogin::handleAuthorize");if(t(this.$e))U("handleAuthorize with this.token_",this.$e),this.N.ka(no);else{if("auth"in a)try{U("handleAuthorize auth in data",a);window.app.auth.load(a.auth);S("clientLogin::handleAuthorize -- loaded");this.iw=a;this.$e=window.app.auth.token;S("clientLogin::handleAuthorize -- tokened");var b=this.N.jd.get("auth-hostTimeDelta"),b=!/[^0-9]/.test(b)?parseInt(b,10):0;window.app.auth.hostTimeDelta=b;S("clientLogin::handleAuthorize -- deltad");
this.N.ka(no);return}catch(c){}else if("facebook"in a){a=this.N.Ua;b="facebook"in a.mx?a.mx.facebook:k;zD(this.N,b);window.relayMessage.onreply=w(this.NV,this);a=b+"?tokenType=longTerm&devId="+Ka(a.Me)+"&cb=window.relayMessage.reply";this.ym=window.open(a,"FacebookConnect","height=610,width=1024,location=no",j);this.Zq=N(this.mL,250,this);return}U("handleAuthorize data needs userName and password: ",a);this.iw=Kc(a);Ic(this.iw,"password");b={f:"json","k{devid}":0,s:a.userName,tokenType:"longterm"};
"migrate"in a?b["pwd{pwd}"]=0:b.pwd=a.password;gE(this,b);R("Sending ClientLogin (Authorizing)");this.zj(mo)}};p.ZM=function(a){"migrate"in this.ea&&(a.migrate=1);"password"in this.ea&&!("password"in a)&&(a.password=this.ea.password);"userName"in this.ea&&!("userName"in a)&&(a.userName=this.ea.userName);this.ea=a;var b={context:this.Zw.context,f:"json","k{devid}":0,s:a.userName,word:a.word};"migrate"in a?b["pwd{pwd}"]=0:b.pwd=a.password;gE(this,b);this.zj(mo)};
p.cD=function(a){var b=a.toString(),b=b.substring(0,b.indexOf("?")),c={},d=a.Wc,a=d.Qe();a.length&&A(a,function(a){if(!(a in c)){var b=d.dd(a);c[a]=1==b.length?b[0]:b}});c["ts{ts}"]=0;c["a{token}"]=0;c["k{devid}"]=0;delete c.sig_sha256;b=window.app.auth.signUrl(b,"GET",c);R("signed url "+b);return b};p.DB=function(a){fE.g.DB.call(this,a);window.app.auth.setHostTime(a);this.N.jd.set("auth-hostTimeDelta",window.app.auth.hostTimeDelta)};
p.NV=function(a,b,c,d){window.relayMessage.onreply=k;this.Zq&&(Be(this.Zq),this.Zq=0);R("Facebook LoginId:  "+c);R("Facebook DisplayName: "+d);window.app.auth.setSigningInfo(a,b,"");this.cm({auth:window.app.auth.save(),displayName:d,openAuthTokenOnly:j,userName:c});this.ym.close();this.ym=k};p.Er=function(a){return window.app.auth.signUrl(AD(this.N,"SNS")+this.N.Ua.C5,"GET",{"a{token}":0,destUrl:a,entryType:"client2Web","k{devid}":0,"ts{ts}":0})};
p.mL=function(){this.ym&&this.ym.closed?window.relayMessage.onreply&&(this.reset(j),window.relayMessage.onreply=k,this.N.ka(bm),this.Zq=0,this.ym=k):this.Zq=N(this.mL,250,this)};function gE(a,b){t(a.Cm)&&delete a.Cm.target;a.Cm=hE(a);if("migrate"in a.ea){var c=window.app.auth.migratorLogin(ls(a.N.Ua)+"/auth/clientLogin",b,a.Cm);la(c)&&!c&&a.zj(bm)}else window.app.auth.clientLogin(ls(a.N.Ua)+"/auth/clientLogin",b,a.Cm)}
p.i_=function(a,b){delete this.Cm;Q("app.jsonConsole")&&Hj&&(window.app.jsonConsole.log("clientLogin",a),t(b)&&R("clientLogin::onClientLoginResponse_ error:"+window.JSON.stringify(b)));R("clientLogin::onClientLoginResponse_ json:'"+a+"' error:"+window.JSON.stringify(b));if(b)yA(this.N,"clientLogin",0),Ur.log("clientLogin error: "+Ki(b));else{try{R("clientLogin = "+a);var c=window.JSON.parse(a).response,d=c.statusCode,f=c.statusDetailCode}catch(g){qA(this,"Bad clientLogin response");return}200!=d&&
Ur.log("clientLogin code:"+d+" detail:"+f);switch(d){case 200:try{var i=c.data,l=i.hostTime,q=i.sessionSecret;this.$e=i.token.a}catch(s){qA(this,"Bad clientLogin data");break}window.app.auth.setSigningInfo(this.$e,q,this.ea.password,l);this.N.TE=l-Math.round(new Date/1E3);delete this.ea;delete this.Zw;this.N.ka(no);break;case 330:3015==f?(i=c.data,this.Zw=i.challenge,this.N.ka(500)):pA(this,d,f);break;default:pA(this,d,f)}}};
function hE(a){a={target:a,f:a.i_,p:function(a,c){t(this.target)?(this.f.call(this.target,a,c),delete this.target,delete this.f):R("Looks like the clientLogin callback got disconnected!")}};return w(a.p,a)};

function iE(){this.N=k}z(iE,oA);var jE={vw:"aimFetchBaseUrl",tw:"aimId",zw:"wellKnownUrls",z8:"myInfo"};p=iE.prototype;p.load=function(a){U("Loading SnsLogin Data...");for(var b=[jE.tw,jE.vw,jE.zw],c={},d=0;d<b.length;d++){var f=b[d];a.uN(f)&&(c[f]=a.get(f))}return c};p.cy=function(){return{}};p.save=function(){U("Saving SnsLogin Data...");this.N.jd.set(jE.tw,this.qc)};p.clear=function(){R("Clearing SnsLogin Data...");var a=this.N.jd,b;for(b in jE)a.wR(jE[b])};
p.lI=function(a){this.N.jd.set(jE.vw,a)};p.nI=function(a){this.N.jd.set(jE.zw,a)};
p.cm=function(a){a=a||{};if("token"in a)this.$e=a.token,t(this.qc)?kE(this):lE(this);else if(this.N.Ua.Eq){var a=this.N.Ua,b=new Ih(ls(a)+"/auth/getToken");Zh(b,"f","json");Zh(b,"attributes","loginId");Zh(b,"devId",a.Me);Zh(b,"r",mE());tA(this,b.toString(),this.D0,m);R("Requesting token (Authorizing)");this.zj(mo)}else{for(var c=document.cookie.replace(/=[^;]*(?:;|$)/g,";").replace(/\s*;\s*/g,";").split(";"),a=(new Date(0)).toGMTString(),b=c.length;b--;)document.cookie=c[b]+"=; expires="+a;c=["RSP_LOCAL",
"RSP_USER"];for(b=c.length;b--;)document.cookie=c[b]+"=; expires="+a+"; domain="+window.location.hostname+"; path=/",document.cookie=c[b]+"_"+window.location.hostname.toUpperCase()+"=; expires="+a+"; domain="+window.location.hostname+"; path=/";window.location.reload(j)}};p.ZM=ba();p.cD=function(a){Zh(a,"a",this.$e);Zh(a,"k",this.N.Ua.Me);return a.toString()};
function mE(){for(var a="",b=bi.Wc,c=b.Qe(),d=c.length;d--;){var f=c[d];-1=="luid,requestid,res,statuscode,statustext,token".split(",").indexOf(f.replace(/_.*/,""))&&(a&&(a+="&"),a+=f+"="+b.get(f))}return encodeURIComponent(a)}
p.kR=function(){var a=this.N.Ua,b;a.Eq?(b=new Ih(ls(a)+"/auth/logout"),Zh(b,"f","json"),Zh(b,"a",this.$e),Zh(b,"devId",a.Me),Zh(b,"succUrl",window.location.href)):Ul.SIGN_OUT&&(b=new Ih(Ul.SIGN_OUT),qi&&Zh(b,"siteState",ri?"client-popup":"client"));delete this.$e;b&&(window.location.href=b.toString())};
p.D0=function(a,b,c){if(a==wA){var d=c.response,a=d.statusCode,b=d.statusDetailCode,d=d.data;if(200==a){"token"in d&&(c=d.token,"a"in c&&(this.$e=c.a));t(this.$e)||qA(this,"SnsLogin GetToken did not return a token");if("userData"in d&&(c=d.userData,"attributes"in c)){c=c.attributes;if(u(c.loginId)){this.qc=c.loginId;kE(this);return}qA(this,"SnsLogin GetToken did not return a loginId")}lE(this)}else d&&t(d.redirectURL)?(S('SnsLogin::getToken redirect: json=\n"'+Ol(c)+'"'),nE(this,d.redirectURL)):pA(this,
a,b)}else qA(this,"SnsLogin GetToken Failed")};function nE(a,b){if(t(b)){var c=a.N.Ua,d=window.location.href,f=/^([^\?]+)\?/.exec(d);f&&(d=f[1]);b+="?devId="+Ka(c.Me)+"&supportedIdType=aol,aim,facebook,google,more&succUrl="+Ka(d)+"&r="+mE();a.clear();S("redirecting: "+b);window.location.href=b}}
function lE(a){var b=a.N.Ua;if(b.Eq)tA(a,ls(b)+"/auth/getInfo?f=json&devId="+Ka(b.Me)+"&a="+Ka(a.$e),a.w0,m);else{var c=j;-1==document.cookie.search(/localAuthToken=/)&&(c=document.cookie.replace(/(?:(?:^|.*;\s*)oldAimToken\s*\=\s*([^;]*).*$)|^.*$/,"$1"),b=encodeURIComponent(a.$e),c=b!=c,document.cookie="oldAimToken="+b);c?kE(a):window.location.reload(j)}}
p.w0=function(a,b,c){if(a==wA){var d=c.response,a=d.statusCode,b=d.statusDetailCode,d=d.data;200==a?(c=d.userData,this.qc=c.loginId,this.Ms=c.displayName,kE(this)):t(d.redirectURL)?(S('SnsLogin getInfo redirect: json=\n"'+Ol(c)+'"'),nE(this,d.redirectURL)):pA(this,a,b)}else qA(this,"SnsLogin GetInfo Failed")};
function kE(a){var b=a.load(a.N.jd);R(b);if(!BD(a.N)&&t(a.qc)&&t(a.$e)&&t(b[jE.tw])&&t(b[jE.vw])&&b[jE.tw]==a.qc){var c=b[jE.vw];a.Jw=Yh(new Ih(c)).get("aimsid");if(t(b[jE.zw])){var d=a.N;d.ow=b[jE.zw];zD(d,AD(d,"SNS"))}a.N.zt()?a.N.ka(700,c):a.N.ka(cm)}else a.N.zt()?a.N.ka(no):a.N.ka(cm)};

function go(a,b,c){if(Q("app.events")){var d=w(b,c);window.app.events.register(a,d);window.addEventListener("unload",function(){window.app.events.unregister(a,d)},m)}}function oE(a,b,c,d){a.setMenuCallbacks(t(b)?w(b,d):h,t(c)?w(c,d):h);window.addEventListener("unload",function(){a.setMenuCallbacks(h,h)},m)}
function pE(a,b){if(Q("app.system.registerHotKey")){S("register hotkey tag="+a+" shortcut="+b);var c=window.app.system.registerHotKey(a,b);S("registered hotkey result",c);window.addEventListener("unload",function(){window.app.system.unregisterHotKey(a)},m)}};

function qE(){cD.call(this);Q("app.network")&&window.app.network.addCheckHosts("www.aim.com");go(["network.available","network.ipaddrchange"],this.jH,this)}z(qE,cD);qE.prototype.ux=0;qE.prototype.jH=function(a,b){R("onNetworkEvent: "+a+", code: "+b);if(this.N.xa()!=cm)R("...nothing to do as we are not online: "+this.N.xa());else{switch(a){case "network.available":0==b&&rE(this);break;case "network.ipaddrchange":this.SN=j,rE(this),Q("app.network.info")&&Ur.log("network.ipaddrchange: "+window.app.network.info.join("|"))}return 1}};
function rE(a){a.ux&&(Be(a.ux),R("...extending AR timer"));a.ux=N(a.cV,1500,a)}qE.prototype.cV=function(){R("delayedAutoReconnect_");delete this.ux;if(this.SN||!window.app.network.available)Ur.log("Monitor AR from IP Address Change"),YC(this.N,j),delete this.SN};

function sE(){cD.call(this)}z(sE,cD);

function tE(){this.XC=new kn(window.document)}z(tE,nA);tE.prototype.set=function(a,b){oa(b)?b=Ol(b):ma(b)&&(b=b.toString());this.XC.set(a,b)};tE.prototype.get=function(a,b){var c=this.XC.get(a,b);c&&0==c.indexOf("{")&&(c=Ml(c));return c};tE.prototype.uN=function(a){return t(this.get(a))};tE.prototype.wR=function(a){this.XC.remove(a)};

function uE(){}z(uE,nA);uE.prototype.set=function(a,b){b&&oa(b)&&(b=Ol(b));Wl(vE(a),b)};uE.prototype.get=function(a,b){return Vl(vE(a))||b};uE.prototype.uN=function(a){return t(this.get(a))};uE.prototype.wR=function(a){Yl(vE(a))};function vE(a){if(!window||!window.location)return a;var b=new Ih(window.location);return"_aim_session-on-"+b.kf+"-"+(b.Rf||("http"==b.zg?80:443))+"-"+a};

function wE(a,b,c){Hl.call(this);this.J=k;this.jd="localStorage"in window?new uE:new tE;var b=bi.Wc,a=b.get("api"),d;(b=b.get("forceProduction"))&&(b="false"!=b.toLowerCase());!a&&!b&&(b?a="prod":(a=bi.kf.toLowerCase(),a=a.replace(/^travolta-(?!qa).*$/,"travolta-dev.aim.com"),a=a.replace(/^\d*\.\d*\.\d*\.\d*$/,"travolta-dev.aim.com"),d="http://"+a,(b=bi.Rf)&&80!=b&&(d+=":"+b)));switch(a){case "dev":case "travolta-dev.aim.com":case "localhost":a="https://api-login.tred.aol.com";b=fs.DEV;this.$q=gs.DEV;
d||(d="http://travolta-dev.aim.com");break;case "qh":case "travolta-qa.aim.com":case "travolta-qa2.aim.com":a="https://authapi.qh.aol.com";b=fs.QA;this.$q=gs.QA;d||(d="http://travolta-qa.aim.com");break;case "stage":case "travolta.aim.com":a="https://api.nina.chat";b=fs.STAGE;this.$q=gs.PROD;d||(d="http://travolta.aim.com");break;default:a="https://api.nina.chat",b=fs.PROD,this.$q=gs.PROD,d||(d="http://aim.com")}a=a.replace(/\/+$/,"");b=b.replace(/\/+$/,"");this.$q=this.$q.replace(/\/+$/,
"");d.replace(/\/+$/,"");this.Ua=new Wr(a,b,c);this.Ua.Eq=!c;0<=this.Ua.vl[0].search(/:\/\/api-red/)?this.Ua.mx=hs:0<=this.Ua.vl[0].search(/:\/\/api-qh/)&&(this.Ua.mx=is);this.tg=Q()?new qE:new sE;this.nb=Q("app.auth")?new fE:new iE;this.N=new Kl(this.Ua,this.nb,this.tg,this.jd);window.App.ad=this.N;va("_aim_session_",this.N);this.wk()}z(wE,Hl);p=wE.prototype;p.tn=k;p.wk=function(){this.h().e(this.N,fo,this.Vb)};
p.Vb=function(a){R("client.AuthController::onSessionStateChange_");var b=a.ud,a=a.RX;b>=cm||BD(this.N)||CD(this.N)?Tb(window.document.body,"notOnline","online"):Tb(window.document.body,"online","notOnline");switch(b){case bm:case 200:if(a)if($D(this.q())&&this.sT(),this.q().show(),"message"in a)RD(this.q(),a.message);else switch(a.statusCode){case 330:QD(this.q());break;case 400:1010===a.statusDetailCode||1015===a.statusDetailCode||1016===a.statusDetailCode?QD(this.q()):RD(this.q(),"Shoot, something appears to be wrong on our end. Please give us a few minutes and try again.");
break;case 401:3019==a.statusDetailCode?(a=this.$q+"/_cqr/opr/opr.psp",(b=this.nb.cy())&&"userName"in b&&(a+="?loginId="+b.userName),RD(this.q(),'Yikes! This account isn\u2019t setup to use AIM.<br>It may be de-activated or locked due to parental controls.<br>If you believe your account was de-activated, try <a href="'+a+'" target="_blank">resetting your password</a> now.')):3020==a.statusDetailCode?RD(this.q(),'Oops, it looks like you still need to respond to the confirmation email we sent you when you created your new account.  <a href="https://my.screenname.aol.com" target="_blank">Request confirmation email.</a>'):
1002==a.statusDetailCode?QD(this.q(),"Your stored password has expired. Please enter your password again to sign in."):RD(this.q(),"Hmm, something appears to be wrong on our end. Please give us a few minutes and try again.");break;case 408:RD(this.q(),"Dang, something appears to be wrong on our end. Please give us a few minutes and try again.");break;case 440:440==a.statusCode&&1003==a.statusDetailCode?RD(this.q(),"Please reenter your password."):WD(this.q(),a.statusCode,a.statusDetailCode);break;
case 452:RD(this.q(),"Sorry, this AOL account\u2019s parental controls prevent it from sending messages.");break;case 500:case 501:case 502:case 503:case 504:case 505:RD(this.q(),"Hmm, something appears to be wrong on our end. Please give us a few minutes and try again.");break;case 607:RD(this.q(),"Something funky is happening. Please give us a few minutes and try again.");break;default:WD(this.q(),a.statusCode,a.statusDetailCode)}else window.App.Dp||(Wl("prevent-autologin","true"),Q("appWindow.cloak")?
Ur.Lf()||window.appWindow.cloak(function(){window.location.reload(j)}):xE()?(Di("AIM is offline - Logging out of auth with this.auth_.reloadAndClearCookiesIfNeeded()"),this.N.sC()):Ur.Lf()||(Di("AIM is offline - NOT logging out of SNS."),window.location.reload(j)));break;case 500:SD(this.q(),this.nb.Zw);break;case no:this.jd.set(ND,this.N.m());VD(this.q());if(b=this.nb.cy())a=m,this.q()&&(a=$D(this.q())),yE(this,b,a);break;case 700:(b=(b=this.N.m())?jr(b):k)&&va("_aim_user_",b);zE(this);break;case cm:zE(this),
AE(this),this.q().Ib()}};function BE(a){a="AIM"+(a?" ("+a+")":"");window.document.title!=a&&(window.document.title=a)}function zE(a){if(r._aim_user_.m()){var b=jr(r._aim_user_.m());a.nb.R()?BE(a.nb.R()):BE(b?b.R():"")}}
p.q=function(a){!this.J&&!a&&(this.J=new FD,this.h().e(this.q(),"aim.client.ui.Auth.SignInEvent",w(this.g3,this)).e(this.q(),ZD,w(this.aT,this)).e(this.q(),OD,w(this.sT,this)).e(this.q(),aE,w(this.CZ,this)).e(this.q(),bE,w(this.PG,this)).e(this.q(),YD,w(this.zG,this)).e(this.q(),XD,w(this.LZ,this)));return this.J};function CE(a,b){return t(a.Sg)&&b&&(a.Sg.userName==b||pi(a.Sg.displayName)==b)}
p.g3=function(a){var b=a.oe,c=a.m4,d={userName:b,password:c};!c&&CE(this,b)&&(d=Kc(this.Sg));(a=a.HU)&&(d.word=a);xD(this.N,d)};p.Ps=function(){var a=this.q();a.G&&a.xH(new L("*"));200>=this.N.W||yD(this.N)};p.sT=function(){if(this.Sg){Ic(this.Sg,"auth");var a=CE(this,eE(this.J));U("wipePassword currentUser matched: ",a);this.Sg.openAuthTokenOnly&&(this.Sg={userName:""},this.jd.set(ND,""),a&&(a=this.q(),GD(a,this.Sg),HD(a)));this.aT()}};
p.aT=function(){if(this.q(j)){var a=eE(this.q());CE(this,a)?yE(this,this.Sg,$D(this.q())):yE(this,{userName:a});U("updateCachedUserData ",ND,"->",a);this.jd.set(ND,a)}};
function yE(a,b,c){U("setCurrentUserData",b);b!=a.Sg&&(a.Sg=Kc(b),U("setCurrentUserData this.cachedUserData_ changed"));var d=Kc(b);c&&Ic(d,"auth");U("storedUserData",d);a.jd.set(LD,d);b.openAuthTokenOnly&&(b=a.q(),GD(b,d),HD(b));"auth"in d&&(U("setCurrentUserData credentials stored."),a=a.q(),a.Cc&&(MD(a,"",a.Uk.checked?a.hO:"",a.Uk.checked),a.Kj=j,U("passwordStored remember checked: ",a.Uk.checked),a.bA&&a.$c.focus()))}
p.CZ=function(){var a="http://www.aim.com/redirects/inclient/register.adp";Q("app.system.openExternal")&&(a="Chromely"==window.app.info.name?"https://new.aol.com/productsweb/?promocode=825971":"https://new.aol.com/productsweb/?promocode=825970");Ci(a)};p.PG=function(){xD(this.N,{facebook:1})};p.zG=function(){this.Ps()};p.LZ=function(){this.N.sC()};p.Er=function(a){return this.nb.Er(a)};
function AE(a){if(Q("app.auth")){a=a.Er(window.location.href.replace(/(^[^:\/]+(?::\/+)?[^\/]*).*/,"$1")+"/.auth4client");R("url for sns coookies: "+a);if(0<=document.location.hostname.indexOf("localhost")){var b=r._aim_user_;document.cookie="localAuthUser="+b.m()+"||"+b.R()+"; path=/"}(b=Sc("snsCookieFrame"))?b.src=a:(b=cd("iframe",{src:a,id:"snsCookieFrame",width:"1",height:"1"}),document.body.appendChild(b),b.setAttribute("tabindex","-1"))}};

var lz={},DE={i5:function(a){var b=DE.aE();b&&b.ga(a)}};DE.setActiveChatComposeFieldContent=DE.i5;DE.pW=function(){var a="",b=DE.aE();b&&(a=b.w());return a};DE.getActiveChatComposeFieldContent=DE.pW;DE.X4=function(){var a=DE.aE();a&&a.Zh()};DE.sendEnteredTextForActiveChat=DE.X4;DE.aE=function(){var a=k,b=window.D6;b?b=b.i$():(b=window.App,b=b.ee());if(b){var c=b.Jd();c&&(a=c.q().da);!a&&b.je&&(b=b.je.q())&&(a=b.da)}return a};va("aim.chats.AutomationHooks",DE);

var EE={Ux:function(){return window.App.fb().q().Ue.Mn()}};EE.getAimListItems=EE.Ux;EE.tW=function(){return EE.Ux().length};EE.getAimListItemsCount=EE.tW;EE.sW=function(a){return EE.Ux()[a].pk()};EE.getAimListItemTitleByIndex=EE.sW;EE.rW=function(a){return EE.Ux()[a].id};EE.getAimListItemIdByIndex=EE.rW;EE.HV=function(a){window.App.fb().q().ia.scrollIntoView(a)};EE.ensureAimListItemInView=EE.HV;EE.iY=function(){return window.App.ad.xa()==cm};EE.isSessionActive=EE.iY;EE.GW=function(){return window.App.ad.m()};
EE.getSessionAimId=EE.GW;EE.UV=function(a){Ai(window.App).Tq(a)};EE.fireMenuCommand=EE.UV;EE.qW=function(){return window.App.ee().Y.fa.Q};EE.getActiveChatMenu=EE.qW;EE.HW=function(){var a=k,b=FE.j().Gj;b&&b.q()&&(b=Co(b.q()))&&(a=b.va());return a};EE.getSettingsWindow=EE.HW;va("aim.client.AutomationHooks",EE);

function GE(a){L.call(this,"aim.av.ConnectionInfoReceived");this.na=a}z(GE,L);function HE(a,b,c){L.call(this,"aim.av.RosterUpdated");this.mZ=b;this.nZ=c}z(HE,L);

function IE(a){V.call(this);this.oe=a}z(IE,V);p=IE.prototype;p.l=function(){IE.g.l.call(this);Gl(this,JE,{HB:this.oe})};p.K=function(a){IE.g.K.call(this,a)};p.v=function(){IE.g.v.call(this);var a=K("closeWindow",this.c());a&&(this.h().e(a,"click",w(this.EG,this)),a.focus());this.dispatchEvent({type:"aim.av.DialogOpened"})};p.$=function(){this.dispatchEvent({type:"aim.av.DialogClosed"});IE.g.$.call(this)};p.n=function(){IE.g.n.call(this)};p.EG=function(){this.dispatchEvent("aim.av.CloseVideoChat")};

function KE(a){V.call(this);this.oe=a}z(KE,V);p=KE.prototype;p.l=function(){KE.g.l.call(this);Gl(this,LE,{HB:this.oe})};p.K=function(a){KE.g.K.call(this,a)};p.v=function(){KE.g.v.call(this);var a=K("accept",this.c()),b=K("decline",this.c());this.h().e(a,"click",w(this.Sq,this)).e(b,"click",w(this.Wq,this));this.dispatchEvent({type:"aim.av.DialogOpened"});a.focus()};p.$=function(){this.dispatchEvent({type:"aim.av.DialogClosed"});KE.g.$.call(this)};p.n=function(){KE.g.n.call(this)};p.Sq=function(){this.dispatchEvent("aim.av.AcceptInvitation")};
p.Wq=function(){this.dispatchEvent("aim.av.DeclineInvitation")};

function ME(a){V.call(this);this.oe=a}z(ME,V);p=ME.prototype;p.l=function(){ME.g.l.call(this);Gl(this,NE,{HB:this.oe})};p.K=function(a){ME.g.K.call(this,a)};p.v=function(){ME.g.v.call(this);var a=K("tryAgain",this.c());a&&this.h().e(a,"click",w(this.E3,this));if(a=K("closeWindow",this.c()))this.h().e(a,"click",w(this.EG,this)),a.focus();this.dispatchEvent({type:"aim.av.DialogOpened"})};p.$=function(){this.dispatchEvent({type:"aim.av.DialogClosed"});ME.g.$.call(this)};p.n=function(){ME.g.n.call(this)};
p.E3=function(){R("aim.av.ui.Rejection.prototype.onTryAgain_");this.dispatchEvent("aim.av.RetryInvitation")};p.EG=function(){this.dispatchEvent("aim.av.CloseVideoChat")};

function OE(a,b){V.call(this);this.XU=a;this.dZ=b}z(OE,V);p=OE.prototype;p.l=function(){OE.g.l.call(this);Gl(this,PE,{QL:this.XU,dP:this.dZ})};p.K=function(a){OE.g.K.call(this,a)};p.v=function(){OE.g.v.call(this);var a=K("accept",this.c()),b=K("decline",this.c());this.h().e(a,"click",w(this.XZ,this)).e(b,"click",w(this.xz,this));this.dispatchEvent({type:"aim.av.DialogOpened"});a.focus()};p.$=function(){this.dispatchEvent({type:"aim.av.DialogClosed"});OE.g.$.call(this)};p.n=function(){OE.g.n.call(this)};
p.XZ=function(){this.dispatchEvent("aim.av.ConfirmNewCall")};p.xz=function(){this.dispatchEvent("aim.av.CancelNewCall")};

function QE(a){return window.location.protocol+"//"+window.location.host+"/static/2.38.0.6/"+a}va("aim.av.Paths.generateLocalResourceUrl",QE);

function RE(a,b,c,d){V.call(this);this.R4="&r="+a;this.TU="&c="+b;this.Zc=c||QE("av/av_embed.html?invite=1");xa(this.Zc,P())||(a=this.Zc.indexOf("?"),-1<a&&(b=this.Zc,this.Zc=QE("av/av_embed.html")+this.Zc.substring(a),R("info","Changed AV invite url from "+b+" to "+this.Zc)));this.VN="&isChild=0";if("true"==d||d==j||"1"==d)this.VN="&isChild=1";this.gU="&appContext="+(t(window.app)?"1":"0")}z(RE,V);RE.prototype.l=function(){RE.g.l.call(this);this.Zc+=this.R4+this.TU+this.VN+this.gU;Gl(this,SE,{url:this.Zc})};
RE.prototype.o=function(){try{var a=this.c();if(a){var b=k;a.contentWindow?b=a.contentWindow:a.contentDocument&&(b=a.contentDocument.defaultView);b&&b.dispose&&b.dispose()}}catch(c){R("Error disposing aim.av.ui.Iframe window")}N(this.O_,100,this)};RE.prototype.O_=function(){RE.g.o.call(this)};

function TE(a,b,c,d){Sf(this,b);V.call(this);this.r=a;this.Df=b||""+101010101*Math.random();this.$N=t(c);this.ic=this.uj=this.cq=this.rh=k;this.Bp=m;this.pg=k;this.Jm=UE(a,c,d);this.dr=this.Fo=k}z(TE,V);p=TE.prototype;p.l=function(){TE.g.l.call(this)};p.v=function(){TE.g.v.call(this);this.$N?VE(this,this.r):(this.Bp=j,WE(this,this.Jm))};p.n=function(){this.Ip();t(this.rh)&&this.rh.o();t(this.pg)&&this.pg.o();t(this.cq)&&this.cq.o();t(this.ic)&&this.ic.o();TE.g.n.call(this)};
p.Sq=function(a){this.Bp=j;XE(this,this.Fo||this.Jm);this.Fo=k;YE(this);this.dispatchEvent({type:a.type,acceptedUser:this.C()})};function XE(a,b){ZE(a);a.Jm=b;if(t(a.Jm)){var c=a.Jm.user,d=a.r&&c&&!a.r.Kc(c),f=a.r;a.r=c;a.$N=a.Jm.isInvite;WE(a,a.Jm);d&&a.dispatchEvent({type:"aim.av.UserChanged",user:a.C(),oldUser:f})}}function WE(a,b){va("_av_callback_",w(a.QX,a));va("_av_roster_callback_",w(a.Q4,a));a.ic=new RE("_av_roster_callback_","_av_callback_",b?b.opt_URL:k,b?b.opt_context:k);a.O(a.ic,j)}
function ZE(a){t(a.ic)&&(a.removeChild(a.ic),a.ic.o())}p.Wq=function(a){YE(this);var b=this.r;this.Fo&&this.Fo.user&&(b=this.Fo.user);this.dispatchEvent({type:a.type,declinedUser:b});this.lq()||this.Ip()};p.Tz=function(a){this.dispatchEvent(a.type)};p.um=function(){this.Ip()};p.Ip=function(){this.MU||(this.MU=j,this.dispatchEvent("aim.av.CloseVideoChat"))};p.QX=function(a){this.dispatchEvent(new GE(a))};p.Q4=function(a,b,c){this.dispatchEvent(new HE(0,b,c))};
function UE(a,b,c){return{user:a,isInvite:t(b),opt_URL:b,opt_context:c}}function VE(a,b){a.pg=new KE(b.R());a.h().e(a.pg,"aim.av.AcceptInvitation",a.Sq,m,a).e(a.pg,"aim.av.DeclineInvitation",a.Wq,m,a);a.O(a.pg,j)}function YE(a){a.h().M(a.pg,"aim.av.AcceptInvitation",a.Sq,m,a).M(a.pg,"aim.av.DeclineInvitation",a.Wq,m,a);a.removeChild(a.pg,j);a.pg.o();a.pg=k}
p.SC=function(a,b,c){if(this.dr){var d=this.dr.user;if(t(d)&&a.Kc(d))return}this.dr=UE(a,b,c);$E(this);this.uj=new OE(this.r.R(),a.R());this.h().e(this.uj,"aim.av.ConfirmNewCall",w(this.zz,this)).e(this.uj,"aim.av.CancelNewCall",this.xz,m,this);this.O(this.uj,j)};function $E(a){a.uj&&(a.h().M(a.uj,"aim.av.ConfirmNewCall",a.zz,m,a).M(a.uj,"aim.av.CancelNewCall",a.xz,m,a),a.removeChild(a.uj,j),a.uj.o(),a.uj=k)}
p.zz=function(a){this.Bp=j;$E(this);var b=this.C();XE(this,this.dr);this.dr=k;this.dispatchEvent({type:a.type,newUser:this.C(),oldUser:b})};p.xz=function(){this.dr=k;$E(this)};
p.dB=function(a){this.pg&&YE(this);this.rh&&(this.h().M(this.rh,"aim.av.RetryInvitation",this.Tz,m,this).M(this.rh,"aim.av.CloseVideoChat",this.um,m,this),this.removeChild(this.rh,j),this.rh.o(),this.rh=k);this.cq||(this.cq=new IE(a.R()),this.h().e(this.cq,"aim.av.CloseVideoChat",this.um,m,this));this.O(this.cq,j);this.Bp=m;ZE(this)};p.lq=n("Bp");p.C=function(){return this.Jm.user};

function aF(a,b,c,d){this.r=a;Il.call(this,this.nq());this.xk=d||k;this.Im=k;this.ov="aim.av.state.started";this.Bq=k;this.J=new TE(this.r,this.nq(),b,c);this.Ym={};this.Ym[this.r.m()]=t(b)?"aim.av.invitationState.pending":"aim.av.invitationState.accepted";this.mo=-1;this.Hh()}z(aF,Il);p=aF.prototype;p.SC=function(a,b,c){this.J&&this.J.SC(a,b,c)};p.zz=function(a){var b=a.oldUser;b&&bF(this,b);this.r=a.newUser};
function cF(a){a.ov="aim.av.state.declined";a.J&&(a=a.J,a.rh=new ME(a.r.R()),a.h().e(a.rh,"aim.av.RetryInvitation",a.Tz,m,a).e(a.rh,"aim.av.CloseVideoChat",a.um,m,a),a.O(a.rh,j),a.Bp=m,ZE(a))}p.dB=function(a){this.ov="aim.av.state.ended";this.J&&this.J.dB(a);delete this.Ym[a.m()]};p.n=function(){this.J.o();aF.g.n.call(this)};
p.Hh=function(){this.h().e(this.J,"aim.av.ConnectionInfoReceived",this.HG);this.h().e(this.J,"aim.av.DeclineInvitation",this.Wq);this.h().e(this.J,"aim.av.AcceptInvitation",this.Sq);this.h().e(this.J,"aim.av.RetryInvitation",this.Tz);this.h().e(this.J,"aim.av.ConfirmNewCall",this.zz);this.h().e(this.J,"aim.av.CloseVideoChat",this.um);this.h().e(this.J,"aim.av.RosterUpdated",this.y2)};p.nq=function(){return"aim-av-Controller-"+Mo(this.r.m())};p.Ip=function(){this.dispatchEvent("aim.av.CloseVideoChat")};
p.Tz=function(){R("aim.av.AVController.prototype.onRetryInvitation_");var a=this.J.c().parentElement;this.h().M(this.J,"aim.av.ConnectionInfoReceived",this.HG);this.J=new TE(this.r,this.nq());this.h().e(this.J,"aim.av.ConnectionInfoReceived",this.HG);this.J.T(a)};p.um=function(){this.Ip()};p.y2=function(a){var b=a.mZ,a=a.nZ;0<b&&(-1!=this.mo&&Be(this.mo),this.mo=-1);0==b&&0<a&&this.dB(this.r)};
function bF(a,b){S("AVController.prototype.notifyUserOfSessionEnded called");if(b&&a.Im){var c=b.m();"aim.av.invitationState.rejected"!=a.Ym[c]&&Vs(Y.j(),c,"","end",a.Im)}}p.Wq=function(a){a=a.declinedUser||this.r;S("AVController.prototype.notifyUserOfSessionDeclined called");this.xk&&"aim.av.invitationState.rejected"!=this.Ym[a.m()]&&(this.Ym[a.m()]="aim.av.invitationState.rejected",Vs(Y.j(),a.m(),"","deny",this.xk,w(this.N2,this)));this.dispatchEvent("aim.av.DeclineInvitation")};p.N2=function(a){S(a)};
p.Sq=function(){var a=this.J.C();a.Kc(this.r)||(bF(this,this.r),this.r=a);this.Ym[this.r.m()]="aim.av.invitationState.accepted";this.xk&&(Vs(Y.j(),this.r.m(),"","accept",this.xk),this.Im=this.xk,this.xk=k)};p.Y0=function(){bF(this,this.r);cF(this)};
p.HG=function(a){var b=a.na,a=this.r;this.Bq=QE("av/av_embed.html")+"?invite=0"+("&groupId="+encodeURIComponent(b.groupId)+"&p2pHost="+encodeURIComponent(b.p2pHost)+"&fmsHost="+encodeURIComponent(b.fmsHost));a.Kc(this.r)||(bF(this,this.r),this.r=a);xb(this.r.et(),"507027c0b88a11e0a4dd0800200c9a66")?(b={inviteUrl:this.Bq},this.Im=Vs(Y.j(),a.m(),Ol(b),"invite",k,w(this.P2,this))):Jl().dispatchEvent(new dF(this.r,"av",this.Bq));this.mo=N(this.Y0,54E5,this)};
p.P2=function(a){var b=a.tJ(),c=a.yS();605==b&&10==c&&this.Bq&&Jl().dispatchEvent(new dF(this.r,"av",this.Bq));S(a);this.Bq=k};p.C=n("r");p.lq=function(){return this.J?this.J.lq():m};p.q=n("J");

function eF(a,b,c,d){aF.call(this,a,b,c,d)}z(eF,aF);eF.prototype.Hh=function(){eF.g.Hh.call(this)};


function fF(){}z(fF,wg);ga(fF);fF.prototype.sd=o("menubar");fF.prototype.la=o("goog-menubar");fF.prototype.cE=function(){return zg};


function gF(a,b,c){this.YF=k;a&&b&&this.create(a,b,c)}gF.prototype.create=function(a,b,c){this.YF=new Bg(k,fF.j(),h);for(var d=0;d<a.length;d++){var f=a[d].title.replace(/&/,""),g=yi(a[d].submenu,f),f=new ph(f,g);f.ti|=255;c&&zi(c,f);this.YF.O(f,j)}a=Sc(b);a.className="menu-bar";C(a.parentNode,"show-menu");this.YF.T(Sc(b));return this};
function yi(a,b,c,d,f){var g=c||new Ug(d);A(a,function(a){if(a.separator)var c=new Tg(d);else a.submenu?yi(a.submenu,b,g):(c=new Rg(a.title.replace(/&/,""),a,d),Sf(c,a.tag),c.rv(j),a.title.replace(/&([A-Za-z])/,function(a,b){c.lz=b.toUpperCase();return a}),c.uc(a.enabled),ng(c,a.checked),c.ti|=255);c&&g.O(c,j)});if(f&&!c)g.T(f);else if(a=g.c())a.id="menuId_"+b;return g}
function hF(a,b){for(var c=a.oq(),d=0;d<c;d++){var f=a.Wl(d);if(f){var g=f.H();if(g){var i=g.title;b&&b(g);f.uc(g.enabled);ng(f,g.checked);var l=g.title.replace(/&/,"");f.ah()!=l&&(f.PA(l),g.title.replace(/&([A-Za-z])/,function(a,b){f.lz=b.toUpperCase();return a}));g.title!=i&&(g.title=i)}}}};

function iF(){fz.call(this);this.YJ=this.qT=k}z(iF,fz);
iF.prototype.wk=function(){iF.g.wk.call(this);if(window.appWindow&&window.appWindow.menu){yo(this,window.appWindow);var a=window.appWindow.menu;if(Gi){if(jF(a,kF.tag),lF(a,mF,0),lF(a,nF,1),lF(a,oF,2),lF(a,pF,3),!Ei||!Q("app.info.update.check"))(a=a.itemByIndex(3))&&a.submenu&&jF(a.submenu,4003)}else if(a.itemByTag(31008)){qF(a,rF,31E3);qF(a,sF,hz);lF(a,oF,3);var b=a.itemByIndex(4);b&&"View"==b.title&&a.deleteItemByIndex(4);qF(a,tF,-1);Q("app.dockMenu")&&(t(window.app.dockMenu.itemByTag(1220))||window.app.dockMenu.insertItemByIndex(Vz))}else lF(a,
uF,1);Q("appWindow.systemTray")&&t(window.appWindow.systemTray)&&(a=window.appWindow.systemTray,a.icon=vF("/static/2.38.0.6/desktop/images/systray_offline.ico"),jF(a,1020),jF(a,1040),jF(a,1030),jF(a,1011),a.insertItemByIndex(pz,0),a.insertItemByIndex(wF,1),a.insertItemByIndex(oz,2),a.insertItemByIndex(nz,3))}else this.YJ||(this.YJ=[xF,oF,yF]),this.qT||(this.qT=new gF(this.YJ,"MenuBar",this))};function yo(a,b){oE(b,a.Tq,a.IQ,a)}
function zi(a,b){b.h().e(b,"action",function(b){a.Tq(b.target.H())});b.h().e(b,"show",function(b){hF(b.target,w(a.IQ,a))})}function jF(a,b){a.itemByTag(b)&&a.deleteItemByTag(b)}function qF(a,b,c){if(a=a.itemByTag(b.tag))if(a=a.submenu,b=b.submenu,a)for(var d=0;d<b.length;d++){var f;b[d].tag&&(f=a.itemByTag(b[d].tag));f?f=b[d]:a.insertItemByTag(b[d],c)}}function lF(a,b,c){jF(a,b.tag);a.insertItemByIndex(b,c)}
var zF=[qz,rz,sz],wF={tag:1040,title:"&State",submenu:zF},AF=[wz,$q,ar,er,fr,mz,Jz,Tz],BF=[tz,uz,{tag:1062,title:"Start a &Video Chat"},mz,{tag:1065,title:"Add to Favorites"},{tag:1070,title:"Add to Group..."},mz,Ez,{tag:1132,title:"Clear Chat &History"},mz,{tag:1069,title:"&Edit Contact"},{tag:1068,title:"&Remove from Contacts"},yz,{tag:1066,title:"Report This Person"}];window.app&&window.app.AIMLogger&&(BF.push(mz),BF.push(Cz),BF.push(Dz));
var CF=[tz,uz,mz,{tag:1074,title:"Add to Favorites"},mz,Iz,{tag:1073,title:"View Member List"},{tag:1134,title:"Edit Group Chat &Name"},{tag:1077,title:"Edit Group Chat I&con"},mz,{tag:1072,title:"&Leave Group Chat"}];window.app&&window.app.AIMLogger&&(CF.push(mz),CF.push(Cz),CF.push(Dz));
var DF={tag:31011,title:"&Chat"},EF={tag:31012,title:"&View",submenu:[]},FF=[Iz],uF={tag:31008,title:"&AIM",submenu:[vz,xz,mz,wF,mz,Kz,mz,{tag:1075,title:"&Invite User"},mz,Jz,mz,oz,nz]},kF={tag:31008,title:"&AIM",submenu:[Lz,nz]},rF={tag:31008,title:"&AIM",submenu:[wF,mz,Kz,mz]},mF={tag:31004,title:"&File",submenu:[vz,xz,mz,wF,mz,Kz,mz,Jz,mz,oz,mz,nz]},xF={tag:31004,title:"&File",submenu:[vz,xz,mz,wF,mz,Kz,mz,Jz,mz,{tag:1030,title:"Sign &out of AOL"}]},sF={tag:31004,title:"&File",submenu:[vz,xz,
mz,oz]},nF={tag:31005,title:"&Edit",submenu:[Oz,Pz,Qz]},oF={tag:1201,title:"Con&tacts",submenu:[$q,er,fr,mz,{tag:1123,title:"Show custom groups"},{tag:1122,title:"Show offline contacts in one group"},{tag:1124,title:"Sort contacts by availability"}]},pF={tag:31007,title:"&Help",submenu:[Nz,Lz,{tag:4003,title:"Check for Updates..."},mz,Mz]},yF={tag:31007,title:"&Help",submenu:[Nz,mz,Mz]},tF={tag:31007,title:"&Help",submenu:[Nz]};

function GF(){Il.call(this,"aim.client.NotificationController");this.vg={};try{this.hJ=fv.j()}catch(a){this.hJ=k}}z(GF,Il);ga(GF);
function HF(a,b,c,d,f,g,i){if(i)if(Q()){(i=Vl("soundToPlay"))||(i="false"==Vl("playIMSound")?"0":"1");var l="";switch(i){case "1":l=P("common/sound/voom.mp3");break;case "2":l=P("common/sound/imrcv_new.mp3");break;case "3":(l=Vl("soundFile"))||(l=P("common/sound/voom.mp3"))}l&&ov(a.hJ,l)}else((i=Ll.j().get("other","preferences"))?0!==i.playIMSound:1)&&ov(a.hJ,P("common/sound/voom.mp3"));if(Q()&&"true"==(Vl("notifications")||"true"))if(c=IF(a,c,gl(d)))c.replaceId=b,f&&(c.onclick=g?function(){return f(g)}:
f),c.show(),a.vg[b]=c}
function IF(a,b,c){var d=k,f=k;if("appNotifications"in window)f=window.appNotifications;else if("webkitNotifications"in window){var f=window.webkitNotifications,g={width:200,height:80,gap:1,displayMS:5E3,backgroundImage:vF("/static/2.38.0.6/desktop/images/notification_background.png"),backgroundFillRed:200,backgroundFillGreen:200,backgroundFillBlue:200,borderColorRed:128,borderColorGreen:128,borderColorBlue:128};a.lZ||(a.lZ=j,Q("app.notifications")?window.app.notifications.setOptions(g):Q("app.setNotificationOptions")&&
window.app.setNotificationOptions(g))}if(f)try{d=f.createNotification("",b,c)}catch(i){S("Notification Error",i)}return d};

var Mw="chooser.Chosen";function Bw(a){L.call(this,Mw);this.r=a}z(Bw,L);Bw.prototype.C=n("r");

function JF(){V.call(this);this.df="";var a=new ww;CC(a.te).Hj=j;this.Jb=new Jw("Add",a);this.Sc=k}z(JF,V);p=JF.prototype;p.rd=function(){this.Jb.Na.rd()};p.l=function(){this.K(this.ba.createElement("div"));var a=K("inviteuser-username",this.c());ia(a)||(this.rn=a,this.rn==k&&delete this.rn,this.O(this.Jb,j));a=K("inviteuser-resulttext",this.c());O(a,m)};
p.K=function(a){JF.g.K.call(this,a);C(a,"inviteuser-root");var b;b=new W;b.append('<div class="inviteuser "><\!-- <input class="inviteuser-username" placeholder=\'Add a user...\'/> --\><div class="row clearfix"><div class="inviteuser-username"></div><div class="inviteuser-buttons"><\!-- <a role="button" class="button inviteuser-invite">Invite</a> --\><a href="#" role="button" class="button inviteuser-close">Close</a></div></div><div class="inviteuser-resulttext"></div></div>');b=b.toString();a.innerHTML=
b};p.n=function(){JF.g.n.call(this);this.Jb.o()};p.v=function(){JF.g.v.call(this);if(G&&!I(10)){var a=new bu;this.O(a);a.qa(K("inviteuser-username",this.c()))}this.h().e(K("inviteuser-close",this.c()),"click",this.ke).e(this.Jb,"aim.chooser.ui.MultiChooserBox.SUBMIT",this.VP);this.rd()};p.$=function(){JF.g.$.call(this);this.h().M(K("inviteuser-close",this.c()),"click",this.ke).M(this.Jb,"aim.chooser.ui.MultiChooserBox.SUBMIT",this.VP)};p.show=function(a){this.G||Wf(this,a)};
function KF(a){if(a.G){var b=K("inviteuser-resulttext",a.c());b.innerHTML="The invites were sent.";O(b,j);Pe(b,"opacity",1)}setTimeout(w(function(){if(b){var a=new Zp(b,300);Mf(this.h(),a,"end",function(){b&&O(b,m)});a.play()}},a),2E3)}p.VP=function(a){a=a.Ra();A(a,function(a){this.dispatchEvent(new LF(a.m()))},this)};p.ke=function(){this.dispatchEvent(new MF)};function LF(a){L.call(this,"aim.picnics.ui.InviteUser.InviteUserEvent");this.df=a||""}z(LF,L);LF.prototype.m=n("df");
function MF(){L.call(this,"aim.picnics.ui.InviteUser.CloseEvent")}z(MF,L);function NF(a,b){DC(a.Jb.Na.te,b)}function OF(a,b){a.Jb.Na.Jg=b};

function PF(a,b){Il.call(this,"aim-picnics-invitecontroller-"+Math.random());this.vb=a;this.Da=b;this.ie=k}z(PF,Il);PF.prototype.oc=function(){this.eh()};function QF(a,b){var c=RF(a);c.G||(b.O(c,j),c.show(a.Da.c()),a.eh());return c}function SF(a,b){a.ie&&(b.removeChild(a.ie,j),a.ie.o(),a.ie=k)}function RF(a){a.ie||(a.ie=new JF);return a.ie}PF.prototype.eh=function(){Ms(Y.j(),this.vb.z(),w(this.zu,this))};
PF.prototype.zu=function(a){var b=[],a=a.w("data.members",[]);A(a,function(a){var d=jr(a.member);"invite"!=a.memberType&&b.push(d)});this.ie&&NF(this.ie,new bv(b))};

function TF(){}z(TF,Yg);ga(TF);TF.prototype.createCaption=function(a,b){return TF.g.createCaption.call(this,UF(a,b),b)};function UF(a,b){return b.l("div","goog-color-menu-button-indicator",a)}TF.prototype.ga=function(a,b){a&&VF(this.sa(a),b)};function VF(a,b){if(a&&a.firstChild){var c;try{c=Pp(b).py}catch(d){c=k}a.firstChild.style.borderBottomColor=c||(G?"":"transparent")}}TF.prototype.ij=function(a){this.ga(a.c(),a.w());C(a.c(),"goog-color-menu-button");TF.g.ij.call(this,a)};

function WF(){}z(WF,bg);ga(WF);var XF=0;p=WF.prototype;p.l=function(a){var b=this.Hf(a);return a.D().l("div",b?b.join(" "):k,YF(this,a.Yb(),a.Rn(),a.D()))};function YF(a,b,c,d){for(var f=[],g=0,i=0;g<c.height;g++){for(var l=[],q=0;q<c.width;q++){var s=b&&b[i++];l.push(a.qx(s,d))}f.push(d.l("tr",a.la()+"-row",l))}return a.LL(f,d)}p.LL=function(a,b){var c=b.l("table",this.la()+"-table",b.l("tbody",this.la()+"-body",a));c.cellSpacing=0;c.cellPadding=0;Ce(c,"grid");return c};
p.qx=function(a,b){var c=b.l("td",{"class":this.la()+"-cell",id:this.la()+"-cell-"+XF++},a);Ce(c,"gridcell");return c};p.ae=o(m);p.qa=o(k);
p.pa=function(a,b){if(a){var c=Tc("tbody",this.la()+"-body",a)[0];if(c){var d=0;A(c.rows,function(a){A(a.cells,function(a){kd(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],g=J(a),i=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(this.qx(l,g));f.length==i&&(l=g.l("tr",this.la()+"-row",f),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<i;)f.push(this.qx("",g));l=g.l("tr",this.la()+"-row",f);c.appendChild(l)}}}qf(a,j,H)}};
p.gt=function(a,b){for(var c=a.c();b&&1==b.nodeType&&b!=c;){if("TD"==b.tagName&&F(b,this.la()+"-cell"))return b.firstChild;b=b.parentNode}return k};function ZF(a,b,c,d){c&&(c=c.parentNode,Ub(c,a.la()+"-cell-hover",d),De(b.c().firstChild,"activedescendent",c.id))}p.la=o("goog-palette");

function $F(a){this.Te=[];aG(this,a)}z($F,xe);p=$F.prototype;p.Sb=k;p.xI=k;p.oq=function(){return this.Te.length};p.Wl=function(a){return this.Te[a]||k};function aG(a,b){b&&(A(b,function(a){this.qr(a,m)},a),Ib(a.Te,b))}p.Ad=function(a){this.hn(a,this.oq())};p.hn=function(a,b){a&&(this.qr(a,m),Ab(this.Te,a,b))};p.removeItem=function(a){a&&Cb(this.Te,a)&&a==this.Sb&&(this.Sb=k,this.dispatchEvent("select"))};p.of=n("Sb");p.Ye=function(a){a!=this.Sb&&(this.qr(this.Sb,m),this.Sb=a,this.qr(a,j));this.dispatchEvent("select")};
p.Pn=function(){return this.Sb?mb(this.Te,this.Sb):-1};p.Bg=function(a){this.Ye(this.Wl(a))};p.clear=function(){yb(this.Te);this.Sb=k};p.n=function(){$F.g.n.call(this);delete this.Te;this.Sb=k};p.qr=function(a,b){a&&("function"==typeof this.xI?this.xI(a,b):"function"==typeof a.ri&&a.ri(b))};

function bG(a,b,c){jg.call(this,a,b||WF.j(),c)}z(bG,jg);p=bG.prototype;p.wd=k;p.fd=-1;p.Qa=k;p.n=function(){bG.g.n.call(this);this.Qa&&(this.Qa.o(),this.Qa=k);this.wd=k};p.Km=function(a){bG.g.Km.call(this,a);cG(this);this.Qa?(this.Qa.clear(),aG(this.Qa,a)):(this.Qa=new $F(a),this.Qa.xI=w(this.qr,this),this.h().e(this.Qa,"select",this.iy));this.fd=-1};p.ah=o(k);p.PA=ba();
p.em=function(a){bG.g.em.call(this,a);var b=this.ta.gt(this,a.target);if((!b||!a.relatedTarget||!ud(b,a.relatedTarget))&&b!=this.jt())a=this.Yb(),this.gd(a?mb(a,b):-1)};p.wt=function(a){bG.g.wt.call(this,a);var b=this.ta.gt(this,a.target);(!b||!a.relatedTarget||!ud(b,a.relatedTarget))&&b==this.jt()&&ZF(this.ta,this,b,m)};p.mg=function(a){bG.g.mg.call(this,a);if(this.isActive()&&(a=this.ta.gt(this,a.target),a!=this.jt())){var b=this.Yb();this.gd(b?mb(b,a):-1)}};
p.ii=function(){var a=this.jt();return a?(this.Ye(a),this.dispatchEvent("action")):m};
p.Kf=function(a){var b=this.Yb(),b=b?b.length:0,c=this.wd.width;if(0==b||!this.isEnabled())return m;if(13==a.keyCode||32==a.keyCode)return this.ii(a);if(36==a.keyCode)return this.gd(0),j;if(35==a.keyCode)return this.gd(b-1),j;var d=0>this.fd?this.Pn():this.fd;switch(a.keyCode){case 37:-1==d&&(d=b);if(0<d)return this.gd(d-1),a.preventDefault(),j;break;case 39:if(d<b-1)return this.gd(d+1),a.preventDefault(),j;break;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.gd(d-c),a.preventDefault(),j;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.gd(d+c),a.preventDefault(),j}return m};p.iy=ba();p.Rn=n("wd");p.Cg=function(a,b){this.c()&&e(Error("Component already rendered"));this.wd=ma(a)?new Bc(a,b):a;cG(this)};p.jt=function(){var a=this.Yb();return a&&a[this.fd]};p.gd=function(a){a!=this.fd&&(dG(this,this.fd,m),this.fd=a,dG(this,a,j))};p.Pn=function(){return this.Qa?this.Qa.Pn():-1};p.of=function(){return this.Qa?this.Qa.of():k};p.Bg=function(a){this.Qa&&this.Qa.Bg(a)};p.Ye=function(a){this.Qa&&this.Qa.Ye(a)};
function dG(a,b,c){if(a.c()){var d=a.Yb();d&&0<=b&&b<d.length&&ZF(a.ta,a,d[b],c)}}p.qr=function(a,b){this.c()&&a&&Ub(a.parentNode,this.ta.la()+"-cell-selected",b)};function cG(a){var b=a.Yb();if(b)if(a.wd&&a.wd.width){if(b=Math.ceil(b.length/a.wd.width),!ma(a.wd.height)||a.wd.height<b)a.wd.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.wd=new Bc(b,b);else a.wd=new Bc(0,0)};

function eG(a,b,c){this.lx=a||[];bG.call(this,k,b||WF.j(),c);this.lx=this.lx;this.qz=k;this.pa(fG(this))}z(eG,bG);eG.prototype.qz=k;eG.prototype.oE=function(){var a=this.of();return a?(a=a.style[hb("background-color")]||"",gG(a)):k};eG.prototype.Mm=function(a){a=gG(a);this.qz||(this.qz=qb(this.lx,function(a){return gG(a)}));this.Bg(a?mb(this.qz,a):-1)};
function fG(a){return qb(a.lx,function(a){var c=this.D().l("div",{"class":this.ta.la()+"-colorswatch",style:"background-color:"+a});"#"==a.charAt(0)&&(a=Rp(a),a="RGB ("+[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)].join(", ")+")");c.title=a;return c},a)}function gG(a){if(a)try{return Pp(a).py}catch(b){}return k};

function hG(a,b,c,d){ph.call(this,a,b,c||TF.j(),d)}z(hG,ph);var iG={Q7:"#000,#444,#666,#999,#ccc,#eee,#f3f3f3,#fff".split(","),q9:"#f00,#f90,#ff0,#0f0,#0ff,#00f,#90f,#f0f".split(","),R8:"#f4cccc,#fce5cd,#fff2cc,#d9ead3,#d0e0e3,#cfe2f3,#d9d2e9,#ead1dc,#ea9999,#f9cb9c,#ffe599,#b6d7a8,#a2c4c9,#9fc5e8,#b4a7d6,#d5a6bd,#e06666,#f6b26b,#ffd966,#93c47d,#76a5af,#6fa8dc,#8e7cc3,#c27ba0,#cc0000,#e69138,#f1c232,#6aa84f,#45818e,#3d85c6,#674ea7,#a64d79,#990000,#b45f06,#bf9000,#38761d,#134f5c,#0b5394,#351c75,#741b47,#660000,#783f04,#7f6000,#274e13,#0c343d,#073763,#20124d,#4c1130".split(",")};
function jG(a){var b=new Ug(a);Cc(iG,function(c){c=new eG(c,k,a);c.Cg(8);b.O(c,j)});return b}p=hG.prototype;p.oE=function(){return this.w()};p.Mm=function(a){this.ga(a)};p.ga=function(a){for(var b=0,c;c=this.Wl(b);b++)"function"==typeof c.Mm&&c.Mm(a);hG.g.ga.call(this,a)};p.vt=function(a){"function"==typeof a.target.oE?this.ga(a.target.oE()):"none"==a.target.w()&&this.ga(k);hG.g.vt.call(this,a);a.stopPropagation();this.dispatchEvent("action")};
p.mb=function(a,b){a&&0==this.oq()&&(this.dl(jG(this.D())),this.ga(this.w()));hG.g.mb.call(this,a,b)};gg("goog-color-menu-button",function(){return new hG(k)});

function kG(){}z(kG,Yg);ga(kG);kG.prototype.la=o("goog-toolbar-menu-button");

function lG(){}z(lG,kG);ga(lG);lG.prototype.createCaption=function(a,b){return $g(UF(a,b),this.la(),b)};lG.prototype.ga=function(a,b){a&&VF(this.sa(a),b)};lG.prototype.ij=function(a){this.ga(a.c(),a.w());C(a.c(),"goog-toolbar-color-menu-button");lG.g.ij.call(this,a)};

function mG(a,b,c,d){hG.call(this,a,b,c||lG.j(),d)}z(mG,hG);gg("goog-toolbar-color-menu-button",function(){return new mG(k)});

function nG(a,b,c,d){mG.call(this,a,b,c,d);og(this,64,j)}var oG;z(nG,mG);p=nG.prototype;p.n=function(){nG.g.n.call(this);oG==this&&(oG=k)};p.Tu=function(){if(this.Q&&this.Q.G){var a=this.c(),b=a.getBoundingClientRect(),a=J(a).Ia().body,c=this.Q.c();this.Q.isVisible()||(c.style.visibility="hidden",O(c,j));c.style.bottom=a.scrollHeight-b.top+"px";c.style.right=a.scrollWidth-b.right+"px";this.Q.isVisible()||(O(c,m),c.style.visibility="visible")}};
p.SY=function(a){a.stopPropagation();var b;if(a.target&&(b=a.target.getAttribute("x-hexColor")))this.Mm(b),this.dispatchEvent("action");this.mb(m)};p.mg=function(a){nG.g.mg.call(this,a);this.Q.isVisible()&&(a.stopPropagation(),a=J(this.c()),Mf(this.h(),a.Ia(),"mousedown",this.SY))};p.v=function(){nG.g.v.call(this);this.Q=new Ug(this.ba);try{this.Q.qa(this.ba.c("colorMenu"))}catch(a){}Ug.g.L.call(this.Q,m,j);Vg(this.Q,m);this.Q.le(m)};
p.mb=function(a){a?this.Q&&(oG&&oG!=this&&oG.mb(m),oG=this,this.Q.G||this.Q.T(),this.Zm=$e(this.c()),this.Bl=lf(this.c()),this.Tu()):(this.h().Rd(),this.setActive(m),this.Q&&(this.Q.ci=m));this.Q&&this.Q.L(a,m);this.ka(64,a)};


function pG(a,b,c){Rg.call(this,a,b,c);this.LI(j)}z(pG,Rg);pG.prototype.ii=function(){return this.dispatchEvent("action")};gg("goog-option",function(){return new pG(k)});

function qG(){}z(qG,ug);ga(qG);qG.prototype.l=function(a){return a.D().l("div",this.la()+" goog-inline-block","\u00a0")};qG.prototype.qa=function(a,b){b=qG.g.qa.call(this,a,b);C(b,"goog-inline-block");return b};qG.prototype.la=o("goog-toolbar-separator");

function rG(){}z(rG,wg);ga(rG);rG.prototype.sd=o("toolbar");rG.prototype.ht=function(a){return"HR"==a.tagName?new vg(qG.j()):rG.g.ht.call(this,a)};rG.prototype.la=o("goog-toolbar");rG.prototype.cE=function(){return zg};

function sG(a,b,c){Bg.call(this,b,a||rG.j(),c)}z(sG,Bg);

function tG(){}z(tG,Wg);ga(tG);tG.prototype.la=o("goog-toolbar-button");

function uG(a,b,c){tg.call(this,a,b||tG.j(),c)}z(uG,tg);gg("goog-toolbar-button",function(){return new uG(k)});

function vG(a,b,c,d){ph.call(this,a,b,c||kG.j(),d)}z(vG,ph);gg("goog-toolbar-menu-button",function(){return new vG(k)});

function wG(a,b,c,d){ph.call(this,a,b,c,d);xG(this,a);this.jA="listbox"}z(wG,ph);p=wG.prototype;p.Qa=k;p.dD=k;p.v=function(){wG.g.v.call(this);yG(this);zG(this);De(this.c(),"haspopup","false")};p.K=function(a){wG.g.K.call(this,a);(a=this.ah())?xG(this,a):this.Bg(0)};p.n=function(){wG.g.n.call(this);this.Qa&&(this.Qa.o(),this.Qa=k);this.dD=k};p.vt=function(a){this.Ye(a.target);wG.g.vt.call(this,a);a.stopPropagation();this.dispatchEvent("action")};
p.iy=function(){var a=this.of();wG.g.ga.call(this,a&&a.w());yG(this)};p.dl=function(a){var b=wG.g.dl.call(this,a);a!=b&&(this.Qa&&this.Qa.clear(),a&&(this.Qa?Xf(a,function(a){AG(a);this.Qa.Ad(a)},this):BG(this,a)));return b};function xG(a,b){a.dD=b;yG(a)}p.Ad=function(a){AG(a);wG.g.Ad.call(this,a);this.Qa?this.Qa.Ad(a):BG(this,this.ua())};p.hn=function(a,b){AG(a);wG.g.hn.call(this,a,b);this.Qa?this.Qa.hn(a,b):BG(this,this.ua())};p.removeItem=function(a){wG.g.removeItem.call(this,a);this.Qa&&this.Qa.removeItem(a)};
p.Ye=function(a){if(this.Qa){var b=this.of();this.Qa.Ye(a);a!=b&&this.dispatchEvent("change")}};p.Bg=function(a){this.Qa&&this.Ye(this.Qa.Wl(a))};p.ga=function(a){if(t(a)&&this.Qa)for(var b=0,c;c=this.Qa.Wl(b);b++)if(c&&"function"==typeof c.w&&c.w()==a){this.Ye(c);return}this.Ye(k)};p.of=function(){return this.Qa?this.Qa.of():k};p.Pn=function(){return this.Qa?this.Qa.Pn():-1};function BG(a,b){a.Qa=new $F;b&&Xf(b,function(a){AG(a);this.Qa.Ad(a)},a);zG(a)}
function zG(a){a.Qa&&a.h().e(a.Qa,"select",a.iy)}function yG(a){var b=a.of();a.pa(b?b.ah():a.dD)}function AG(a){a.jA=a instanceof Rg?"option":"separator"}p.mb=function(a,b){wG.g.mb.call(this,a,b);this.mm()&&this.ua().gd(this.Pn())};gg("goog-select",function(){return new wG(k)});

function CG(a,b,c,d){wG.call(this,a,b,c||kG.j(),d)}z(CG,wG);gg("goog-toolbar-select",function(){return new CG(k)});

function DG(a){var b=a.indexOf(",");return Ya((-1!=b?a.substring(0,b):a).toLowerCase(),"\"'")}function EG(a,b){A(b,function(b){var d=b.value,f=DG(d),b=new pG(b.caption,d,a.D());Sf(b,f);a.Ad(b);b.sa().style.fontFamily=d})}function FG(a,b){A(b,function(b){b=new pG(b.caption,b.value,a.D());a.Ad(b);b.sa()})}var GG=[10,10,13,16,18,24,32,48];function HG(a){A(IG,function(b){var c=b.caption,b=b.Va,d=a.D(),c=new pG(d.l("DIV",k,c),b,d);Sf(c,b);a.Ad(c)})}
function JG(a,b,c,d,f,g){c=new uG(KG(c,d,g),f,g);Sf(c,a);c.Ud(b);return c}function LG(a,b,c,d,f,g){a=JG(a,b,c,d,f,g);og(a,16,j);return a}function MG(a,b,c,d,f,g){f=new CG(k,k,f,g);d&&A(d.split(/\s+/),f.rc,f);f.rc("goog-toolbar-select");xG(f,c);Sf(f,a);f.Ud(b);return f}function NG(a,b,c,d,f,g){c=new mG(KG(c,d,g),k,f,g);Sf(c,a);c.Ud(b);return c}
function KG(a,b,c){var d=c||J(),f=m;0<=(b||"-").split(" ").indexOf("tr-icon")&&(f=j);if((!a||""==a)&&H&&!I("1.9a"))a="\u00a0";b=(f?"sprite ":"")+"control "+(b||"");if((d=G&&!I("9.0")?d.l("DIV",{"class":b,role:"button"},a):d.l("BUTTON",{"class":b},a))&&f)a=(c||J()).l("IMG",{src:P("common/images/editortoolbar.png"),alt:a}),d.appendChild(a),d.style.backgroundImage="none";return d};

var OG=y("Link");y("Edit Link");y("Text to display:");var PG=y("Link to:");y("Web address");y("Link to a page or file somewhere else on the web");y("Test this link");
y("{$startBold}Not sure what to put in the box?{$endBold} First, find the page on the web that you want to link to. (A {$searchEngineLink}search engine{$endLink} might be useful.) Then, copy the web address from the box in your browser's address bar, and paste it into the box above.",{startBold:"<b>",endBold:"</b>",searchEngineLink:"<a href='http://www.google.com/' target='_new'>",endLink:"</a>"});y("To what URL should this link go?");y("Email address");y("Link to an email address");y("Invalid email address");
y("To what email address should this link?");y("{$preb}Be careful.{$postb} Remember that any time you include an email address on a web page, nasty spammers can find it too.",{preb:"<b>",postb:"</b>"});y("Open this link in a new window");y("Image");

var QG={},RG=y("Normal"),SG=y("Normal / serif"),TG=[{caption:RG,value:"arial,sans-serif"},{caption:SG,value:"times new roman,serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],UG={ja:[{caption:"\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af",value:"ms pgothic,sans-serif"},{caption:"\uff2d\uff33 \uff30\u660e\u671d",value:"ms pmincho,serif"},{caption:"\uff2d\uff33 \u30b4\u30b7\u30c3\u30af",
value:"ms gothic,monospace"}],ko:[{caption:"\uad74\ub9bc",value:"gulim,sans-serif"},{caption:"\ubc14\ud0d5",value:"batang,serif"},{caption:"\uad74\ub9bc\uccb4",value:"gulimche,monospace"}],"zh-tw":[{caption:"\u65b0\u7d30\u660e\u9ad4",value:"pmingliu,serif"},{caption:"\u7d30\u660e\u9ad4",value:"mingliu,serif"}],"zh-cn":[{caption:"\u5b8b\u4f53",value:"simsun,serif"},{caption:"\u9ed1\u4f53",value:"simhei,sans-serif"},{caption:"MS Song",value:"ms song,monospace"}]};
function VG(a){var b="en-us".replace(/_/,"-").toLowerCase(),c=[];b in UG&&(c=UG[b]);c.length&&EG(a,c);EG(a,TG)}var WG=y("Small"),XG=y("Normal"),YG=y("Large"),ZG=y("Huge"),$G=[{caption:WG,value:1},{caption:XG,value:2},{caption:YG,value:4},{caption:ZG,value:6}],aH=y("Heading"),bH=y("Subheading"),cH=y("Minor heading"),dH=y("Normal"),IG=[{caption:aH,Va:"H2"},{caption:bH,Va:"H3"},{caption:cH,Va:"H4"},{caption:dH,Va:"P"}];
function eH(a,b,c,d,f,g){var i=JG(a,b,c,d,f,g);i.Yf=function(a){i.uc(a)};return i}function fH(a,b){var c=b;try{if(G)var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c=(new W("#",f.substring(4,6),f.substring(2,4),f.substring(0,2))).toString();c!=a.w()&&a.ga(c)}catch(g){}}
var gH=y("Format"),hH=y("Format"),iH=y("Undo"),jH=y("Redo"),kH=y("Font"),lH=y("Font size"),mH=y("Text color"),nH=y("Bold"),oH=y("Italic"),pH=y("Underline"),qH=y("Text background color"),rH=y("Add or remove link"),sH=y("Numbered list"),tH=y("Bullet list"),uH=y("Decrease indent"),vH=y("Increase indent"),wH=y("Align left"),xH=y("Align center"),yH=y("Align right"),zH=y("Justify"),AH=y("Remove formatting"),BH=y("Insert image"),CH=y("Strikethrough"),DH=y("Left-to-right"),EH=y("Right-to-left"),FH=y("Quote"),
GH=y("Edit HTML source"),HH=y("Subscript"),IH=y("Superscript"),JH=y("Edit HTML");
QG.Yr=[{Va:"+undo",La:iH,ob:"tr-icon tr-undo",factory:eH,Fb:j},{Va:"+redo",La:jH,ob:"tr-icon tr-redo",factory:eH,Fb:j},{Va:"+fontName",La:kH,ob:"tr-fontName",factory:function(a,b,c,d,f,g){var i=MG(a,b,c,d,f,g);VG(i);xG(i,RG);C(i.ua().sa(),"goog-menu-noaccel");i.Yf=function(a){var b=k;a&&0<a.length&&(b=Tf(i.ua(),DG(a)));b!=i.of()&&i.Ye(b)};return i},Fb:j},{Va:"+fontSize",La:lH,ob:"tr-fontSize",factory:function(a,b,c,d,f,g){var i=MG(a,b,c,d,f,g);FG(i,$G);xG(i,XG);C(i.ua().sa(),"goog-menu-noaccel");
i.Yf=function(a){v(a)&&"px"==yf(a)&&(a=nb(GG,parseInt(a,10)));a=0<a?a:k;a!=i.w()&&i.ga(a)};return i},Fb:j},{Va:"+bold",La:nH,ob:"tr-icon tr-bold",Fb:j},{Va:"+italic",La:oH,ob:"tr-icon tr-italic",Fb:j},{Va:"+underline",La:pH,ob:"tr-icon tr-underline",Fb:j},{Va:"+foreColor",La:mH,ob:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){a=NG(a,b,c,d,f,g);a.Mm("#000");a.Yf=ua(fH,a);return a},Fb:j},{Va:"+backColor",La:qH,ob:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){a=NG(a,b,c,d,f,g);a.Mm("#FFF");
a.Yf=ua(fH,a);return a},Fb:j},{Va:"+link",La:rH,caption:OG,ob:"tr-link",Fb:j},{Va:"+insertOrderedList",La:sH,ob:"tr-icon tr-insertOrderedList",Fb:j},{Va:"+insertUnorderedList",La:tH,ob:"tr-icon tr-insertUnorderedList",Fb:j},{Va:"+outdent",La:uH,ob:"tr-icon tr-outdent",factory:JG},{Va:"+indent",La:vH,ob:"tr-icon tr-indent",factory:JG},{Va:"+justifyLeft",La:wH,ob:"tr-icon tr-justifyLeft",Fb:j},{Va:"+justifyCenter",La:xH,ob:"tr-icon tr-justifyCenter",Fb:j},{Va:"+justifyRight",La:yH,ob:"tr-icon tr-justifyRight",
Fb:j},{Va:"+justifyFull",La:zH,ob:"tr-icon tr-justifyFull",Fb:j},{Va:"+removeFormat",La:AH,ob:"tr-icon tr-removeFormat",factory:JG},{Va:"image",La:BH,ob:"tr-icon tr-image",factory:JG},{Va:"+strikeThrough",La:CH,ob:"tr-icon tr-strikeThrough",Fb:j},{Va:"+subscript",La:HH,ob:"tr-icon tr-subscript",Fb:j},{Va:"+superscript",La:IH,ob:"tr-icon tr-superscript",Fb:j},{Va:"ltr",La:DH,ob:"tr-icon tr-ltr",Fb:j},{Va:"rtl",La:EH,ob:"tr-icon tr-rtl",factory:function(a,b,c,d,f,g){var i=LG(a,b,c,d,f,g);i.Yf=function(a){a=
!!a;Ub(i.getParent().c(),"tr-rtl-mode",a);ng(i,a)};return i},Fb:j},{Va:"+BLOCKQUOTE",La:FH,ob:"tr-icon tr-BLOCKQUOTE",Fb:j},{Va:"+formatBlock",La:gH,caption:hH,ob:"tr-formatBlock",factory:function(a,b,c,d,f,g){var i=MG(a,b,c,d,f,g);HG(i);xG(i,dH);C(i.ua().sa(),"goog-menu-noaccel");i.Yf=function(a){a=a&&0<a.length?a:k;a!=i.w()&&i.ga(a)};return i},Fb:j},{Va:"editHtml",La:GH,caption:JH,ob:"tr-editHtml",factory:JG}];for(var KH=0;QG.Yr[KH];KH++);delete QG.Yr;

function LH(){}z(LH,kG);LH.prototype.l=function(a){var b={href:"#","class":"goog-inline-block focusable-content "+this.Hf(a).join(" "),title:a.Ph()||""},b=a.D().l("a",b,this.As(a.Yb(),a.D()));this.qv(a,b);return b};

var MH={};function NH(a,b){for(var c=[],d=J(b),f=0,g;g=a[f];f++){if(v(g)){var i=h;if(g=OH[g]){var i=g.factory||LG,l=g.Va,q=g.La,s=g.caption,B=g.ob,E=d||J(),i=i(l,q,s,B,h,E);g.Fb&&(i.Fb=j)}g=i}g&&c.push(g)}d=J(b);d=new sG(rG.j(),zg,d);f=bf(b);d.el(f);d.le(m);for(g=0;i=c[g];g++)og(i,32,m),i.el(f),d.O(i,j);d.T(b);return d}var PH=[{caption:"8",value:1},{caption:"10",value:2},{caption:"12",value:3},{caption:"14",value:4},{caption:"18",value:5},{caption:"24",value:6},{caption:"36",value:7}];
function QH(a,b){var c=b;try{if(G&&!v(b))var d="000000"+c.toString(16),f=d.substr(d.length-6,6),c=(new W("#",f.substring(4,6),f.substring(2,4),f.substring(0,2))).toString();c!=a.w()&&a.ga(c)}catch(g){}}
var RH=[{caption:RG,value:"arial,sans-serif"},{caption:SG,value:"times new roman,serif"},{caption:"Comic",value:"comic sans ms,sans-serif"},{caption:"Courier New",value:"courier new,monospace"},{caption:"Georgia",value:"georgia,serif"},{caption:"Lucida",value:"lucida sans unicode,lucida grande,sans-serif"},{caption:"Trebuchet",value:"trebuchet ms,sans-serif"},{caption:"Verdana",value:"verdana,sans-serif"}],OH={};
MH.Yr=[{Va:"+fontName",La:kH,ob:"tr-fontName",factory:function(a,b,c,d,f,g){var i=MG(a,b,c,d,f||new LH,g);EG(i,RH);xG(i,RG);C(i.ua().sa(),"goog-menu-noaccel");i.Yf=function(a){var b=k;a&&0<a.length&&(b=Tf(i.ua(),DG(a)));b!=i.of()&&i.Ye(b)};return i},Fb:j},{Va:"+fontSize",La:lH,ob:"tr-fontSize",factory:function(a,b,c,d,f,g){var i=MG(a,b,c,d,f||new LH,g);FG(i,PH);xG(i,"10");C(i.ua().sa(),"goog-menu-noaccel");i.Yf=function(a){v(a)&&"px"==yf(a)&&(a=nb(GG,parseInt(a,10)));a=0<a?a:k;a!=i.w()&&i.ga(a)};
return i},Fb:j},{Va:"+bold",La:nH,ob:"tr-icon tr-bold",Fb:j},{Va:"+italic",La:oH,ob:"tr-icon tr-italic",Fb:j},{Va:"+underline",La:pH,ob:"tr-icon tr-underline",Fb:j},{Va:"+foreColor",La:mH,ob:"tr-icon tr-foreColor",factory:function(a,b,c,d,f,g){c=new nG(KG(c,d,g),k,f,g);Sf(c,a);c.Ud(b);c.Mm("#000");c.Yf=ua(QH,c);return c},Fb:j},{Va:"+backColor",La:qH,ob:"tr-icon tr-backColor",factory:function(a,b,c,d,f,g){c=new nG(KG(c,d,g),k,f,g);Sf(c,a);c.Ud(b);c.Mm("#FFF");c.Yf=ua(QH,c);return c},Fb:j},{Va:"+link",
La:rH,caption:OG,ob:"tr-link",Fb:j}];for(var SH=0,TH;TH=MH.Yr[SH];SH++)OH[TH.Va]=TH;delete MH.Yr;

var UH=window.JSON&&window.JSON.parse?window.JSON.parse:Ml;
function VH(a){var b=["statusCode","statusText","type"],c=0,d=0;"data"in a&&(c=a.data.maxSize||0,d=a.data.userDataLimit||0,c=Math.floor(c/1E4)/100,d=Math.floor(d/1E4)/100);for(var f=c&&d?{430:"Uploading too rapidly. Please wait.",460:"This file seems to be empty.",462:"Unsupported file type.",606:"The maximum file size is -maxFileSize-MB.",607:"The file storage limit is -maxStorageSize-MB.",700:"Files over 200MB are not sent to the server.",800:"We\u2019re unable to upload this file. Try compressing it (e.g. as a .zip file) and trying again."}:
{430:"Uploading too rapidly. Please wait.",460:"This file seems to be empty.",462:"Unsupported file type.",606:"File too large.",607:"Over storage limit.",700:"Files over 200MB are not sent to the server.",800:"We\u2019re unable to upload this file. Try compressing it (e.g. as a .zip file) and trying again."},g="",i=0;i<b.length;i++)if(b[i]in a){var l=a[b[i]];if(l in f)l=f[l].replace(/-maxFileSize-/,c.toString()).replace(/-maxStorageSize-/,d.toString());else if(l&&(ma(l)||0>l.search(/\D+/)))g=l,l=
"";if(l)return g&&(l=g+": "+l),l}return"response"in a&&(a=VH(a.response))?a:g};

function WH(){this.KM=r._aim_session_.m()+"-defaultFont";this.ue=Vl(this.KM);this.ue||(this.ue=XH||{})}var XH={"+bold":k,"+italic":k,"+underline":k,"+fontSize":2,"+fontName":"arial, sans-serif","+foreColor":"#000000","+backColor":k};
function YH(a,b){b.style.fontFamily=a.ue["+fontName"]||"arial";var c=a.ue["+fontSize"];ma(c)&&(c=c.toString(10));c=c?ok[c]:"small";b.style.fontSize=c;b.style.color=a.ue["+foreColor"]||"#000";b.style.backgroundColor=a.ue["+backColor"]||"#FFF";b.style.fontStyle=a.ue["+italic"]?"italic":"normal";b.style.fontWeight=a.ue["+bold"]?"bold":"normal";b.style.textDecoration=a.ue["+underline"]?"underline":"none"}
WH.prototype.OJ=function(a){for(var b in this.ue){var c=Tf(a,b);if(c){var d=this.ue[b];c.Yf?c.Yf(d):ng(c,!!d)}}};


function ZH(a,b,c){this.OF=a;this.lo=b||0;this.Bb=c;this.$d=w(this.Yp,this)}z(ZH,Pd);p=ZH.prototype;p.ya=0;p.n=function(){ZH.g.n.call(this);this.stop();delete this.OF;delete this.Bb};p.start=function(a){this.stop();this.ya=N(this.$d,u(a)?a:this.lo)};p.stop=function(){this.isActive()&&Be(this.ya);this.ya=0};p.fire=function(){this.stop();this.Yp()};function $H(a){a.isActive()&&a.fire()}p.isActive=function(){return 0!=this.ya};p.Yp=function(){this.ya=0;this.OF&&this.OF.call(this.Bb)};

function aI(){}z(aI,Pd);var bI=hj("goog.dom.SavedRange");aI.prototype.restore=function(a){this.qe&&bj(bI,"Disposed SavedRange objects cannot be restored.");var b=this.BA();a||this.o();return b};

function cI(a){this.qS=eb();this.mM=eb();this.ba=J(a.Ia());a.Uv(this.ba.l("SPAN",{id:this.qS}),this.ba.l("SPAN",{id:this.mM}))}z(cI,aI);function dI(a,b){return a.ba.c(b?a.qS:a.mM)}cI.prototype.Wu=function(a){od(dI(this,j));od(dI(this,m));return a};cI.prototype.BA=function(){var a=k,b=dI(this,j),c=dI(this,m);if(b&&c){var a=b.parentNode,b=mb(a.childNodes,b),d=c.parentNode,c=mb(d.childNodes,c);d==a&&(c-=1);a=eI(a,b,d,c);a=this.Wu(a);a.select()}else this.Wu();return a};
cI.prototype.n=function(){this.Wu();this.ba=k};

function fI(a,b,c,d,f){this.Ee=!!b;a&&this.vd(a,d);this.depth=f!=h?f:this.xd||0;this.Ee&&(this.depth*=-1);this.ox=!c}z(fI,xh);p=fI.prototype;p.Ca=k;p.xd=0;p.sJ=m;p.vd=function(a,b,c){if(this.Ca=a)this.xd=ma(b)?b:1!=this.Ca.nodeType?0:this.Ee?-1:1;ma(c)&&(this.depth=c)};p.gk=function(a){this.Ca=a.Ca;this.xd=a.xd;this.depth=a.depth;this.Ee=a.Ee;this.ox=a.ox};p.Hb=function(){return new fI(this.Ca,this.Ee,!this.ox,this.xd,this.depth)};
p.gJ=function(){var a=this.Ee?-1:1;this.xd==a&&(this.xd=-1*a,this.depth+=this.xd*(this.Ee?-1:1))};p.next=function(){var a;if(this.sJ){(!this.Ca||this.ox&&0==this.depth)&&e(wh);a=this.Ca;var b=this.Ee?-1:1;if(this.xd==b){var c=this.Ee?a.lastChild:a.firstChild;c?this.vd(c):this.vd(a,-1*b)}else(c=this.Ee?a.previousSibling:a.nextSibling)?this.vd(c):this.vd(a.parentNode,-1*b);this.depth+=this.xd*(this.Ee?-1:1)}else this.sJ=j;(a=this.Ca)||e(wh);return a};
p.Kc=function(a){return a.Ca==this.Ca&&(!this.Ca||a.xd==this.xd)};p.splice=function(a){var b=this.Ca,c=this.Ee?1:-1;this.xd==c&&(this.xd=-1*c,this.depth+=this.xd*(this.Ee?-1:1));this.Ee=!this.Ee;fI.prototype.next.call(this);this.Ee=!this.Ee;for(var c=ka(arguments[0])?arguments[0]:arguments,d=c.length-1;0<=d;d--)md(c[d],b);od(b)};

function gI(){}function hI(a){if(a.getSelection)return a.getSelection();var a=a.document,b=a.selection;if(b){try{var c=b.createRange();if(c.parentElement){if(c.parentElement().document!=a)return k}else if(!c.length||c.item(0).document!=a)return k}catch(d){return k}return b}return k}function iI(a){for(var b=[],c=0,d=a.Sn();c<d;c++)b.push(a.gh(c));return b}function jI(a){a=a.If();return 1==a.nodeType?a:a.parentNode}function kI(a){return a.Ek()?a.Fa():a.ab()}
function lI(a){return a.Ek()?a.Ab():a.fc()}p=gI.prototype;p.Ek=o(m);p.Ia=function(){return Rc(G?this.If():this.Fa())};p.va=function(){return bd(this.Ia())};p.containsNode=function(a,b){return this.fk(mI(a),b)};p.vA=function(a){this.isCollapsed()||this.Vk();return this.insertNode(a,j)};function nI(a){return a.Fa()&&a.ab()?new cI(a):k}function oI(a,b){fI.call(this,a,b,j)}z(oI,fI);

function pI(){}z(pI,gI);pI.prototype.fk=function(a,b){var c=iI(this),d=iI(a);return(b?rb:sb)(d,function(a){return rb(c,function(c){return c.fk(a,b)})})};pI.prototype.insertNode=function(a,b){b?ld(a,this.Fa()):md(a,this.ab());return a};pI.prototype.Uv=function(a,b){this.insertNode(a,j);this.insertNode(b,m)};

function qI(a,b,c,d,f){var g;a&&(this.Ya=a,this.gb=b,this.Wa=c,this.eb=d,1==a.nodeType&&"BR"!=a.tagName&&(a=a.childNodes,(b=a[b])?(this.Ya=b,this.gb=0):(a.length&&(this.Ya=kb(a)),g=j)),1==c.nodeType&&((this.Wa=c.childNodes[d])?this.eb=0:this.Wa=c));oI.call(this,f?this.Wa:this.Ya,f);if(g)try{this.next()}catch(i){i!=wh&&e(i)}}z(qI,oI);p=qI.prototype;p.Ya=k;p.Wa=k;p.gb=0;p.eb=0;p.ay=function(){return 3!=this.Ca.nodeType?-1:this.Ca==this.Ya?this.gb:0};
p.Xx=function(){return 3!=this.Ca.nodeType?-1:this.Ca==this.Wa?this.eb:this.Ca.nodeValue.length};p.Fa=n("Ya");p.ab=n("Wa");p.Nt=function(){return this.sJ&&this.Ca==this.Wa&&(!this.eb||1!=this.xd)};p.next=function(){this.Nt()&&e(wh);return qI.g.next.call(this)};p.gJ=function(){qI.g.gJ.apply(this);ud(this.Ca,this.Wa)&&e(wh)};p.gk=function(a){this.Ya=a.Ya;this.Wa=a.Wa;this.gb=a.gb;this.eb=a.eb;this.Vh=a.Vh;qI.g.gk.call(this,a)};
p.Hb=function(){var a=new qI(this.Ya,this.gb,this.Wa,this.eb,this.Vh);a.gk(this);return a};


function rI(){}rI.prototype.fk=function(a,b){var c=b&&!a.isCollapsed(),d=a.ma;try{return c?0<=this.Xg(d,0,1)&&0>=this.Xg(d,1,0):0<=this.Xg(d,0,0)&&0>=this.Xg(d,1,1)}catch(f){return G||e(f),m}};rI.prototype.containsNode=function(a,b){return this.fk(sI(a),b)};
rI.prototype.kt=function(){var a=new W;zh(this,function(b,c,d){3==b.nodeType?a.append(Ma(b.nodeValue.substring(d.ay(),d.Xx()))):1==b.nodeType&&(-1==d.xd?id(b)&&a.append("</"+b.tagName+">"):(c=b.cloneNode(m),c=Bd(c),G&&"LI"==b.tagName?a.append(c):(b=c.lastIndexOf("<"),a.append(b?c.substr(0,b):c))))},this);return a.toString()};rI.prototype.Uj=function(){return new qI(this.Fa(),this.Ab(),this.ab(),this.fc())};

function tI(a){this.ma=a}z(tI,rI);function uI(a){var b=Rc(a).createRange();if(3==a.nodeType)b.setStart(a,0),b.setEnd(a,a.length);else if(vI(a)){for(var c,d=a;(c=d.firstChild)&&vI(c);)d=c;b.setStart(d,0);for(d=a;(c=d.lastChild)&&vI(c);)d=c;b.setEnd(d,1==d.nodeType?d.childNodes.length:d.length)}else c=a.parentNode,a=mb(c.childNodes,a),b.setStart(c,a),b.setEnd(c,a+1);return b}function wI(a,b,c,d){var f=Rc(a).createRange();f.setStart(a,b);f.setEnd(c,d);return f}p=tI.prototype;p.Hb=function(){return new this.constructor(this.ma.cloneRange())};
p.If=function(){return this.ma.commonAncestorContainer};p.Fa=function(){return this.ma.startContainer};p.Ab=function(){return this.ma.startOffset};p.ab=function(){return this.ma.endContainer};p.fc=function(){return this.ma.endOffset};p.Xg=function(a,b,c){return this.ma.compareBoundaryPoints(1==c?1==b?r.Range.START_TO_START:r.Range.START_TO_END:1==b?r.Range.END_TO_START:r.Range.END_TO_END,a)};p.isCollapsed=function(){return this.ma.collapsed};p.Ma=function(){return this.ma.toString()};
p.dj=function(){var a=J(this.ma.startContainer).l("div");a.appendChild(this.ma.cloneContents());a=a.innerHTML;if(xa(a,"<")||!this.isCollapsed()&&!Ta(a,"<"))return a;var b=this.If(),b=1==b.nodeType?b:b.parentNode;return Bd(b.cloneNode(m)).replace(">",">"+a)};p.select=function(a){this.GA(bd(Rc(this.Fa())).getSelection(),a)};p.GA=function(a){a.removeAllRanges();a.addRange(this.ma)};
p.Vk=function(){var a=this.ma;a.extractContents();if(a.startContainer.hasChildNodes()&&(a=a.startContainer.childNodes[a.startOffset])){var b=a.previousSibling;""==Id(a)&&od(a);b&&""==Id(b)&&od(b)}};p.insertNode=function(a,b){var c=this.ma.cloneRange();c.collapse(b);c.insertNode(a);c.detach();return a};
p.Uv=function(a,b){var c=bd(Rc(this.Fa()));if(c=xI(c))var d=c.Fa(),f=c.ab(),g=c.Ab(),i=c.fc();var l=this.ma.cloneRange(),q=this.ma.cloneRange();l.collapse(m);q.collapse(j);l.insertNode(b);q.insertNode(a);l.detach();q.detach();if(c){if(3==d.nodeType)for(;g>d.length;){g-=d.length;do d=d.nextSibling;while(d==a||d==b)}if(3==f.nodeType)for(;i>f.length;){i-=f.length;do f=f.nextSibling;while(f==a||f==b)}eI(d,g,f,i).select()}};p.collapse=function(a){this.ma.collapse(a)};

function yI(a){this.ma=a}z(yI,tI);yI.prototype.GA=function(a,b){var c=b?this.ab():this.Fa(),d=b?this.fc():this.Ab(),f=b?this.Fa():this.ab(),g=b?this.Ab():this.fc();a.collapse(c,d);(c!=f||d!=g)&&a.extend(f,g)};


function zI(a,b){this.ma=a;this.Dx=b}z(zI,rI);var AI=hj("goog.dom.browserrange.IeRange");function BI(a){var b=Rc(a).body.createTextRange();if(1==a.nodeType)b.moveToElementText(a),vI(a)&&!a.childNodes.length&&b.collapse(m);else{for(var c=0,d=a;d=d.previousSibling;){var f=d.nodeType;if(3==f)c+=d.length;else if(1==f){b.moveToElementText(d);break}}d||b.moveToElementText(a.parentNode);b.collapse(!d);c&&b.move("character",c);b.moveEnd("character",a.length)}return b}p=zI.prototype;p.xj=k;p.Ya=k;p.Wa=k;
p.gb=-1;p.eb=-1;p.Hb=function(){var a=new zI(this.ma.duplicate(),this.Dx);a.xj=this.xj;a.Ya=this.Ya;a.Wa=this.Wa;return a};p.Vg=function(){this.xj=this.Ya=this.Wa=k;this.gb=this.eb=-1};
p.If=function(){if(!this.xj){var a=this.ma.text,b=this.ma.duplicate(),c=a.replace(/ +$/,"");(c=a.length-c.length)&&b.moveEnd("character",-c);c=b.parentElement();b=Ea(b.htmlText).length;if(this.isCollapsed()&&0<b)return this.xj=c;for(;b>Ea(c.outerHTML).length;)c=c.parentNode;for(;1==c.childNodes.length&&c.innerText==(3==c.firstChild.nodeType?c.firstChild.nodeValue:c.firstChild.innerText)&&vI(c.firstChild);)c=c.firstChild;0==a.length&&(c=CI(this,c));this.xj=c}return this.xj};
function CI(a,b){for(var c=b.childNodes,d=0,f=c.length;d<f;d++){var g=c[d];if(vI(g)){var i=BI(g),l=i.htmlText!=g.outerHTML;if(a.isCollapsed()&&l?0<=a.Xg(i,1,1)&&0>=a.Xg(i,1,0):a.ma.inRange(i))return CI(a,g)}}return b}p.Fa=function(){this.Ya||(this.Ya=DI(this,1),this.isCollapsed()&&(this.Wa=this.Ya));return this.Ya};p.Ab=function(){0>this.gb&&(this.gb=EI(this,1),this.isCollapsed()&&(this.eb=this.gb));return this.gb};
p.ab=function(){if(this.isCollapsed())return this.Fa();this.Wa||(this.Wa=DI(this,0));return this.Wa};p.fc=function(){if(this.isCollapsed())return this.Ab();0>this.eb&&(this.eb=EI(this,0),this.isCollapsed()&&(this.gb=this.eb));return this.eb};p.Xg=function(a,b,c){return this.ma.compareEndPoints((1==b?"Start":"End")+"To"+(1==c?"Start":"End"),a)};
function DI(a,b,c){c=c||a.If();if(!c||!c.firstChild)return c;for(var d=1==b,f=0,g=c.childNodes.length;f<g;f++){var i=d?f:g-f-1,l=c.childNodes[i],q;try{q=sI(l)}catch(s){continue}var B=q.ma;if(a.isCollapsed())if(vI(l)){if(q.fk(a))return DI(a,b,l)}else{if(0==a.Xg(B,1,1)){a.gb=a.eb=i;break}}else{if(a.fk(q)){if(!vI(l)){d?a.gb=i:a.eb=i+1;break}return DI(a,b,l)}if(0>a.Xg(B,1,0)&&0<a.Xg(B,0,1))return DI(a,b,l)}}return c}
function EI(a,b){var c=1==b,d=c?a.Fa():a.ab();if(1==d.nodeType){for(var d=d.childNodes,f=d.length,g=c?1:-1,i=c?0:f-1;0<=i&&i<f;i+=g){var l=d[i];if(!vI(l)&&0==a.ma.compareEndPoints((1==b?"Start":"End")+"To"+(1==b?"Start":"End"),sI(l).ma))return c?i:i+1}return-1==i?0:i}f=a.ma.duplicate();g=BI(d);f.setEndPoint(c?"EndToEnd":"StartToStart",g);f=f.text.length;return c?d.length-f:f}p.Fq=function(){var a=this.Dx.body.createTextRange();a.moveToElementText(this.Dx.body);return this.fk(new zI(a,this.Dx),j)};
p.isCollapsed=function(){return 0==this.ma.compareEndPoints("StartToEnd",this.ma)};p.Ma=function(){return this.ma.text};p.dj=function(){return this.ma.htmlText};p.select=function(){this.ma.select()};
p.Vk=function(){if(!this.isCollapsed()&&this.ma.htmlText){var a=this.Fa(),b=this.ab(),c=this.ma.text,d=this.ma.duplicate();d.moveStart("character",1);d.moveStart("character",-1);d.text==c&&(this.ma=d);this.ma.text="";this.Vg();c=this.Fa();d=this.Ab();try{var f=a.nextSibling;a==b&&a.parentNode&&3==a.nodeType&&f&&3==f.nodeType&&(a.nodeValue+=f.nodeValue,od(f),this.ma=BI(c),this.ma.move("character",d),this.Vg())}catch(g){}}};
function FI(a,b,c){var d;d=d||J(a.parentElement());var f;1!=b.nodeType&&(f=j,b=d.l("DIV",k,b));a.collapse(c);var c=d||J(a.parentElement()),g,i=g=b.id;g||(g=b.id=eb());a.pasteHTML(b.outerHTML);(b=c.c(g))&&(i||b.removeAttribute("id"));f&&(a=b.firstChild,d.YV(b),b=a);return b}p.insertNode=function(a,b){var c=FI(this.ma.duplicate(),a,b);this.Vg();return c};p.Uv=function(a,b){var c=this.ma.duplicate(),d=this.ma.duplicate();FI(c,a,j);FI(d,b,m);this.Vg()};
p.collapse=function(a){this.ma.collapse(a);a?(this.Wa=this.Ya,this.eb=this.gb):(this.Ya=this.Wa,this.gb=this.eb)};

function GI(a){this.ma=a}z(GI,tI);GI.prototype.GA=function(a){a.collapse(this.Fa(),this.Ab());(this.ab()!=this.Fa()||this.fc()!=this.Ab())&&a.extend(this.ab(),this.fc());0==a.rangeCount&&a.addRange(this.ma)};

function HI(a){this.ma=a}z(HI,tI);HI.prototype.Xg=function(a,b,c){return I("528")?HI.g.Xg.call(this,a,b,c):this.ma.compareBoundaryPoints(1==c?1==b?r.Range.START_TO_START:r.Range.END_TO_START:1==b?r.Range.START_TO_END:r.Range.END_TO_END,a)};HI.prototype.GA=function(a,b){a.removeAllRanges();b?a.setBaseAndExtent(this.ab(),this.fc(),this.Fa(),this.Ab()):a.setBaseAndExtent(this.Fa(),this.Ab(),this.ab(),this.fc())};

function sI(a){if(G&&!vc(9)){var b=new zI(BI(a),Rc(a));if(vI(a)){for(var c,d=a;(c=d.firstChild)&&vI(c);)d=c;b.Ya=d;b.gb=0;for(d=a;(c=d.lastChild)&&vI(c);)d=c;b.Wa=d;b.eb=1==d.nodeType?d.childNodes.length:d.length;b.xj=a}else b.Ya=b.Wa=b.xj=a.parentNode,b.gb=mb(b.xj.childNodes,a),b.eb=b.gb+1;a=b}else a=hc?new HI(uI(a)):H?new yI(uI(a)):gc?new GI(uI(a)):new tI(uI(a));return a}function vI(a){return id(a)||3==a.nodeType};

function II(){}z(II,gI);function JI(a,b){return KI(G&&!vc(9)?new zI(a,Rc(a.parentElement())):hc?new HI(a):H?new yI(a):gc?new GI(a):new tI(a),b)}function KI(a,b){var c=new II;c.nn=a;c.Vh=!!b;return c}function eI(a,b,c,d){var f=new II;f.Vh=LI(a,b,c,d);if("BR"==a.tagName)var g=a.parentNode,b=mb(g.childNodes,a),a=g;"BR"==c.tagName&&(g=c.parentNode,d=mb(g.childNodes,c),c=g);f.Vh?(f.Ya=c,f.gb=d,f.Wa=a,f.eb=b):(f.Ya=a,f.gb=b,f.Wa=c,f.eb=d);return f}p=II.prototype;p.nn=k;p.Ya=k;p.gb=k;p.Wa=k;p.eb=k;
p.Vh=m;p.Hb=function(){var a=new II;a.nn=this.nn;a.Ya=this.Ya;a.gb=this.gb;a.Wa=this.Wa;a.eb=this.eb;a.Vh=this.Vh;return a};p.Ga=o("text");p.ig=function(){return MI(this).ma};p.Vg=function(){this.Ya=this.gb=this.Wa=this.eb=k};p.Sn=o(1);p.gh=function(){return this};
function MI(a){var b;if(!(b=a.nn)){b=a.Fa();var c=a.Ab(),d=a.ab(),f=a.fc();if(G&&!vc(9)){var g=b,i=c,l=d,q=f,s=m;1==g.nodeType&&(i>g.childNodes.length&&bj(AI,"Cannot have startOffset > startNode child count"),i=g.childNodes[i],s=!i,g=i||g.lastChild||g,i=0);var B=BI(g);i&&B.move("character",i);g==l&&i==q?B.collapse(j):(s&&B.collapse(m),s=m,1==l.nodeType&&(q>l.childNodes.length&&bj(AI,"Cannot have endOffset > endNode child count"),l=(i=l.childNodes[q])||l.lastChild||l,q=0,s=!i),g=BI(l),g.collapse(!s),
q&&g.moveEnd("character",q),B.setEndPoint("EndToEnd",g));q=new zI(B,Rc(b));q.Ya=b;q.gb=c;q.Wa=d;q.eb=f;b=q}else b=hc?new HI(wI(b,c,d,f)):H?new yI(wI(b,c,d,f)):gc?new GI(wI(b,c,d,f)):new tI(wI(b,c,d,f));b=a.nn=b}return b}p.If=function(){return MI(this).If()};p.Fa=function(){return this.Ya||(this.Ya=MI(this).Fa())};p.Ab=function(){return this.gb!=k?this.gb:this.gb=MI(this).Ab()};p.ab=function(){return this.Wa||(this.Wa=MI(this).ab())};p.fc=function(){return this.eb!=k?this.eb:this.eb=MI(this).fc()};
p.Ek=n("Vh");p.fk=function(a,b){var c=a.Ga();if("text"==c)return MI(this).fk(MI(a),b);return"control"==c?(c=a.Kn(),(b?rb:sb)(c,function(a){return this.containsNode(a,b)},this)):m};function NI(a){if(G&&!vc(9)){var b=m;try{b=a.parentNode}catch(c){}return!!b}return ud(a.ownerDocument.body,a)}p.Fq=function(){return(!this.Ya||NI(this.Ya))&&(!this.Wa||NI(this.Wa))&&(!(G&&!vc(9))||MI(this).Fq())};p.isCollapsed=function(){return MI(this).isCollapsed()};p.Ma=function(){return MI(this).Ma()};p.kt=function(){return MI(this).kt()};
p.dj=function(){return MI(this).dj()};p.nE=function(){var a=this.dj();if(a.match(/^\s*<td\b/i))a="<table><tbody><tr>"+a+"</tr></tbody></table>";else if(a.match(/^\s*<tr\b/i))a="<table><tbody>"+a+"</tbody></table>";else if(a.match(/^\s*<tbody\b/i))a="<table>"+a+"</table>";else if(a.match(/^\s*<li\b/i)){for(var b=this.If(),c="UL";b;){if("OL"==b.tagName){c="OL";break}else if("UL"==b.tagName)break;b=b.parentNode}a=bb("<",c,">",a,"</",c,">")}return a};
p.Uj=function(){return new qI(this.Fa(),this.Ab(),this.ab(),this.fc())};p.select=function(){MI(this).select(this.Vh)};p.Vk=function(){MI(this).Vk();this.Vg()};p.insertNode=function(a,b){var c=MI(this).insertNode(a,b);this.Vg();return c};p.Uv=function(a,b){MI(this).Uv(a,b);this.Vg()};p.mI=function(){return new OI(this)};p.collapse=function(a){a=this.Ek()?!a:a;this.nn&&this.nn.collapse(a);a?(this.Wa=this.Ya,this.eb=this.gb):(this.Ya=this.Wa,this.gb=this.eb);this.Vh=m};
function OI(a){this.OK=a.Ek()?a.ab():a.Fa();this.dU=a.Ek()?a.fc():a.Ab();this.HM=kI(a);this.bW=lI(a)}z(OI,aI);OI.prototype.BA=function(){return eI(this.OK,this.dU,this.HM,this.bW)};OI.prototype.n=function(){OI.g.n.call(this);this.HM=this.OK=k};

function PI(){}z(PI,pI);function QI(a){var b=new PI;b.ma=a;return b}function RI(a){for(var b=Rc(arguments[0]).body.createControlRange(),c=0,d=arguments.length;c<d;c++)b.addElement(arguments[c]);return QI(b)}p=PI.prototype;p.ma=k;p.kb=k;p.Jv=k;p.Vg=function(){this.Jv=this.kb=k};p.Hb=function(){return RI.apply(this,this.Kn())};p.Ga=o("control");p.ig=function(){return this.ma||document.body.createControlRange()};p.Sn=function(){return this.ma?this.ma.length:0};
p.gh=function(a){a=this.ma.item(a);return KI(sI(a),h)};p.If=function(){return yd.apply(k,this.Kn())};p.Fa=function(){return SI(this)[0]};p.Ab=o(0);p.ab=function(){var a=SI(this),b=kb(a);return tb(a,function(a){return ud(a,b)})};p.fc=function(){return this.ab().childNodes.length};p.Kn=function(){if(!this.kb&&(this.kb=[],this.ma))for(var a=0;a<this.ma.length;a++)this.kb.push(this.ma.item(a));return this.kb};
function SI(a){a.Jv||(a.Jv=a.Kn().concat(),a.Jv.sort(function(a,c){return a.sourceIndex-c.sourceIndex}));return a.Jv}p.Fq=function(){var a=m;try{a=sb(this.Kn(),function(a){return G?a.parentNode:ud(a.ownerDocument.body,a)})}catch(b){}return a};p.isCollapsed=function(){return!this.ma||!this.ma.length};p.Ma=o("");p.kt=function(){return qb(SI(this),Bd).join("")};p.dj=function(){return this.kt()};p.nE=PI.prototype.dj;p.Uj=function(){return new TI(this)};p.select=function(){this.ma&&this.ma.select()};
p.Vk=function(){if(this.ma){for(var a=[],b=0,c=this.ma.length;b<c;b++)a.push(this.ma.item(b));A(a,od);this.collapse(m)}};p.vA=function(a){a=this.insertNode(a,j);this.isCollapsed()||this.Vk();return a};p.mI=function(){return new UI(this)};p.collapse=function(){this.ma=k;this.Vg()};function UI(a){this.kb=a.Kn()}z(UI,aI);UI.prototype.BA=function(){for(var a=(this.kb.length?Rc(this.kb[0]):document).body.createControlRange(),b=0,c=this.kb.length;b<c;b++)a.addElement(this.kb[b]);return QI(a)};
UI.prototype.n=function(){UI.g.n.call(this);delete this.kb};function TI(a){a&&(this.kb=SI(a),this.Ya=this.kb.shift(),this.Wa=kb(this.kb)||this.Ya);oI.call(this,this.Ya,m)}z(TI,oI);p=TI.prototype;p.Ya=k;p.Wa=k;p.kb=k;p.ay=o(0);p.Xx=o(0);p.Fa=n("Ya");p.ab=n("Wa");p.Nt=function(){return!this.depth&&!this.kb.length};p.next=function(){this.Nt()&&e(wh);if(!this.depth){var a=this.kb.shift();this.vd(a,1,1);return a}return TI.g.next.call(this)};
p.gk=function(a){this.kb=a.kb;this.Ya=a.Ya;this.Wa=a.Wa;TI.g.gk.call(this,a)};p.Hb=function(){var a=new TI(k);a.gk(this);return a};

function VI(){this.Ih=[];this.mr=[];this.sc=this.Gr=k}z(VI,pI);function WI(a){var b=new VI;b.mr=a;b.Ih=qb(a,function(a){return a.ig()});return b}p=VI.prototype;p.Z=hj("goog.dom.MultiRange");p.Vg=function(){this.mr=[];this.sc=this.Gr=k};p.Hb=function(){var a=new VI;a.Ih=Gb(this.Ih);return a};p.Ga=o("mutli");p.ig=function(){1<this.Ih.length&&cj(this.Z,"getBrowserRangeObject called on MultiRange with more than 1 range");return this.Ih[0]};p.Sn=function(){return this.Ih.length};
p.gh=function(a){this.mr[a]||(this.mr[a]=JI(this.Ih[a]));return this.mr[a]};p.If=function(){if(!this.sc){for(var a=[],b=0,c=this.Sn();b<c;b++)a.push(this.gh(b).If());this.sc=yd.apply(k,a)}return this.sc};function XI(a){a.Gr||(a.Gr=iI(a),a.Gr.sort(function(a,c){var d=a.Fa(),f=a.Ab(),g=c.Fa(),i=c.Ab();return d==g&&f==i?0:LI(d,f,g,i)?1:-1}));return a.Gr}p.Fa=function(){return XI(this)[0].Fa()};p.Ab=function(){return XI(this)[0].Ab()};p.ab=function(){return kb(XI(this)).ab()};p.fc=function(){return kb(XI(this)).fc()};
p.Fq=function(){return sb(iI(this),function(a){return a.Fq()})};p.isCollapsed=function(){return 0==this.Ih.length||1==this.Ih.length&&this.gh(0).isCollapsed()};p.Ma=function(){return qb(iI(this),function(a){return a.Ma()}).join("")};p.kt=function(){return this.dj()};p.dj=function(){return qb(iI(this),function(a){return a.dj()}).join("")};p.nE=function(){return this.dj()};p.Uj=function(){return new YI(this)};p.select=function(){var a=hI(this.va());a.removeAllRanges();for(var b=0,c=this.Sn();b<c;b++)a.addRange(this.gh(b).ig())};
p.Vk=function(){A(iI(this),function(a){a.Vk()})};p.mI=function(){return new ZI(this)};p.collapse=function(a){if(!this.isCollapsed()){var b=a?this.gh(0):this.gh(this.Sn()-1);this.Vg();b.collapse(a);this.mr=[b];this.Gr=[b];this.Ih=[b.ig()]}};function ZI(a){this.pI=qb(iI(a),function(a){return a.mI()})}z(ZI,aI);ZI.prototype.BA=function(){var a=qb(this.pI,function(a){return a.restore()});return WI(a)};ZI.prototype.n=function(){ZI.g.n.call(this);A(this.pI,function(a){a.o()});delete this.pI};
function YI(a){a&&(this.lj=qb(XI(a),function(a){return yh(a)}));oI.call(this,a?this.Fa():k,m)}z(YI,oI);p=YI.prototype;p.lj=k;p.Qp=0;p.ay=function(){return this.lj[this.Qp].ay()};p.Xx=function(){return this.lj[this.Qp].Xx()};p.Fa=function(){return this.lj[0].Fa()};p.ab=function(){return kb(this.lj).ab()};p.Nt=function(){return this.lj[this.Qp].Nt()};
p.next=function(){try{var a=this.lj[this.Qp],b=a.next();this.vd(a.Ca,a.xd,a.depth);return b}catch(c){return(c!==wh||this.lj.length-1==this.Qp)&&e(c),this.Qp++,this.next()}};p.gk=function(a){this.lj=Gb(a.lj);YI.g.gk.call(this,a)};p.Hb=function(){var a=new YI(k);a.gk(this);return a};

function xI(a){return(a=hI(a||window))&&$I(a)}function $I(a){var b,c=m;if(a.createRange)try{b=a.createRange()}catch(d){return k}else if(a.rangeCount){if(1<a.rangeCount){b=new VI;for(var c=0,f=a.rangeCount;c<f;c++)b.Ih.push(a.getRangeAt(c));return b}b=a.getRangeAt(0);c=LI(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}else return k;return b&&b.addElement?QI(b):JI(b,c)}function mI(a){return KI(sI(a),h)}function aJ(a,b){return eI(a,b,a,b)}
function LI(a,b,c,d){if(a==c)return d<b;var f;if(1==a.nodeType&&b)if(f=a.childNodes[b])a=f,b=0;else if(ud(a,c))return j;if(1==c.nodeType&&d)if(f=c.childNodes[d])c=f,d=0;else if(ud(c,a))return m;return 0<(vd(a,c)||b-d)};


function bJ(a){return(a=a.exec(cc()))?a[1]:""}var cJ=function(){if(ih)return bJ(/Firefox\/([0-9.]+)/);if(G||gc)return mc;if(nh)return bJ(/Chrome\/([0-9.]+)/);if(oh)return bJ(/Version\/([0-9.]+)/);if(kh||lh){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(cc());if(a)return a[1]+"."+a[2]}else{if(mh)return(a=bJ(/Android\s+([0-9.]+)/))?a:bJ(/Version\/([0-9.]+)/);if(jh)return bJ(/Camino\/([0-9.]+)/)}return""}();

var dJ=G&&!vc(9),eJ=H||hc||gc||G&&vc(9),fJ=G||hc||gc||m,gJ=hc||m,hJ=G||hc||gc;hc&&I("534.16");var iJ=H&&j,jJ=H||hc||gc,kJ=H||gc;G&&I("7.0");var lJ=H&&I("1.8")||hc||gc;G||gc||H&&I("1.9");var mJ=H||hc&&!I("527"),nJ=G||gc,oJ=G||hc&&I("525"),pJ=hc&&!I("531"),qJ=hc&&!I("528");H&&I("1.9")||G||gc||hc&&I("531");var rJ=G||H||gc,sJ=H||hc&&!I("526"),tJ=G||gc,uJ=!G&&!gc,vJ=!hc;nh&&0<=cb(cJ,"4")||oh&&I("533")||H&&I("2.0");var wJ=gc&&I("11.10");nh&&cb(cJ,"12");

function xJ(){this.Qb=this.XB()}z(xJ,xe);p=xJ.prototype;p.X=k;function yJ(a){return a.X&&a.X.Rc}p.mU=j;p.Yh=hj("goog.editor.Plugin");p.gR=ca("X");p.ZS=function(){this.X&&(this.disable(this.X),this.X=k)};p.enable=function(a){this.X==a?this.Qb=j:bj(this.Yh,"Trying to enable an unregistered field with this plugin.")};p.disable=function(a){this.X==a?this.Qb=m:bj(this.Yh,"Trying to disable an unregistered field with this plugin.")};p.isEnabled=function(a){return this.X==a?this.Qb:m};p.XB=Cf;p.jY=Cf;
p.n=function(){this.X&&this.ZS(this.X);xJ.g.n.call(this)};var zJ=Lc({Wn:1,lX:2,lg:3,iy:4,GE:5,execCommand:6,queryCommandValue:7,YQ:8,rL:10,qL:11}),AJ=Pc(8,10,11);xJ.prototype.execCommand=function(a,b){var c=this.jY(a);c||(H&&BJ(this.X,j),this.X.Wp());try{var d=this.Kx.apply(this,arguments)}catch(f){}finally{c||(this.X.An(),CJ(this.X))}return d};xJ.prototype.so=o(m);

function DJ(a,b,c){this.vM=a;this.nJ=b;this.CM=this.uC=m;this.LD=c||{}}function EJ(a){this.OL=a};

function FJ(a,b,c){this.eP=a;this.P4=!!c;a&&!b&&this.next()}z(FJ,xh);FJ.prototype.next=function(){var a=this.eP;a||e(wh);this.eP=this.P4?a.previousSibling:a.nextSibling;return a};function GJ(a,b,c){u(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);FJ.call(this,a.childNodes[c],j,b)}z(GJ,FJ);

var HJ=Pc("ADDRESS","BLOCKQUOTE","BODY","CAPTION","CENTER","COL","COLGROUP","DIR","DIV","DL","DD","DT","FIELDSET","FORM","H1","H2","H3","H4","H5","H6","HR","ISINDEX","OL","LI","MAP","MENU","OPTGROUP","OPTION","P","PRE","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","TL","UL"),IJ=Pc("IMG","IFRAME","EMBED");function JJ(a){for(var b;b=!a||1!=a.nodeType?k:KJ(Ah(new GJ(a,j),LJ));)a=b;return a}function MJ(a){for(var b;b=!a||1!=a.nodeType?k:KJ(Ah(new GJ(a,m),LJ));)a=b;return a}
function KJ(a){try{return a.next()}catch(b){return k}}function LJ(a){return 1==a.nodeType||3==a.nodeType&&!Da(a.nodeValue)}function NJ(a,b){var c=Id(a);if(a.getElementsByTagName)for(var d in IJ)if(a.tagName==d||0<a.getElementsByTagName(d).length)return m;return!b&&"\u00a0"==c||Da(c)}function OJ(a){return a.length||a.childNodes.length}function PJ(a){return a.getAttribute&&"true"==a.getAttribute("g_editable")};

function QJ(a){var b=a&&a.nodeName.toLowerCase();return!(!a||"block"!=(1!=a.nodeType?k:G?Se(a,"display"):Re(a,"display"))&&!("td"==b||"table"==b||"li"==b))}function RJ(a){return Kd(a,QJ,j)}Pc("text","file","url");

function SJ(a,b){var c=TJ(a,1,b),c=TJ(c,0,b),d=c.Fa(),f=c.ab(),g=c.Ab(),c=c.fc();if(d==f){for(;f!=b&&0==g&&c==OJ(f);)d=f.parentNode,g=mb(d.childNodes,f),c=g+1,f=d;d=f}return eI(d,g,f,c)}function TJ(a,b,c){for(var d=(b=1==b)?a.Fa():a.ab(),f=b?a.Ab():a.fc(),g=jI(a);d!=g&&d!=c&&!(b&&0!=f||!b&&f!=OJ(d));)var i=d.parentNode,f=mb(i.childNodes,d),f=b?f:f+1,d=i;c=b?d:a.Fa();g=b?f:a.Ab();d=b?a.ab():d;a=b?a.fc():f;return eI(c,g,d,a)}
function UJ(a){var b=a.parentNode,a=mb(b.childNodes,a)+1,b=VJ(b,a,m);G&&I("9")&&1==b.Ca.nodeType&&"HR"==b.Ca.tagName&&(a=b.Ca,b.Ca=a.parentNode,b.rj=mb(b.Ca.childNodes,a)+1);aJ(b.Ca,b.rj).select()}function WJ(a){for(var b=k,c=a.firstChild;c;){var d=c.nextSibling;3==c.nodeType?""==c.nodeValue?a.removeChild(c):b?(b.nodeValue+=c.nodeValue,a.removeChild(c)):b=c:(WJ(c),b=k);c=d}}
function XJ(a,b){if(b)var c=YJ(b),d=RJ(jI(b));d?(d=yd(d,a),G?WJ(d):d.normalize()):a&&(G?WJ(a):a.normalize());return c?c():k}function ZJ(a,b){return b?VJ(a.Fa(),a.Ab()):VJ(a.ab(),a.fc())}
function YJ(a){var b=$J(ZJ(a,j)),c=aK(b),d=b.Ca.previousSibling;3==b.Ca.nodeType&&(b.Ca=k);var f=$J(ZJ(a,m)),g=aK(f),i=f.Ca.previousSibling;3==f.Ca.nodeType&&(f.Ca=k);return function(){!b.Ca&&d&&(b.Ca=d.nextSibling,b.Ca||(b=new bK(d,OJ(d))));!f.Ca&&i&&(f.Ca=i.nextSibling,f.Ca||(f=new bK(i,OJ(i))));return eI(b.Ca||c.Ca.firstChild||c.Ca,b.rj,f.Ca||g.Ca.firstChild||g.Ca,f.rj)}}
function $J(a){var b;if(3==a.Ca.nodeType)for(b=a.Ca.previousSibling;b&&3==b.nodeType;b=b.previousSibling)a.rj+=OJ(b);else b=a.Ca.previousSibling;var c=a.Ca.parentNode;a.Ca=b?b.nextSibling:c.firstChild;return a}function bK(a,b){this.Ca=a;this.rj=b}function aK(a){var b=a.Ca.parentNode;return new bK(b,mb(b.childNodes,a.Ca))}
function VJ(a,b,c){for(;1==a.nodeType;){var d=a.childNodes[b];if(!d&&!a.lastChild)break;d?(a=d.previousSibling,c&&a?b=OJ(a):(a=d,b=0)):(a=a.lastChild,b=OJ(a))}return new bK(a,b)}function cK(a){cI.call(this,a)}z(cK,cI);cK.prototype.Wu=function(a){var b=dI(this,j),c=dI(this,m),b=b&&c?yd(b,c):b||c;cK.g.Wu.call(this);if(a)return XJ(b,a);b&&(a=xI(bd(Rc(b))),(a=XJ(b,a))&&a.select())};

function dK(a,b){this.sk=this.id=a;this.Rc=k;this.qh={};this.ho={};for(var c in zJ)this.ho[c]=[];this.rx="";hc&&I("525.13")&&0>=cb(mc,"525.18")&&(this.bK="tr-webkit-workaround",this.rx="."+this.bK+">*{padding-right:1}");this.gl={};this.gl[eK]=1;this.gl[fK]=1;this.wx=new ZH(this.dM,gK,this);this.bD={};for(var d in hK)this.bD[hK[d]]=0;H&&(this.Tg=new ZH(this.Qh,iK,this));this.Vi=new Kf(this);this.J6=[];this.Ao=jK;this.ar=J(b||document);this.tj=this.ar.c(this.id);this.Eh=this.ar.va()}z(dK,xe);
dK.prototype.field=k;dK.prototype.tj=k;dK.prototype.Yh=hj("goog.editor.Field");var eK="change",fK="delayedchange",hK={j7:"cvc",CT:"load",MT:"unload",W6:"beforechange",fK:eK,t7:fK,Z6:"beforefocus",hK:"focus",eK:"blur",b7:"beforetab",g9:"selectionchange"},jK=0,kK=k;dK.prototype.bF=m;dK.prototype.c=n("field");function lK(a,b,c,d){var f=a.c();f&&iJ&&(f=f.ownerDocument);a.Vi.e(f,b,c,d,h)}
function mK(a,b){var c=b.rq();a.qh[c]&&bj(a.Yh,"Cannot register the same class of plugin twice.");a.qh[c]=b;for(var d in zJ)b[zJ[d]]&&a.ho[d].push(b);b.gR(a);a.Lc()&&b.enable(a)}var iK=15,gK=250;dK.prototype.rp=Df;var nK={46:j,8:j};G||(nK[9]=j);var oK={86:j,88:j};G&&(nK[229]=j);function pK(a){var b=!(a.ctrlKey||a.metaKey)&&a.keyCode in nK;return(a.ctrlKey||a.metaKey)&&a.keyCode in oK||b}dK.prototype.Vx=n("Eh");function qK(a,b){a.Ao=2;a.field=b;a.Rc=J(b);b.setAttribute("g_editable","true")}
dK.prototype.n=function(){(this.Ky()||this.Lc())&&cj(this.Yh,"Disposing a field that is in use.");this.tj&&this.execCommand("clearlorem");this.Ao=jK;for(var a in this.qh){var b=this.qh[a];b.XB()||b.disable(this)}this.Rc=this.field=k;this.Vi&&this.Vi.Rd();if(gc&&this.rp()){try{var c=this.Rc.va();c.removeEventListener("focus",this.wC,m);c.removeEventListener("blur",this.vC,m)}catch(d){}delete this.wC;delete this.vC}this.Tg&&this.Tg.stop();this.wx.stop();this.ar=k;this.Vi&&(this.Vi.o(),this.Vi=k);for(;a=
this.J6.pop();)a.o();kK==this.id&&(kK=k);for(var f in this.qh)a=this.qh[f],a.mU&&a.o();delete this.qh;dK.g.n.call(this)};var rK=["DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMCharacterDataModified"];
function sK(a,b){if(9==b.keyCode&&!a.dispatchEvent({type:"beforetab",shiftKey:b.shiftKey,altKey:b.altKey,ctrlKey:b.ctrlKey})||H&&b.metaKey&&(37==b.keyCode||39==b.keyCode))return b.preventDefault(),m;a.vE=b.charCode||(pK(b)?j:!(!H||b.ctrlKey||b.metaKey||H&&!b.charCode));a.vE&&a.Wp();return j}var tK={8:1,9:1,13:1,33:1,34:1,35:1,36:1,37:1,38:1,39:1,40:1,46:1},uK={65:j,86:j,88:j},vK={8:1,9:1,13:1,27:1,33:1,34:1,37:1,38:1,39:1,40:1};p=dK.prototype;
p.Jt=function(a,b){for(var c=this.ho[a],d=Jb(arguments,1),f=0;f<c.length;++f){var g=c[f];if((g.isEnabled(this)||AJ[a])&&g[zJ[a]].apply(g,d))return j}return m};p.XX=function(a,b){for(var c=this.ho[a],d=Jb(arguments,1),f=0;f<c.length;++f){var g=c[f];(g.isEnabled(this)||AJ[a])&&g[zJ[a]].apply(g,d)}};p.rA=function(a,b,c){for(var d=this.ho[a],f=Jb(arguments,1),g=0;g<d.length;++g){var i=d[g];if(i.isEnabled(this)||AJ[a])f[0]=i[zJ[a]].apply(i,f)}return f[0]};
p.dm=function(a){(H||sK(this,a))&&!this.Jt(1,a)&&oJ&&wK(this,a)};p.mX=function(a){if(H){if(!sK(this,a))return}else this.vE=j,this.Wp();!this.Jt(2,a)&&!oJ&&wK(this,a)};p.nX=function(a){!H&&(this.vE||pK(a))&&this.Qh();this.Jt(3,a);xK(this,"selectionchange")||(tK[a.keyCode]||(a.ctrlKey||a.metaKey)&&uK[a.keyCode])&&this.KR.start()};
function wK(a,b){if(!b.altKey){var c=ac?b.metaKey:b.ctrlKey;if(c||vK[b.keyCode]){var d=b.charCode||b.keyCode;17!=d&&a.Jt(5,b,String.fromCharCode(d).toLowerCase(),c)&&b.preventDefault()}}}p.execCommand=function(a,b){for(var c=arguments,d,f=this.ho[6],g=0;g<f.length;++g){var i=f[g];if(i.isEnabled(this)&&i.so(a)){d=i.execCommand.apply(i,c);break}}return d};p.queryCommandValue=function(a){var b=this.Lc()&&this.My;if(v(a))return this.oA(a,b);for(var c={},d=0;d<a.length;d++)c[a[d]]=this.oA(a[d],b);return c};
p.oA=function(a,b){for(var c=this.ho[7],d=0;d<c.length;++d){var f=c[d];if(f.isEnabled(this)&&f.so(a)&&(b||f.XB()))return f.queryCommandValue(a)}return b?k:m};p.aX=function(a,b){if(!xK(this,eK)){var c=b.lc;try{if(c.originalTarget.prefix||"scrollbar"==c.originalTarget.nodeName)return}catch(d){return}c.prevValue!=c.newValue&&a.call(this,c)}};p.HE=function(a){xK(this,eK)||(a=a.NM?a.lc:a,a.target.firebugIgnore||this.Tg.start())};p.cN=function(){G&&this.execCommand("clearlorem",j);H&&this.Ls();this.An()};
function yK(a){var b;return a.rp()&&(b=a.Rc)?(a=b.va())&&a.frameElement:k}function zK(a){return(a=a.Rc&&a.Rc.va())&&xI(a)}function CJ(a,b,c){if(!xK(a,"selectionchange")){var d=zK(a),d=d&&jI(d);a.My=!!d&&ud(a.c(),d);a.dispatchEvent("cvc");a.dispatchEvent({type:"selectionchange",s$:b&&b.type});a.Jt(4,b,c)}}p.wX=function(){var a=this.JR;this.JR=k;CJ(this,h,a)};p.Wp=function(){xK(this,"beforechange")||this.dispatchEvent("beforechange")};
function BJ(a,b){b&&(a.Tg&&$H(a.Tg),a.gl[eK]=1);AK(a);a.gl[fK]=1}function BK(a,b,c){!b&&a.Tg&&$H(a.Tg);a.gl[eK]=0;a.gl[fK]=0;b&&a.Qh();c&&a.dM()}function xK(a,b){return!!a.gl[b]||a.bD[b]&&500>=x()-a.bD[b]}function CK(a,b,c,d){BJ(a,j);try{b.call(d)}catch(f){}finally{a.Lc()&&(c?(a.gl[eK]=0,a.Qh(),a.gl[fK]=0):a.An())}}p.An=function(a){BK(this,j,a)};p.Qh=function(){xK(this,eK)||(this.Tg&&this.Tg.stop(),xK(this,fK)||this.wx.start())};p.dM=function(){xK(this,fK)||(this.wx.stop(),this.dispatchEvent(fK))};
function AK(a){a.Tg&&$H(a.Tg);$H(a.wx)}p.Ls=function(){this.bM();this.eM()};p.bM=function(){xK(this,"beforefocus")||(this.execCommand("clearlorem",j),this.dispatchEvent("beforefocus"))};p.eM=function(){if(!xK(this,"focus")){kK=this.id;this.My=j;this.dispatchEvent("focus");if(H){var a=this.c(),b=zK(this);if(b){var c=kI(b);0==lI(b)&&(!c||c==a||"BODY"==c.tagName)&&aJ(MJ(a),0).select()}}!hJ&&this.rp()&&this.Rc.va().parent.getSelection().removeAllRanges()}};
p.cM=function(){xK(this,"blur")||(kK==this.id&&(kK=k),this.My=m,this.dispatchEvent("blur"))};function DK(a){Jd(a.target,"A")&&a.preventDefault()}p.rX=function(a){kK||(kK=this.id);if(G){var b=a.target;b&&"A"==b.tagName&&a.ctrlKey&&this.ar.va().open(b.href)}};p.sX=function(a){CJ(this,a);G&&(this.JR=a.target,this.KR.start())};
function EK(a){if(a.queryCommandValue("usinglorem"))return"\u00a0";if(!a.Lc()){var b=a.tj;b||a.Yh.log(Ui,"Couldn't get the field element to read the contents",h);return b.innerHTML}var c=a.c(),b=c.cloneNode(m),c=c.innerHTML;G&&c.match(/^\s*<script/i)&&(c="\u00a0"+c);b.innerHTML=c;a.XX(11,b);return a.rA(10,b.innerHTML)}
p.ur=function(a,b,c,d){if(this.Ky())bj(this.Yh,"Can't set html while loading Trogedit");else{d&&this.execCommand("clearlorem");b&&a&&(b="<p>"+b+"</p>");c&&BJ(this,m);a=b;if(b=this.c()){if(this.rp()&&hc)for(var f=b.ownerDocument.getElementsByTagName("HEAD"),g=f.length-1;1<=g;--g)f[g].parentNode.removeChild(f[g])}else b=this.tj;b&&(f={},a=this.rA(8,a||"",f),Pe(b,f),b.innerHTML=a);d&&this.execCommand("updatelorem");this.Lc()&&(c?(H&&$H(this.Tg),BK(this)):this.An())}};p.Lc=function(){return 2==this.Ao};
p.Ky=function(){return 1==this.Ao};p.focus=function(){if(!fJ||hc)this.Rc.va().focus();else{if(gc)var a=this.Eh.pageXOffset,b=this.Eh.pageYOffset;this.c().focus();gc&&this.Eh.scrollTo(a,b)}};p.er=function(){var a=this.c();if(a){var b=JJ(a);a==b?aJ(a,0).select():UJ(b);CJ(this)}};
function FK(a){a.Ao=1;var b=a.tj;a.nodeName=b.nodeName;a.cssText=b.style.cssText;b.className+=" editable";if(b=a.tj){var b=b.innerHTML,c={},b=a.rA(8,b,c),d="padding:0;"+a.tj.style.cssText;ya(d,";")||(d+=";");d+="background-color:white;";G&&(d+="overflow:visible;");d=a.ar.l("IFRAME",{frameBorder:0,style:d});if(GK(a)){var f=w(a.XE,a,d,b,c);a.OD=M(d,"load",f,j)}f=a.tj;d.className=f.className;d.id=f.id;pd(d,f);GK(a)||a.XE(d,b,c)}}
p.fy=function(){if(G){var a=this.Rc.va();if(a=hI(a||window))if(a.empty)try{a.empty()}catch(b){}else try{a.removeAllRanges()}catch(c){}}kK!=this.id&&this.execCommand("updatelorem");gc&&this.rp()?(this.wC=w(this.Ls,this),this.vC=w(this.cM,this),a=this.Rc.va(),a.addEventListener("focus",this.wC,m),a.addEventListener("blur",this.vC,m)):(nJ?(lK(this,"focus",this.eM),lK(this,Xd,this.bM)):lK(this,"focus",this.Ls),lK(this,"blur",this.cM,H));H?gJ?this.Vi.e(this.c(),"DOMSubtreeModified",this.HE):(a=this.Rc.Ia(),
this.Vi.e(a,rK,this.HE,j),this.Vi.e(a,"DOMAttrModified",w(this.aX,this,this.HE),j)):(lK(this,["beforecut","beforepaste","drop","dragend"],this.Wp),lK(this,["cut","paste"],Ef(this.An)),lK(this,"drop",this.cN));lK(this,hc?"dragend":"dragdrop",this.cN);lK(this,"keydown",this.dm);lK(this,"keypress",this.mX);lK(this,"keyup",this.nX);this.KR=new ZH(this.wX,250,this);hc&&lK(this,"click",DK);lK(this,"mousedown",this.rX);lK(this,"mouseup",this.sX);a=this.c();this.bK&&C(a,this.bK);this.rx&&GK(this)&&nf(this.rx,
this.c());BK(this);this.Yh.info("Dispatching load "+this.id);this.dispatchEvent("load");for(var d in this.qh)this.qh[d].enable(this)};function GK(a){if(!u(a.kF)&&(a.kF=m,G&&a.rp())){for(var b=a.ar.va();b!=b.parent;)try{b=b.parent}catch(c){break}b=b.location;a.kF="https:"==b.protocol&&-1==b.search.indexOf("nocheckhttps")}return a.kF}
function HK(a,b,c,d){var f=Nd(J(a.tj)),d=new DJ(a.id,f,d);if(GK(a))b=zd(b).body,fJ&&(b.contentEditable=j),b.className="editable",b.setAttribute("g_editable",j),b.hideFocus=j,b.id=d.vM,Pe(b,d.LD),b.innerHTML=c;else{a=new EJ(a.rx);f=[];d.uC&&d.nJ&&f.push("<!DOCTYPE HTML>");f.push('<html style="background:none transparent;min-width:0;');d.uC&&f.push("height:",d.CM?"100%":"auto");f.push('">');f.push("<head><style>");a&&a.OL&&f.push(a.OL);H&&d.nJ&&f.push(" img {-moz-force-broken-image-icon: 1;}");f.push("</style></head>");
f.push('<body g_editable="true" hidefocus="true" ');fJ&&f.push("contentEditable ");f.push('class="editable ');f.push('" id="',d.vM,'" style="min-width:0;');H&&d.uC&&(f.push(";width:100%;border:0;margin:0;background:none transparent;",";height:",d.nJ?"100%":"auto"),d.CM?f.push(";overflow:auto"):f.push(";overflow-y:hidden;overflow-x:auto"));gc&&f.push(";outline:hidden");for(var g in d.LD)f.push(";"+g+":"+d.LD[g]);f.push('">',c,"</body></html>");c=f.join("");b=zd(b);b.open();b.write(c);b.close()}}
p.XE=function(a,b,c){IK(this);a.ZT="true";HK(this,a,b,c);qK(this,zd(a).body);fJ||(a=this.Rc.Ia(),a.designMode="on",lJ&&a.execCommand("styleWithCSS",m,m));this.fy()};function IK(a){a.OD&&(pe(a.OD),a.OD=k)};

function JK(a,b){dK.call(this,""+pa(this),b);this.tj=a;this.VD=new WH;this.BU=!(hc&&-1!=cc().indexOf("Safari/")&&-1==cc().indexOf("Chrome"))&&(!window.app||!window.app.info||"Chromely"==window.app.info.name)}z(JK,dK);p=JK.prototype;p.zq=m;p.kh=h;p.sG=0;p.kk=m;p.fW="+bold,+italic,+underline,+fontSize,+fontName,+foreColor,+backColor".split(",");p.Ef=k;p.qm=k;p.n=function(){JK.g.n.call(this);this.sG=0};
p.execCommand=function(a,b){var c;try{c=dK.prototype.execCommand.apply(this,Array.prototype.slice.call(arguments,0));if(this.Ef&&a in this.Ef){var d=b||this.queryCommandValue(a);this.Ef[a]=d;this.wb()&&(this.qm||(this.qm=Kc(this.VD.ue)),this.qm[a]=d)}var f=this.qh.PasteAndDropFilter;f&&f.execCommand("+filterOn")}catch(g){}return c};
p.queryCommandValue=function(a){var b={},b=JK.g.queryCommandValue.call(this,a);oa(b)&&(this.Ef||(this.Ef=Kc(this.VD.ue)),"+fontSize"in b&&!b["+fontSize"]&&(b["+fontSize"]=this.Ef["+fontSize"]||""),"+fontName"in b&&!b["+fontName"]&&(b["+fontName"]=this.Ef["+fontName"]||""),"+foreColor"in b&&!b["+foreColor"]&&(b["+foreColor"]=this.Ef["+foreColor"]||""),"+backColor"in b&&!b["+backColor"]&&(b["+backColor"]=this.Ef["+backColor"]||""));return b};
function KK(a,b){H?!a.zq&&document.activeElement==yK(a)?a.Ds(b):a.zq=j:a.Ds(b)}function LK(a){var b=a.queryCommandValue(a.fW);if(a.wb()&&a.qm)for(var c in a.qm)b[c]=a.qm[c];return b}function MK(a,b){if(b){R("font - applying:",b);var c="+backColor";t(b[c])&&a.queryCommandValue(c)!=b[c]&&a.execCommand(c,b[c]);for(c in b)"+backColor"!=c&&t(b[c])&&a.queryCommandValue(c)!=b[c]&&a.execCommand(c,b[c])}if(H&&a.wb(j)){var c=a.c(),d=c.ownerDocument.createElement("BR");c.appendChild(d)}}
p.l5=function(a){this.wb()&&this.Ds(a)};p.Ds=function(a){var b=a?this.qm:this.Ef;b||(b=this.Ef=Kc(this.VD.ue));if(b&&a){this.Ef=Kc(b);for(var b=Kc(b),a=["+bold","+italic","+underline"],c=a.length;c--;)b[a[c]]||(b[a[c]]=m)}MK(this,b)};p.ur=function(a,b,c,d){b||(b=k);JK.g.ur.call(this,a,b,c,d);this.er();!this.zq&&k===b&&KK(this)};p.fy=function(){JK.g.fy.call(this);var a=this.Rc.va();this.Vi.e(a,"resize",this.Qh).e(a,"mouseup",this.v1)};
p.Qh=function(){JK.g.Qh.call(this);var a=this.jg();this.sG!=a&&(this.sG=a,this.dispatchEvent(NK))};
p.jg=function(){var a=0,b=this.Rc;if(b){var b=b.va(),c=this.c();if(this.BU)if(G&&!I("10.0")){for(var a=0,d=c.children,f=0;d&&f<d.length;f++){var g=d[f],g=(g.offsetHeight||0)+(g.offsetTop||0);a<g&&(a=g)}a+=parseInt(c.style.paddingTop,10)||0;a+=parseInt(c.style.paddingBottom,10)||0}else a=this.c().offsetHeight,c=this.c().scrollHeight,a<c&&(a=c);a||(c=cd("div"),this.c().appendChild(c),a=ef(c,b).y+c.offsetHeight,c.parentNode.removeChild(c),a+=8)}return a};
p.uc=function(a){if(this.mD!=!a){this.mD=!a;var b=this.c();b&&(b.setAttribute("contenteditable",a),a?D(b,"disabled"):C(b,"disabled"),U("Edit field setEnabled - ",a))}};p.XE=function(a,b,c){IK(this);a.ZT="true";HK(this,a,b,c);a=zd(a).body;qK(this,a);this.fy();nf("body {word-break: normal; word-wrap: break-word} img { max-width: 50%; height: auto }.aim-emoji {width: 20px; height: 20px;}",a);this.ur(m,k)};
p.Ls=function(){JK.g.Ls.call(this);this.zq&&this.er();(this.zq||this.wb())&&N(this.Ds,0,this);this.zq=m};p.v1=function(){var a=JJ(this.c()),b=zK(this),c=b.isCollapsed(),b=b.ab();c&&"BODY"==b.tagName&&"BR"==a.tagName&&KK(this)};p.er=function(){(!H||document.activeElement==yK(this))&&JK.g.er.call(this)};var NK="resize";p=JK.prototype;p.ga=function(a){this.kk=m;var b=this.c();b&&(b=document.activeElement==b,this.ur(m,a.toString()),b&&this.focus())};p.w=function(){return EK(this)};p.wr=ca("kh");
p.Ts=function(){this.qm=this.Ef?Kc(this.Ef):k;this.mn();var a=EK(this),b=this.kh;qk("markup- markupToImText src: ",a);b&&60>b&&(b=60);b=new vk(b,"<html><body>","</body></html>");a=dl(a,b);b=new sk(b);qk("markup- markupToImText im: ",a);a=b.H4||"";this.Lm(a);this.kk=0!=a.length;this.Qh();return b.LX};p.Mx=n("kk");p.mn=function(){var a=this.c();a&&(this.Yj=a.innerHTML)};p.yR=function(){this.c()&&this.Yj&&(this.Lm(this.Yj),delete this.Yj)};
p.WX=function(a){var b=this.c();b&&(b.innerHTML=a||"",this.Qh(),this.focus(),this.er(),b.scrollTop=this.jg())};p.Lm=function(a){this.kk=m;CK(this,w(this.WX,this,a),j);a||(this.Ds(),N(this.l5,150,this))};p.Nn=function(){var a=this.c();return a?a.innerHTML:""};
p.wb=function(a){var b=j,c=this.c();if(c&&(b=c.getElementsByTagName("hr"),b=!b||0==b.length))if(b=c.getElementsByTagName("img"),b=!b||0==b.length)if(b=c.getElementsByTagName("br"),b=!b||(a?0:1)>=b.length)a=c.innerText||c.textContent||"",a=a.replace(/\r\n|\r|\n/g,""),b=!a||0==a.length;return b};p.focus=function(){var a=this.c();a&&a.focus()};

function OK(){}z(OK,bg);ga(OK);p=OK.prototype;p.sd=ba();p.qa=function(a,b){OK.g.qa.call(this,a,b);a.pa(b.value);return b};p.l=function(a){a.fp(m);a.gs&=-256;og(a,32,m);return a.D().l("textarea",{"class":this.Hf(a).join(" "),disabled:!a.isEnabled()},a.Yb()||"")};p.ae=function(a){return"TEXTAREA"==a.tagName};p.el=fa;p.kj=function(a){return a.isEnabled()};p.le=fa;p.ka=function(a,b,c){OK.g.ka.call(this,a,b,c);if((a=a.c())&&1==b)a.disabled=c};p.zf=fa;p.pa=function(a,b){a&&(a.value=b)};p.la=o("goog-textarea");

function PK(a,b,c){jg.call(this,a,b||OK.j(),c);this.fp(m);this.cp(j);a||this.Km("")}z(PK,jg);var QK=H||hc;p=PK.prototype;p.Gq=m;p.zA=m;p.ge=0;p.UF=0;p.$F=0;p.Il=k;p.kk=m;p.tN=m;p.pz=m;p.sI=m;p.rI=m;p.Yj=k;p.kh=h;p.wr=ca("kh");function RK(a){return a.Ju.top+a.Ju.bottom+a.bL.top+a.bL.bottom}function SK(a){var b=a.$F,c=a.c();b&&c&&a.pz&&(b-=RK(a));return b}function TK(a){var b=a.UF,c=a.c();b&&c&&a.pz&&(b-=RK(a));return b}p.ga=function(a){this.pa(""+a)};p.w=function(){return this.Nf?"":this.c().value};
p.Ts=function(){this.mn();var a=this.Nf?"":this.c().value,b="";if(this.kh&&a.length>this.kh){for(var c=this.kh;a.charAt(c).match(/\w/)&&20>this.kh-c;)c--;b=a.substring(c);a=a.substring(0,c)}this.pa(b);this.kk=0!=b.length;return a};p.focus=function(){var a=this.c();a&&a.focus()};p.Mx=n("kk");p.pa=function(a){this.kk=m;PK.g.pa.call(this,a);UK(this,0);this.mi()};p.uc=function(a){PK.g.uc.call(this,a);this.mD=!a;this.c()&&(this.c().disabled=!a)};p.mi=function(){this.c()&&this.Vn()};
p.K=function(a){PK.g.K.call(this,a);a.disabled=!!this.mD};
p.v=function(){PK.g.v.call(this);var a=this.c();a.setAttribute("tabindex",25);Pe(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.Ju=sf(a);this.bL=df(a);this.h().e(a,"scroll",this.Vn).e(a,"focus",this.Vn).e(a,"focus",this.sL).e(a,"blur",this.ev).e(a,"keyup",this.Vn).e(a,"mouseup",this.$O);this.mi();this.Il&&N(function(){window.document.activeElement!=this.c()&&(this.Nf=j,this.ga(this.Il),C(this.c(),
VK),this.dispatchEvent(WK))},0,this)};p.$=function(){PK.g.$.call(this);var a=this.c();this.h().M(a,"scroll",this.Vn).M(a,"focus",this.Vn).M(a,"focus",this.sL).M(a,"blur",this.ev).M(a,"keyup",this.Vn).M(a,"mouseup",this.$O)};
p.jg=function(){if(!this.tN){var a=this.c().cloneNode(m);Pe(a,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});this.D().Ia().body.appendChild(a);var b=a.scrollHeight;a.style.padding="10px";var c=a.scrollHeight;this.sI=c>b;a.style.borderWidth="10px";this.rI=a.scrollHeight>c;a.style.height="100px";100!=a.offsetHeight&&(this.pz=j);od(a);this.tN=j}var a=this.c(),b=this.c().scrollHeight,d=this.c(),c=d.offsetHeight-d.clientHeight;if(!this.sI)var f=
this.Ju,c=c-(f.top+f.bottom);this.rI||(d=df(d),c-=d.top+d.bottom);b+=0<c?c:0;this.pz?b-=RK(this):(this.sI||(c=this.Ju,b+=c.top+c.bottom),this.rI||(a=df(a),b+=a.top+a.bottom));return b};function UK(a,b){a.ge!=b&&(a.ge=b,a.zA=j,a.c().style.height=b+"px")}function XK(a){var b=a.c(),c=b.value.match(/\n/g)||[];b.rows=c.length+1;a.zA=j}
p.Vn=function(){if(!this.Gq){var a=m;this.Gq=j;var b=this.c();if(b.scrollHeight){var c=m,d=m,f=this.jg(),g=b.offsetHeight,i=SK(this),l=TK(this);i&&f<i?(UK(this,i),c=j):l&&f>l?(UK(this,l),b.style.overflowY="",d=j):g!=f?UK(this,f):this.ge||(this.ge=f);!c&&!d&&QK&&(a=j)}else XK(this);this.Gq=m;a&&(a=this.c(),this.Gq||(this.Gq=j,b=m,a.value||(a.value=" ",b=j),(d=a.scrollHeight)?(f=this.jg(),c=SK(this),g=TK(this),!(c&&f<=c)&&!(g&&f>=g)&&(g=this.Ju,a.style.paddingBottom=g.bottom+1+"px",this.jg()==f&&(a.style.paddingBottom=
g.bottom+d+"px",a.scrollTop=0,d=this.jg()-d,d>=c?UK(this,d):UK(this,c)),a.style.paddingBottom=g.bottom+"px")):XK(this),b&&(a.value=""),this.Gq=m));this.zA&&(this.zA=m,this.dispatchEvent(new YK(0,this.ge)))}};p.$O=function(){var a=this.c(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.ge&&(this.ge=this.$F=b)};p.pi=ca("Il");p.Nf=m;var VK="is-showing-default-text";p=PK.prototype;
p.sL=function(){this.Nf&&(this.ga(""),this.Nf=m,D(this.c(),VK),this.dispatchEvent(ZK))};p.ev=function(){this.Il&&!this.Nf&&Ca(this.w())&&(this.ga(this.Il),C(this.c(),VK),this.Nf=j,this.dispatchEvent(WK))};p.mn=function(){var a=this.w();a?this.Yj=a:delete this.Yj};p.yR=function(){Ca(this.Yj)||(this.c().value=this.Yj,delete this.Yj)};p.Lm=function(a){this.kk=m;if(a||!this.Nf)this.c().value=a||""};p.Nn=function(){return this.w()};p.wb=function(){return this.Nf||!this.c().value};
var WK="Textarea.DefaultTextDisplayed",ZK="Textarea.DefaultTextCleared";function YK(a,b){L.call(this,"Textarea.Resize");this.ge=b}z(YK,L);YK.prototype.jg=n("ge");

function $K(a,b){V.call(this,b);this.qc=a||"unknown_user"}z($K,V);p=$K.prototype;p.eD="";p.dq="";p.field=k;p.kh=h;p.v=function(){$K.g.v.call(this);this.RH();pn.gc(this,"aim.ui.PostingForm Entering Document")};p.$=function(){$K.g.$.call(this);pn.gc(this,"aim.ui.PostingForm Exiting Document")};
p.RH=function(){this.field=new PK("",h,this.D());this.field.pi(this.eD);this.O(this.field);this.field.T(K("inputs",this.c()));u(this.disabled)&&this.field.uc(!this.disabled);var a=this.field;a.UF=200;a.mi();this.field.wr(this.kh);this.h().e(aL(this),"keydown",this.Wn).e(aL(this),"keyup",this.lg).e(aL(this),"focus",this.Pf).e(aL(this),"blur",this.tm).e(this.field,"Textarea.Resize",this.ed)};p.wr=function(a){this.kh=a;this.field&&this.field.wr(a)};
p.n=function(){if(this.field){try{this.field.o()}catch(a){}this.field=k}$K.g.n.call(this)};p.ep=function(a){this.field&&this.field.uc(!a);this.disabled=a};p.Wn=function(a){13==a.keyCode&&(a.altKey||(a.ctrlKey||!a.shiftKey)&&this.Zh(a))};p.lg=function(){this.dq!=this.Nn()&&(this.dq=this.Nn(),this.dispatchEvent(bL))};p.iB=function(a){this.dispatchEvent(new cL(a))};p.Zh=function(a){a&&(a.stopPropagation(),a.preventDefault());a=this.field?this.field.Ts():"";Ba(a)||this.iB(a)};
p.ed=function(){this.G&&this.dispatchEvent(new dL(Math.max(this.c().offsetHeight,45)))};p.w=function(){var a="";this.field&&(a=this.field.w());return a};p.Nn=function(){var a="";this.field&&(a=this.field.Nn());return a};p.wb=function(){var a=j;this.field&&(a=this.field.wb());return a};p.Ts=function(){var a="";this.field&&(a=this.field.Ts());return a};p.Mx=function(){var a=m;this.field&&(a=this.field.Mx());return a};p.ga=function(a){this.field&&this.field.ga(a)};p.Lm=function(a){this.field&&this.field.Lm(a)};
p.mn=function(){this.field&&this.field.mn()};p.clear=function(){this.ga("");this.mn()};p.pi=ca("eD");p.focus=function(){this.disabled||N(function(){var a=aL(this);a&&a.focus()},1,this)};p.blur=function(){aL(this)&&aL(this).blur()};p.Se=m;function eL(a){if(a.field&&a.field instanceof JK&&(a=a.field.Rc))a=a.va(),pn.IM(a)}p.Pf=function(){this.dispatchEvent(fL);this.Se=j;eL(this);pn.gc(this,"aim.ui.PostingForm on focus for "+this.qc)};
p.tm=function(){this.dispatchEvent(gL);this.Se=m;eL(this);pn.gc(this,"aim.ui.PostingForm on blur for "+this.qc)};p.Jy=function(){return!!this.Se};p.Yd=function(){this.focus()};function aL(a){return a.field?a.field.c():k}p.fe=n("field");var fL="PostingForm.Focus",gL="PostingForm.Blur",bL="PostingForm.Changed";function cL(a){L.call(this,"PostingForm.Submit");this.Gb=a}z(cL,L);cL.prototype.Ma=n("Gb");function dL(a){L.call(this,"PostingForm.Resized");this.ge=a}z(dL,L);dL.prototype.jg=n("ge");

function hL(){$K.call(this,"commons_");this.pi("What\u2019s up?")}z(hL,$K);p=hL.prototype;p.Vc=[];p.l=function(){hL.g.l.call(this);this.lU=gk(iL,{he:r._aim_user_.Zb()});this.c().insertBefore(this.lU,this.D().P("inputs",this.c()))};p.K=function(a){hL.g.K.call(this,a);C(a,"commons-status-form");this.WQ=this.D().P("commons-posting-form-bar",this.c());this.hA=this.D().P("commons-posting-form-toggles",this.c());this.Rk=this.D().P("posting-button",this.c());this.PE()};
p.v=function(){hL.g.v.call(this);var a=this.fe();this.h().e(this.Rk,"click",this.Zh).e(a,ZK,this.$I).e(this.c(),"mouseout",this.NY).e(this.c(),"mouseover",this.$I).e(this.c(),"mousedown",this.$I);this.Sr()};p.sy=k;p.hx=function(){this.sy&&(clearTimeout(this.sy),this.sy=k)};p.J5=function(a){this.hx();this.fe().Nf&&(this.sy=setTimeout(w(this.PE,this,a),250))};p.NY=function(){Ca(this.w())&&this.PE()};p.$I=function(){this.hx();O(this.WQ,j);this.dispatchEvent(jL)};
p.PE=function(){this.hx();O(this.WQ,m);this.dispatchEvent(jL)};p.lg=function(a){hL.g.lg.call(this,a);this.Sr()};
p.Sr=function(){var a=Vc("has-max-status-length",this.c());if(a){var b=this.fe(),c=!b||b.Nf?"":b.c().value,b=0;Ca(c)||(b=ps(c).length);for(var c=m,d=0;d<a.length;d++){var f=a[d],g=F(f,"active"),f=K("commons-posting-form-count",f);g?(g=parseInt(f.getAttribute("maxStatusLength"),10)-b,f.innerHTML=g,0>g?(C(f,"negative-count"),c=j):D(f,"negative-count")):f.innerHTML=""}(this.Rk.disabled=c)?C(this.Rk,"disabled"):D(this.Rk,"disabled")}};
p.clear=function(){hL.g.clear.call(this);var a=this.fe();a&&a.ev();this.blur()};
p.hp=function(a){this.Vc=a;var b="",c=(Vl("status-crosspost-services")||"").split(",");A(a,function(a){if("facebook"==a.service||"twitter"==a.service){if(!b){var f=b,g;g=new W;g.append('<div class="commons-posting-form-post-to">Post to:</div>');g=g.toString();b=f+g}g=xb(c,a.service);f=b;var i=new W;i.append('<div class="commons-posting-form-toggle ',X(a.service),g?" active":" inactive",a.maxStatusLength?" has-max-status-length":"",'" data-service="',X(a.service),'"><a role="button" class="commons-posting-form-icon"></a>',
a.maxStatusLength?'<div class="commons-posting-form-count" maxStatusLength="'+X(a.maxStatusLength)+'"></div>':"","</div>");a=i.toString();b=f+a}});this.hA.innerHTML=b;A(Vc("commons-posting-form-toggle",this.hA),this.SE,this);this.Sr()};p.SE=function(a){var b=K("commons-posting-form-icon",a);this.h().e(b,"click",w(this.vH,this,a)).e(b,"blur",this.J5).e(b,"focus",this.hx)};p.vH=function(a){Vb(a,"active");Vb(a,"inactive")};
p.zS=function(){var a=Vc("commons-posting-form-toggle",this.hA),b=[];a&&0<a.length&&this.Vc&&0<this.Vc.length&&A(a,function(a){if(F(a,"active")){var d=a.getAttribute("data-service");rb(this.Vc,function(a){return a.service==d})&&b.push(d)}},this);Wl("status-crosspost-services",b.join(","));this.Sr()};p.pE=function(){var a=[];A(this.Vc,function(b){var c=K(b.service,this.hA);c&&F(c,"active")&&a.push(b)},this);return a};p.iB=function(a){this.dispatchEvent(new kL(a,this.pE()));this.clear();this.Sr()};
var jL="aim.commons.ui.CommonsForm.RESIZE";function kL(a,b){L.call(this,"PostingForm.Submit");this.Gb=a;this.Vc=b||[]}z(kL,L);kL.prototype.Ma=n("Gb");hL.prototype.l=function(){hL.g.l.call(this);Gl(this,lL)};

function mL(a,b){L.call(this,"aim.commons.ui.commonsUi.EventType.REPLY_STATUS");this.r=a.C();this.K4=b}z(mL,L);mL.prototype.C=n("r");mL.prototype.Ma=n("K4");function nL(a){L.call(this,"aim.commons.ui.commonsUi.EventType.DELETE_STATUS");this.wn=a}z(nL,L);nL.prototype.lb=function(){return this.wn.lb()};

function oL(){Il.call(this,"aim-commons-FollowingController-"+x())}z(oL,Il);oL.prototype.I3=function(a,b,c){kr(c)?(R("Unfollow request was successful."),c=pL(),qL(c,a),rL(c)):R("Unfollow request failed.",c);b()};
oL.prototype.z2=function(a,b){if(kr(b)){S("Saved the list of followings.",a);var c=k;try{c=pL()}catch(d){c=new sL([])}A(a,function(a){a=a[0];0<=c.$n.indexOf(a)||0<=c.$n.indexOf(a)||c.$n.push(a)});rL(c);S("checking onSaveSuccessCallback_",this.qH);this.qH&&this.qH()}else S("Failed to save the list of followings.",b),this.tQ&&this.tQ()};function pL(){var a=Ll.j().get("other","aim.updates.following");a||(a=new sL([]));return a}function rL(a){Ll.j().add("other","aim.updates.following",a)}
function sL(a){this.$n=Gb(a);Kb(this.$n)}function qL(a,b){Eb(a.$n,function(a){return a==b},a)}sL.prototype.contains=function(a){return 0<=this.$n.indexOf(a.m())};sL.prototype.LS=function(){return Ol(this.$n)};function tL(a,b){this.r=a;tg.call(this,uL(this),b);this.rc("follow-button pill");vL(this);this.h().e(this,"action",this.dW)}z(tL,tg);tL.prototype.Lp=k;function uL(a){return wL(a)?"Unfollow":"Follow"}function vL(a){wL(a)?lg(a,"not-following submit pill"):a.rc("not-following submit pill")}
function wL(a){var b=Ll.j().get("other","aim.updates.following");return b?b.contains(a.r):m}tL.prototype.dW=function(){if(wL(this)){var a=this.Lp=new oL,b=this.r.m(),c=w(this.J3,this);Fs(Y.j(),b,w(a.I3,a,b,c))}else if(this.Lp=new oL,b=[this.r.m()],c=w(this.s0,this),a=this.Lp,b=[b],0<b.length){a.qH=c;a.tQ=h;var c=Y.j(),d=r._aim_user_.m(),a=w(a.z2,a,b);$(c,"lifestream","commonsFollow",{s:d,t:b.join(",")},a)}};tL.prototype.s0=function(){this.PA(uL(this));vL(this)};
tL.prototype.J3=function(){this.PA(uL(this));vL(this)};


function xL(a){L.call(this,"picnics.InitializeIm");this.r=a}z(xL,L);xL.prototype.C=n("r");function yL(a){L.call(this,"picnics.CreateIm");this.r=a}z(yL,L);yL.prototype.C=n("r");function zL(a){L.call(this,"picnics.StartIm");this.r=a}z(zL,L);zL.prototype.C=n("r");function AL(a){L.call(this,"picnics.Leave");this.co=a}z(AL,L);AL.prototype.dh=n("co");function BL(a){L.call(this,"picnics.RemoveUser");this.r=a}z(BL,L);BL.prototype.C=n("r");function CL(a){L.call(this,"picnics.InviteAccepted");this.ng=a}
z(CL,L);function DL(a){L.call(this,"picnics.InviteDeclined");this.ng=a}z(DL,L);

function EL(a,b){this.type=a;this.currentTarget=this.target=b}Nc(EL.prototype,L.prototype);function FL(a,b,c,d,f){a=new EL(a,b);a.button=c||0;c=d;if(!c&&a.target&&1==a.target.nodeType)try{c=ff(a.target)}catch(g){}a.clientX=c?c.x:0;a.clientY=c?c.y:0;a.screenX=a.clientX;a.screenY=a.clientY;f&&Nc(a,f);a.$o=j;f=[];for(c=a.target;c;c=c.parentNode)f.push(c);for(c=f.length-1;0<=c&&!a.Sk;c--)te(f[c],a.type,j,new be(a,f[c]));for(c=0;c<f.length&&!a.Sk;c++)te(f[c],a.type,m,new be(a,f[c]));return a.$o};

va("goog.testing.events.fireClickSequence",function(a,b,c,d){var f;f=b||0;f=!Sd?ce[f]:f;f=FL("mousedown",a,f,c,d);var g;g=b||0;g=!Sd?ce[g]:g;g=FL("mouseup",a,g,c,d);return!!(f&g&FL("click",a,b,c,d))});

function GL(a,b){V.call(this);this.hd=a;this.nF=b||m;this.pb=this.nz=this.$K=k;this.Aa=new Eo(new Date(a.ML))}z(GL,V);p=GL.prototype;p.l=function(){GL.g.l.call(this);var a={he:this.hd.C().Zb(),name:this.hd.C().R(),id:"updates_"+this.hd.C().m(),status:Ma(this.hd.lb()),timestamp:this.hd.ML};Gl(this,HL,a);this.Aa.qa(K("when",this.c()))};
p.K=function(a){GL.g.K.call(this,a);this.pb=K("content",a);this.bs=K("actions",a);this.nF&&C(this.c(),"new");r._aim_user_.Kc(this.hd.r)&&u(this.hd.z())?(C(this.c(),"written-by-me"),this.wn=new IL(this,this.hd),this.O(this.wn,j)):(this.ji=new JL,this.O(this.ji),this.ji.T(this.bs),this.h().e(this.ji,"action",this.f6),this.jq=new tL(this.hd.C(),Wg.j()),this.O(this.jq),this.jq.T(this.bs));r._aim_user_.Kc(this.hd.r)||(this.$K=K("avatar",a),this.h().e(this.$K,"click",this.rS),this.nz=K("who",a),this.h().e(this.nz,
"click",this.rS))};p.n=function(){this.ji&&(this.removeChild(this.ji),this.ji.o(),this.ji=k);this.jq&&(this.removeChild(this.jq),this.jq.o(),this.jq=k);this.wn&&(this.removeChild(this.wn),this.wn.o(),this.wn=k);this.Aa&&this.Aa.o();this.uA();GL.g.n.call(this)};p.uA=function(){if(this.G){var a=K("reply-status",this.bs);t(a)&&Pe(a,"visibility","inherit");this.Xk&&(this.removeChild(this.Xk,j),this.Xk.o(),this.Xk=k);this.dg&&(this.removeChild(this.dg,j),this.dg.o(),this.dg=k);this.ji&&this.ji.pa("Reply in chat")}};
p.f6=function(){if(this.Xk)this.uA();else{this.Xk=new KL;this.O(this.Xk);this.Xk.T(this.pb);this.Xk.Yd();this.dg=new tg("Cancel",Wg.j());this.dg.rc("cancelButton");this.O(this.dg);this.dg.T(this.bs);var a=K("reply-status",this.bs);t(a)&&Pe(a,"visibility","hidden");this.ji&&this.ji.pa("Reply in chat");Mf(Mf(this.h(),this.Xk,"PostingForm.Submit",this.Z4),this.dg,"action",this.uA)}};p.Z4=function(a){a.stopPropagation();this.dispatchEvent(new mL(this.hd,a.Ma()));this.uA()};p.rS=function(){this.dispatchEvent(new zL(this.hd.C()))};
p.lb=n("hd");function JL(){tg.call(this,"Reply in chat",Wg.j());this.rc("reply-status button-light")}z(JL,tg);function KL(){hL.call(this);this.pi("");this.Eg=LL}z(KL,hL);KL.prototype.K=function(a){KL.g.K.call(this,a);C(a,"reply-form")};function IL(a,b){tg.call(this,"");this.hd=b;this.P5=a;this.rc("delete-status button-light")}z(IL,tg);IL.prototype.v=function(){IL.g.v.call(this);this.h().e(this,"action",this.SU)};IL.prototype.lb=n("hd");
IL.prototype.SU=function(){var a;a=this.lb();a={he:a.C().Zb(),status:a.lb(),name:a.C().R()};this.Pi=new gn("Yes, delete this forever",ML,a);$m(this.Pi,"commons-confirm-delete-status");this.Pi.L(j);this.h().e(this.Pi,Im,this.K_)};IL.prototype.K_=function(a){"no"!=a.key&&(S("Attempting to delete a status from the commons.",this.P5.lb()),this.dispatchEvent(new nL(this)))};

function NL(){uw.call(this,gk(OL));this.L(m);qm(this);this.dp(j);this.Zp=J();this.K(this.c());document.body.appendChild(this.c())}z(NL,uw);p=NL.prototype;p.r=k;p.Mq=j;p.K=function(a){this.SJ=this.Zp.P("user",a);this.cF()};p.n=function(){re(r._aim_session_,"aim.messaging.PopUserCard");re(r._aim_session_,"aim.messaging.RemoveUserCard");re(this.c(),"mouseover");re(this.c(),"mouseout");od(this.c());this.tu&&ne(this.r,"aim.User.BigIcon",this.tu);NL.g.n.call(this)};
p.cF=function(){M(r._aim_session_,"aim.messaging.PopUserCard",w(this.o4,this));M(r._aim_session_,"aim.messaging.RemoveUserCard",w(this.MO,this));M(this.c(),"mouseover",w(this.RR,this,m));M(this.c(),"mouseout",w(this.rY,this))};p.RR=ca("Mq");p.Ho=function(a){NL.g.Ho.call(this,a)};p.MO=function(){this.Mq&&this.L(m)};p.rY=function(){this.RR(j);N(this.MO,1E3,this)};p.Fz=function(){this.L(m);Oq.j();Rx(new Sx(this.r))};
p.o4=function(a){var b=a.E5,c=Rc(b);c!=Rc(this.c())&&c.body.appendChild(this.c());a=a.C();this.tu?ne(this.r,"aim.User.BigIcon",this.tu):this.tu=w(this.PZ,this);if(this.r=a){if(M(this.r,"aim.User.BigIcon",this.tu),!this.isVisible()){(a=K("edit-contact",this.c()))&&ne(a,"click",w(this.Fz,this));kd(this.SJ);this.SJ.appendChild(gk(PL,this.r.Sa(j)));(a=K("edit-contact",this.c()))&&M(a,"click",w(this.Fz,this));a=this.Zp;c=this.r;if(c.w("lifestreamStatusData",k)||c.lb()&&Lu(c))var d=Lu(c),c=new ev({id:c.w("lifestreamStatusData.activityId",
k),title:c.lb(),lsEntryTime:0<d?d/1E3:0,user:{aimId:c.m()}});else c=k;c&&(a=a.P("updates",this.SJ),c=new GL(c),kd(a),c.T(a));vw(this,0);this.vd(new Hf(b,1));this.L(j);pt(au)}}else S("Could not generate author hover card")};p.PZ=function(){var a=K("big-icon",this.c());a&&(a.src=Eu(this.r))};function QL(a,b){this.r=a;this.E5=b;L.call(this,"aim.messaging.PopUserCard")}z(QL,L);QL.prototype.C=n("r");

function RL(a,b,c,d,f,g,i){this.r=a;this.ty=k;this.wJ=m;this.Jl=0;var a=SL(this),l=k;this.r.aa()&&(l="Edit Group Chat Name",this.ty="Change group icon");Wz.call(this,this.r.Zb(),this.r.R(),a,l,b,c,d,f,g,i,this.r.aa())}z(RL,Wz);p=RL.prototype;p.n=function(){this.Ti();RL.g.n.call(this)};
p.v=function(){RL.g.v.call(this);var a=this.c(),b=K("panel-header-icon",a),c=K("panel-header-menu-button",a);this.h().e(a,"click",this.Kb).e(a,"keyup",this.Qf).e(b,"mouseover",this.HF,j).e(a,"mouseout",this.LO);c&&this.h().e(c,"mouseup",this.XP,j)};p.$=function(){var a=this.c(),b=K("panel-header-icon",a),c=K("panel-header-menu-button",a);this.h().M(b,"mouseover",this.HF,j);a&&this.h().M(a,"click",this.Kb).M(a,"mouseout",this.LO);c&&this.h().M(c,"mouseup",this.XP,j)};
p.update=function(){RL.g.update.call(this);var a=K("header-title-name",this.c());this.h().e(a,"mouseover",this.HF,j);if(this.r.aa()){a="";this.ty&&(a=this.ty);var b=K("panel-header-icon",this.c());b&&b.setAttribute("title",a);(b=K("panel-header-icon-overlay",this.c()))&&b.setAttribute("title",a)}};p.Mq=m;p.XP=function(a){a.stopPropagation()};p.LO=function(){this.Mq=j;this.Jl&&(Be(this.Jl),this.Jl=0);N(function(){this.Mq&&TL(this)},1500,this)};
function TL(a){a.Jl&&(Be(a.Jl),a.Jl=0);r._aim_session_.dispatchEvent("aim.messaging.RemoveUserCard")}p.HF=function(a){if(!this.r.aa()){if(a&&a.target&&((a=a.target)&&F(a,"panel-header-menu")||F(a,"panel-header-button")||F(a,"panel-header-favorite")||F(a,"panel-header-video"))){TL(this);return}this.Mq=m;this.Jl=N(function(){r._aim_session_.dispatchEvent(new QL(this.r,this.c()));this.Jl=0},500,this)}};p.ep=function(a){this.G&&(a?C(this.c(),"disabled"):D(this.c(),"disabled"))};
function UL(a){return K("view-members",a.c())}function VL(a){return K("panel-header-edit",a.c())}p.Kb=function(a){!F(this.c(),"disabled")&&a.target&&(a=Pb(a.target),this.r.aa()&&(xb(a,"header-title-name")?WL(this):xb(a,"view-members")?XL(this):xb(a,"panel-header-icon-overlay")&&this.dispatchEvent(new ly(this.r.z()))))};function XL(a){a.dispatchEvent(new ky(a.r.z()));pt(vt)}
function WL(a){a.Ex(a.getHeader());a.h().e(K("save-button",a.c()),"click",a.Z_).e(VL(a),"keyup",a.Qf).e(VL(a),["input","propertychange"],a.Ok)}p.Z_=function(){YL(this)};p.Ok=function(){this.wJ||this.kI()};p.kI=function(){var a=VL(this),b=a.value.replace(/[\u0080-\uffff]/g,"");a.value!=b&&(a.value=b)};p.Qf=function(a){var b=a.target;13==a.keyCode&&b==VL(this)?YL(this):(40==a.keyCode||32==a.keyCode)&&b==UL(this)&&XL(this)};
function YL(a){var b=Ga(a.w());if(3>b.length)b=new Zm(J(a.c())),b.zb("Error"),b.pa(yy()||""),Gm(b,Wm()),b.L(j);else{var c=Y.j(),d=a.r.z(),a=w(a.T2,a),d={imserv:d};d.friendly=b;$(c,"imserv","setSettings",d,a)}}p.pP=function(a){this.Ti();a.stopPropagation()};p.T2=function(a){if(kr(a))this.al(this.Ti());else{var b,a=a.w("statusDetailCode");30==a?b=ZL():33==a&&(b=$L());b=b||"Unable to change group chat name.";a=new Zm(this.D());a.zb("Error");a.pa(b);Gm(a,Wm());a.L(j)}};
p.Ud=function(a,b){this.r.aa()&&(b&&(this.ty=b),RL.g.Ud.call(this,a))};function SL(a){var b="";a.r.aa()?(a=jx(a.r.lh)||a.r.w("memberCounts",0),b="",1==a?b=a+" member":1<a&&(b=a+" members"),a=b,b=new W,b.append('<a href="#" class="view-members" title="view members" tabindex="25" role="button" aria-label="List of members" aria-haspopup="true">',X(a),"</a>"),b=b.toString()):b=Fu(a.r);return b}function aM(a){if(a.G&&a.r.aa()){var b=SL(a);a.hB=b;a.update()}};

function bM(a,b,c,d){V.call(this,d);this.AK=a;this.iR=b;this.bI=c}z(bM,V);bM.prototype.l=function(){Gl(this,cM,{rV:this.bI})};bM.prototype.v=function(){bM.g.v.call(this);var a=this.h();this.AK&&a.e(K("accept",this.c()),"click",this.AK);this.iR&&a.e(K("reject",this.c()),"click",this.iR);this.bI&&a.e(K("report",this.c()),"click",this.bI);N(function(){var a=K("accept",this.c());a&&a.focus()},500,this)};

function dM(a,b,c){this.ba=c||(a?J(Sc(a)):J());uw.call(this,this.ba.l("div",{style:"position:absolute;display:none;"}));this.aD=new zc(1,1);this.kb=new Hi;a&&this.Fh(a);b!=k&&Ad(this.c(),b)}z(dM,uw);var eM=[];p=dM.prototype;p.Af=k;p.className="goog-tooltip";p.eS=500;p.FX=0;p.D=n("ba");p.Fh=function(a){a=Sc(a);this.kb.add(a);M(a,"mouseover",this.em,m,this);M(a,"mouseout",this.gy,m,this);M(a,"mousemove",this.jN,m,this);M(a,"focus",this.rk,m,this);M(a,"blur",this.gy,m,this)};
p.detach=function(a){if(a)a=Sc(a),fM(this,a),this.kb.remove(a);else{for(var b=this.kb.dd(),c=0;a=b[c];c++)fM(this,a);this.kb.clear()}};function fM(a,b){ne(b,"mouseover",a.em,m,a);ne(b,"mouseout",a.gy,m,a);ne(b,"mousemove",a.jN,m,a);ne(b,"focus",a.rk,m,a);ne(b,"blur",a.gy,m,a)}p.ur=function(a){this.c().innerHTML=a};p.FI=function(a){var b=this.c();b&&od(b);dM.g.FI.call(this,a);a&&(b=this.ba.Ia().body,b.insertBefore(a,b.lastChild))};p.Ma=function(){return Gd(this.c())};
p.xa=function(){return this.Pm?this.isVisible()?4:1:this.Ct?3:this.isVisible()?2:0};p.wG=function(){if(!om.prototype.wG.call(this))return m;if(this.anchor)for(var a,b=0;a=eM[b];b++)ud(a.c(),this.anchor)||a.L(m);zb(eM,this);a=this.c();a.className=this.className;gM(this);M(a,"mouseover",this.oN,m,this);M(a,"mouseout",this.nN,m,this);hM(this);return j};
p.Ho=function(){Cb(eM,this);for(var a=this.c(),b,c=0;b=eM[c];c++)b.anchor&&ud(a,b.anchor)&&b.L(m);this.UQ&&iM(this.UQ);ne(a,"mouseover",this.oN,m,this);ne(a,"mouseout",this.nN,m,this);this.anchor=h;0==this.xa()&&(this.FA=m);om.prototype.Ho.call(this)};p.OO=function(a,b){this.anchor==a&&this.kb.contains(this.anchor)&&(this.FA||!this.u$?(this.L(m),this.isVisible()||(this.anchor=a,this.vd(b||jM(this,0)),this.L(j))):this.anchor=h);this.Pm=h};p.Kn=n("kb");
p.MY=function(a){this.Ct=h;a==this.anchor&&(this.Af==k||this.Af!=this.c()&&!this.kb.contains(this.Af))&&(!this.oL||!this.oL.Af)&&this.L(m)};function kM(a,b){var c=Od(a.ba);a.aD.x=b.clientX+c.x;a.aD.y=b.clientY+c.y}p.em=function(a){var b=lM(this,a.target);this.Af=b;gM(this);b!=this.anchor&&(this.anchor=b,this.Pm||(this.Pm=N(w(this.OO,this,b,h),this.eS)),mM(this),kM(this,a))};function lM(a,b){try{for(;b&&!a.kb.contains(b);)b=b.parentNode;return b}catch(c){return k}}
p.jN=function(a){kM(this,a);this.FA=j};p.rk=function(a){this.Af=a=lM(this,a.target);this.FA=j;if(this.anchor!=a){this.anchor=a;var b=jM(this,1);gM(this);this.Pm||(this.Pm=N(w(this.OO,this,a,b),this.eS));mM(this)}};function jM(a,b){if(0==b){var c=a.aD.Hb();return new nM(c)}return new oM(a.Af)}function mM(a){if(a.anchor)for(var b,c=0;b=eM[c];c++)ud(b.c(),a.anchor)&&(b.oL=a,a.UQ=b)}
p.gy=function(a){var b=lM(this,a.target),c=lM(this,a.relatedTarget);b!=c&&(b==this.Af&&(this.Af=k),hM(this),this.FA=m,this.isVisible()&&(!a.relatedTarget||!ud(this.c(),a.relatedTarget))?iM(this):this.anchor=h)};p.oN=function(){var a=this.c();this.Af!=a&&(gM(this),this.Af=a)};p.nN=function(a){var b=this.c();if(this.Af==b&&(!a.relatedTarget||!ud(b,a.relatedTarget)))this.Af=k,iM(this)};function hM(a){a.Pm&&(Be(a.Pm),a.Pm=h)}function iM(a){2==a.xa()&&(a.Ct=N(w(a.MY,a,a.anchor),a.FX))}
function gM(a){a.Ct&&(Be(a.Ct),a.Ct=h)}p.n=function(){this.L(m);hM(this);this.detach();this.c()&&od(this.c());this.Af=k;delete this.ba;dM.g.n.call(this)};function nM(a,b){tw.call(this,a,b)}z(nM,tw);nM.prototype.Xc=function(a,b,c){b=Xe(a);b=$e(b);c=c?new Ne(c.top+10,c.right,c.bottom,c.left+10):new Ne(10,0,0,10);Af(this.Hl,a,4,c,b,9)&496&&Af(this.Hl,a,4,c,b,5)};function oM(a){Gf.call(this,a,3)}z(oM,Gf);
oM.prototype.Xc=function(a,b,c){var d=new zc(10,0);zf(this.element,this.zs,a,b,d,c,9)&496&&zf(this.element,2,a,1,d,c,5)};








function pM(a,b,c){V.call(this,b);this.Df=a||""+101010101*Math.random();this.Nj=qM;Nc(this.Nj,c||{});this.Ii=new rM;this.Ww=0;this.Uc=k}z(pM,V);p=pM.prototype;p.Bk=j;p.tF=h;p.TB=k;p.VH=k;p.dI=k;p.op=k;p.hc=k;p.jh=m;p.XN=m;p.l=function(){pM.g.l.call(this);Gl(this,sM,this.WM());this.O(this.Ii,j)};p.K=function(a){pM.g.K.call(this,a);C(a,"deactivated");this.Bk&&C(a,"loading");var a=k,b=tM(this);b&&Gd(b).length>=uM&&(a=new vM(b));this.yf=a};p.n=function(){pM.g.n.call(this);this.hc&&(this.hc.o(),delete this.hc)};
p.v=function(){pM.g.v.call(this);this.h().e(this,"aim.ui.OBJECT_DROPPED",this.BP);wM(this);xM(this);var a=tM(this);if(a){var b=Tc("p",h,a)[0];if(b)for(a=jf(a).height;jf(b).height>a;){var c=Gd(b);Ad(b,c.replace(/\W*\s(\S)*$/,"..."))}}};function xM(a,b){if(a.G){u(b)&&(R("Updating box count to "+b+" for "+a.Df),a.Ww=b);var c=K("box-count",a.c());Ad(c,""+a.Ww);O(c,0!=a.Ww)}}function yM(a){a.jh||(R("Incrementing box count"),xM(a,a.Ww+1))}p.BP=ba();p.Kc=function(a){return this.Df==a.Df};
function zM(a){return a.Bk}p.Ge=function(a){this.Bk=a;!a&&this.c()&&D(this.c(),"loading")};function wM(a,b,c,d,f){c&&(a.TB=c);d&&(a.VH=d);f&&(a.dI=f);u(b)&&(a.tF=b);u(a.tF)&&a.c()&&(a.tF?a.op&&(a.op.o(),a.op=k):a.op||(a.op=new bM(a.TB,a.VH,a.dI),a.O(a.op),Wf(a.op,K("messaging-history",a.Ii.c()))),a.TB=k,a.VH=k,a.dI=k)}var qM={he:P("img/aim/default_icon.jpg"),title:"Loading...",Sv:"",La:""};
function AM(a,b,c){switch(b){case "iconUrl":a.Nj.he=c;if(b=BM(a))b.src=a.Nj.he;break;case "title":a.Nj.title=c;if(b=a.D().P("friendly",CM(a)))b.innerHTML=a.Nj.title;break;case "subtitle":a.Nj.Sv=c;if(b=tM(a))b.innerHTML=a.Nj.Sv;break;case "tooltip":a.Nj.La=c;var c=a.Nj.La,d=a.D().P("name-info",CM(a)),b=BM(a);Ca(c)||(d&&(d.title=c),b&&(b.title=c))}}p=pM.prototype;p.WM=n("Nj");p.close=function(){this.G&&(this.hf(),this.Xn())};p.Xn=function(){pu.j().Tf("chat_box_closed_",this,this.H())};
function CM(a){return a.D().P("box-header",a.c())}function tM(a){return a.D().P("desc",CM(a))}function BM(a){return a.D().P("icon",CM(a))}function DM(a){return a.jh}p.Yd=function(){pu.j().Tf("chat_box_activated_"+this.z());this.G&&(U("ui.Box - activating: ",this.Df),this.jh=j,xM(this,0),D(this.c(),"deactivated"),C(this.c(),"active"),this.iI(),pu.j().Tf("web_panel_change"),this.S=this.D().va(),this.h().e(this.S,"resize",this.iI))};
p.hf=function(){this.G&&(U("ui.Box - deactivating: ",this.Df),this.jh=m,D(this.c(),"active"),C(this.c(),"deactivated"),pu.j().Tf("web_panel_change"),this.S&&this.h().M(this.S,"resize",this.iI))};function EM(a,b){b&&A([b,a.Ii.c()],function(a){Pe(a,"height","auto")})}p.iI=function(){this.XN||EM(this,this.nc.c())};p.Bi=function(a,b,c,d){t(a)&&AM(this,"iconUrl",a);t(b)&&AM(this,"title",b);t(c)&&AM(this,"subtitle",c);t(d)&&AM(this,"tooltip",d)};
p.Ex=function(a){this.Rm=a||"";this.c()&&(this.Uc?this.Uc.update(this.Rm):(this.Uc=new ez(this.Rm),Wf(this.Uc,K("title",this.c()))))};p.w=function(){var a="";this.Uc&&(a=this.Uc.w());return a};p.Ti=function(){var a="";this.Uc&&(a=this.Uc.w(),this.Uc.o(),this.Uc=k);return a};function rM(){V.call(this)}z(rM,V);rM.prototype.l=function(){rM.g.l.call(this);Gl(this,FM)};var uM=60;function vM(a){dM.call(this);this.ur(a.innerHTML);this.Fh(a);this.className="box-tooltip"}z(vM,dM);

function GM(a){tu.call(this,a?"offTheRecord":"onTheRecord",a?HM:IM)}z(GM,tu);var HM="You\u2019re off the record. These messages will not be saved.",IM="You\u2019re back on the record. These messages will be saved.";

function JM(a,b){var c=b||new W;c.append('<div class="messaging-typingindicator">',"typing"==a.status?X(a.name)+" is typing...":"Waiting...","</div>");if(!b)return c.toString()}
function KM(a,b){var c=b||new W;c.append('<div class="messaging-conversation showEmoticons" ><div id="historyHiddenAriaText" style="display: none;">Chat history log, use up and down arrows to navigate messages</div><span class="messaging-history styled-scrollable" tabindex="24" aria-label="Chat history"><div class="load-more"><a role="button" class="load-more-button hidden" tabindex="24">Load earlier messages</a><a role="button" class="load-more-loading-button" disabled="true">Loading earlier messages...</a></div><div class="typing-container"></div></span><div class="av-container"></div></div>');if(!b)return c.toString()}
function LM(a,b){var c=b||new W;c.append("<div class='header ",a.po?"me":"",'\' ><div class="row clearfix">',a.timestamp?'<div class="message-header-timestamp" time="'+X(a.timestamp)+'"></div>':"");var d=a.V.cc,f=a.V.gB,g=a.V.ek,i=X(a.V.Pa)+"'s icon";(c||new W).append('<div class="icon" aimId="',X(d),'" aria-hidden="true">',f?'<img class="messaging-avatarImg" align="absmiddle" title="'+X(g)+'" alt="'+X(i)+'" src="'+X(f)+'" aimId="'+X(d)+'" onerror="aim.ui.iconFail.Handle(this)"/>':"<div class=\"defaultAvatar\" style='width: 27px; height: 27px;'></div>",
"</div>");c.append('<div class="displayname" aimId="',X(a.V.cc),'" aria-hidden="true"',a.V.ek?'title="'+X(a.V.ek)+'"':"",">",uy(X(a.V.Pa),5),"</div></div></div>")}
function MM(a,b){var c=b||new W;c.append('<div class="messaging-message ',a.po?" mine ":"",'" id="aim_msg_',X(a.message.$Y),'"><div class="row clearfix" aria-presentation="true"><span class="messaging-message-header">');a.message.V&&LM({V:a.message.V,po:a.po,timestamp:a.message.timestamp},c);c.append("</span><div class='content ",a.po?" mine ":" buddy "," ' ",a.message.V?'aria-label="'+(a.po?"You":X(a.message.V.Pa))+" said "+X(a.message.R5):"",'">',a.message.text?al(a.message.text):"");if(a.message.hq)for(var d=
a.message.hq,f=d.length,g=0;g<f;g++){var i=d[g];c.append(i.isKnownImage?" "+kk(i.href):i.isKnownSound?(a.message.text?"<br />":"")+'<a class="aol-sound-message ready" href="'+X(i.href)+'" target="_blank"><span class="playing-state"></span><span class="description">Voice message from <em>'+X(a.message.V.Pa)+"</em></span></a>":(a.message.text?"<br />":"")+'<span class="aol-file-transfer"> File: <a class="aol-file-transfer" target="_blank" href="'+X(i.href)+'">'+lk(i.name)+"</a></span>")}c.append("</div></div></div>");
if(!b)return c.toString()}function NM(a,b){var c=b||new W;c.append('<div class="messaging-alert posting-activity" role="alert" aria-live="assertive">',X(a.message),"</div>");if(!b)return c.toString()}function OM(a,b){var c=b||new W;c.append('<div class="messaging-posting-form posting-form support-emoji"></div>');if(!b)return c.toString()}
function PM(a,b){var c=b||new W;c.append('<div class="rich-text-div"><div class=\'posting-form-toolbar\'></div><div class="plus-input"></div><div class="editor-container"><div class="posting-form-editor"></div></div><button role="button" class="toolbar-button posting-form-toolbar-button button" title="Change font"><div class="sprite"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="Change font" /></div></button><button class="emoji-button posting-form-emoji-button button" title="Add emoticon"><div class="sprite"><img src="',
X(P()),'common/spritelo/LoSprite.png" alt="Add emoticon" /></div></button></div>');if(!b)return c.toString()}function QM(a,b){var c=b||new W;c.append('<div class="plain-text-div"><div class="inputs position-relative" ><div class="plus-input"></div></div></div>');if(!b)return c.toString()}
function RM(a,b){var c=b||new W;c.append('<div class="messaging-uploader"><div class="uploader-container clearfix"><div class="progress-container clearfix"><div class="uploading-file-text" >Uploading...</div></div><div class="cancel-button"></div></div><p class="messaging-uploader-error">An error occurred.</p><form action="',X(a.e$),'" method="POST" class="messaging-uploader-form" ENCTYPE="multipart/form-data" /></div>');if(!b)return c.toString()}
function OL(a,b){var c=b||new W;c.append('<div class="user-hovercard"><div class="user"></div></div>');if(!b)return c.toString()}
function PL(a,b){var c=b||new W;c.append('<div class="user-inner"><div class="fixed-info"><div class="picture"><a target="_blank" href="',X(a.aL),'"><img class="big-icon" src="',X(a.icon),'" onerror="aim.ui.iconFail.Handle(this)" alt="" /></a></div><div class="profile"><div class="friendly-name">',"sms"==a.type?X(a.iW):X(a.Pa),'</div><div class="id-info">',"sms"==a.type?a.Jn?'<div class="edit-contact">'+X(a.Jn)+'<span class="edit-contact-icon"></span></div>':'<a class="edit-contact link">Edit Contact</a>':
a.gW?X(a.nv):X(a.cc),"</div>",a.kM?'<div class="email">'+X(a.kM)+"</div>":"",'<div class="bio"></div></div></div>',a.status?'<div class="updates"><div class="latest">'+al(a.status)+"</div></div>":"","</div>");if(!b)return c.toString()}
function SM(a,b){var c=b||new W;c.append('<div class="newchat"><div class="newchat-userselector"><div class="newchat-userselector-centeringdiv"><span class="newchat-userselector-to">To:</span><div class="newchat-userselector-chooser"></div></div></div><p class="newchat-sendmessage-tip">Type your message here</p></div>');if(!b)return c.toString()}
function TM(a,b){var c=b||new W;c.append('<div class="snapper"><div class="snapper-container"><div class="snapper-close"></div><div class="snapper-target"></div></div><div class="loading clearfix"><p class="uploading">Uploading snapshot...</p><p class="error">An error occurred while uploading.</p></div><form action="',X(a.action),'" enctype="multipart/form-data" method="POST"><input type="hidden" name="base64" value="" /></form></div>');if(!b)return c.toString()}
function UM(a,b){var c=b||new W;c.append("Are you sure you want to clear your chat history? This will remove earlier messages from your conversation with ",X(a.userName),", though they may still see them.");if(!b)return c.toString()}function VM(a,b){var c=b||new W;c.append('<div class="also-remove-contact"><label for="remove-contact"><input type="checkbox" class="remove-contact" name="remove-contact" checked="checked" />Also remove from my contacts.</label></div>');if(!b)return c.toString()};

function WM(a){V.call(this);this.vc(a);if(a instanceof qv||a instanceof xv){var b=Ll.j(),c=ru(a.za);b.add("model",c,a);b.add("ui",c,this)}}z(WM,V);p=WM.prototype;p.l=function(){WM.g.l.call(this);var a=this.H(),b=a instanceof qv&&r._aim_user_.Kc(a);Gl(this,MM,{message:a.Sa(),po:b});b=K("message-header-timestamp",this.c());if(t(b)){var c=new Eo(h,j,j);c.setTime(new Date(a.Aa.getTime()));this.O(c);c.qa(b)}};
p.K=function(a){WM.g.K.call(this,a);this.pb=this.D().P("content",a);this.H()instanceof qv&&(a=this.H().C(),a.Lc()||a.load())};p.v=function(){WM.g.v.call(this);var a=this.pq();if(a instanceof qv&&(a=a.LK))a=new GL(a),this.bg(a,0),Wf(a,this.pb)};p.n=function(){WM.g.n.call(this)};function XM(a,b){b?C(a.c(),"latest-message"):D(a.c(),"latest-message")}p.pq=function(){return this.H()};
function YM(a,b){var c=a.getParent();Mf(a.h(),b,"aim.playgrounds.EventType.PREVIEW_LOADED",function(){cx(a,b);c.Fe()});a.O(b,j)}p.QE=function(){for(var a=Yf(this),b=0;b<a;b++){var c=Zf(this,b);c&&c instanceof Ww&&c.QE()}};

function ZM(){Of.call(this)}z(ZM,Of);p=ZM.prototype;
p.l=function(){ZM.g.l.call(this);var a=document.createElement("div"),b;b=Ul?Ul.API_PLAYGROUND_UPLOAD:"";var c=new W;c.append('<div class="file-input sprite"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="" /><div class="goog-toolbar-button upload-button" title="Share an Image or File"><form action="',X(b),'" method="POST" ENCTYPE="multipart/form-data"><label id="file-uploader-label" class="hide-label">Share an Image or File</label><input class="file-uploader" type="file" name="file-uploader" aria-labelledby="file-uploader-label" tabindex="26"/><div class="uploadSwf"></div></form></div></div>');b=
c.toString();a.innerHTML=b;this.K(a.childNodes[0]);this.Ja=J().P("file-uploader",this.c())};p.K=function(a){ZM.g.K.call(this,a)};p.v=function(){ZM.g.v.call(this);var a=["keyup","keydown",Xd,Yd];this.h().e(this.Ja,"change",this.Ok).e(this.c(),a,this.LY)};p.LY=function(){var a=this.c();ud(a,a.ownerDocument.activeElement)?C(a,"active"):D(a,"active")};p.Ok=function(){this.dispatchEvent(new $M(this.Ja))};function $M(a){L.call(this,"aim.messaging.ui.Toolbar.FileChanged");this.og=a}z($M,L);
$M.prototype.$i=n("og");


function aN(a,b,c,d){this.ba=c||J();this.lf=a;this.Eb=[];this.xJ=b?b:bN;this.iT=!!d;this.lf.className="goog-tabpane";a=[];for(b=sd(this.lf);b;)a.push(b),b=b.nextElementSibling!=h?b.nextElementSibling:td(b.nextSibling,j);this.Ff=this.ba.l("ul",{className:"goog-tabpane-tabs",tabIndex:"0"});this.qd=this.ba.l("div","goog-tabpane-cont");this.lf.appendChild(this.qd);switch(this.xJ){case bN:this.lf.insertBefore(this.Ff,this.qd);this.lf.insertBefore(cN(this),this.qd);C(this.lf,"goog-tabpane-top");break;case 1:this.lf.appendChild(this.Ff);
this.lf.appendChild(cN(this));C(this.lf,"goog-tabpane-bottom");break;case 2:this.lf.insertBefore(this.Ff,this.qd);C(this.lf,"goog-tabpane-left");break;case 3:this.lf.insertBefore(this.Ff,this.qd);C(this.lf,"goog-tabpane-right");break;default:e(Error("Invalid tab location"))}this.Ff.tabIndex=0;M(this.Ff,this.iT?"mousedown":"click",this.Iz,m,this);M(this.Ff,"keydown",this.Jz,m,this);for(c=0;b=a[c];c++)dN(this,new eN(b))}z(aN,xe);var bN=0;
function cN(a){nf(".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }");return a.ba.l("div","goog-tabpane-clear")}p=aN.prototype;p.n=function(){aN.g.n.call(this);ne(this.Ff,this.iT?"mousedown":"click",this.Iz,m,this);ne(this.Ff,"keydown",this.Jz,m,this);delete this.lf;this.qd=this.Ff=k};
function dN(a,b,c){b.bb&&b.bb!=a&&b.bb instanceof aN&&fN(b.bb,b);var d=a.Eb.length;u(c)&&c!=d?(d=c,a.Eb.splice(d,0,b),a.Ff.insertBefore(b.Ql,a.Ff.childNodes[d])):(a.Eb.push(b),a.Ff.appendChild(b.Ql));b.wv(a,d);a.wh||(a.wh=b,a.dispatchEvent(new gN("change",a,a.wh)));a.qd.appendChild(b.qd);hN(b,b==a.wh);for(c=d+1;b=a.Eb[c];c++)b.fo=c}function fN(a,b){ma(b)&&(b=a.Eb[b]);a.Eb.splice(b.fo,1);b.wv(k);od(b.Ql);od(b.qd);for(var c,d=0;c=a.Eb[d];d++)c.wv(a,d)}
function iN(a,b){if(b.isEnabled()&&(!a.wh||b!=a.wh))hN(a.wh,m),hN(b,j),a.wh=b,a.dispatchEvent(new gN("change",a,a.wh))}p.Bg=function(a){0<=a&&a<this.Eb.length&&iN(this,this.Eb[a])};p.Pn=function(){return this.wh?this.wh.fo:-1};p.sa=function(){return this.qd||k};p.c=function(){return this.lf||k};p.Iz=function(a){for(var b=a.target;b!=this.Ff;){if("LI"==b.tagName){var c;for(c=0;b=b.previousSibling;c++);this.Bg(c);break}b=b.parentNode}a.preventDefault()};
p.Jz=function(a){if(!a.altKey&&!a.metaKey&&!a.ctrlKey)switch(a.keyCode){case 37:a=this.wh.fo-1;this.Bg(0>a?this.Eb.length-1:a);break;case 39:a=this.wh.fo+1;this.Bg(a>=this.Eb.length?0:a);break;case 36:this.Bg(0);break;case 35:this.Bg(this.Eb.length-1)}};function eN(a,b,c){var d,f;if(v(a)&&!u(b))d=a;else if(b)d=b,f=a;else if(a){if(b=sd(a))d=Gd(b),b.parentNode.removeChild(b);f=a}this.ba=c||J();this.qd=f||this.ba.l("div");this.Ql=this.ba.l("li",k,d);this.fo=this.bb=k;this.Qb=j}p=eN.prototype;p.pk=function(){return Gd(this.Ql)};
p.zb=function(a){Ad(this.Ql,a)};p.XM=n("Ql");p.sa=n("qd");p.getParent=n("bb");p.select=function(){this.bb&&iN(this.bb,this)};p.uc=function(a){this.Qb=a;this.Ql.className=a?"goog-tabpane-tab":"goog-tabpane-tab-disabled"};p.isEnabled=n("Qb");function hN(a,b){a.isEnabled()&&(a.qd.style.display=b?"":"none",a.Ql.className=b?"goog-tabpane-tab-selected":"goog-tabpane-tab")}p.wv=function(a,b){this.bb=a;this.fo=u(b)?b:k};function gN(a,b,c){L.call(this,a,b);this.page=c}z(gN,L);

function jN(a,b){this.Zc=a;this.ya=b}jN.prototype.z=n("ya");


function kN(a){this.Qi=a}z(kN,WF);var lN=0;p=kN.prototype;p.Qi=k;p.$S=function(a,b){var c=a.firstChild,d=Pb(c);d&&1==d.length&&(c.className="");Pe(c,{width:b.width,height:b.height,"background-image":"url("+b.src+")","background-position":"0 0"})};p.cL=function(a,b,c){var d=b.JW(),f=b.xW(),g=b.KW(),b=b.LW(),a=a.l("div");Pe(a,{width:d,height:f,"background-image":"url("+c+")","background-repeat":"no-repeat","background-position":g+" "+b});return a};
p.qx=function(a,b){if(!a)var c=this.Qi?b.l("img",{src:this.Qi}):b.l("div"),a=b.l("div","goog-palette-cell-wrapper",c);c=b.l("td",{"class":this.la()+"-cell",id:this.la()+"-cell-"+lN++},a);Ce(c,"gridcell");return c};p.gt=function(a,b){for(var c=a.c();b&&1==b.nodeType&&b!=c;){if("TD"==b.tagName)return b.firstChild;b=b.parentNode}return k};

function mN(a,b,c,d){bG.call(this,k,c||new kN(k),d);this.zD={};this.BD={};this.yp=[];this.Ur=b||"";b=[];for(c=0;c<a.length;c++){var f=a[c][0],d=a[c][1],g=a[c][2],i=g?g.Zc:this.Ur+f,l,q=this.ta,s=this.D();l=d;var B=g,E=h;E=B?(E=B.la())?s.l("div",E):q.cL(s,B,i):s.l("img",{src:i});q=s.l("div","goog-palette-cell-wrapper",E);q.setAttribute("goomoji",l);l=q;b.push(l);f=new jN(f,d);this.zD[d]=f;this.BD[d]=c;g&&g.k$()&&this.yp.push([l,f])}0<this.yp.length&&(this.xq=new dw);this.Gf=b;this.pa(this.Gf)}
z(mN,bG);mN.prototype.Ur="";mN.prototype.jX=function(a){var b=a.target.id,c=a.target.src;b&&c&&(b=this.Gf[this.BD[b]])&&this.ta.$S(b,a.target)};mN.prototype.n=function(){mN.g.n.call(this);this.xq&&(this.xq.o(),this.xq=k);this.Gf=this.BD=this.zD=this.yp=k};mN.prototype.pt=function(){var a=this.zD,b;b=(b=this.of())?(b=this.ta.gt(this,b))?b.getAttribute("goomoji"):k:k;return a[b]};

function nN(a){this.Qi=a}z(nN,kN);nN.prototype.cL=function(a,b,c){var d=b.JW(),f=b.xW(),g=b.KW(),b=b.LW(),c=a.l("img",{src:c}),a=a.l("div","goog-palette-cell-extra",c);Pe(a,{width:d,height:f,overflow:"hidden",position:"relative"});Pe(c,{left:g,top:b,position:"absolute"});return a};nN.prototype.$S=function(a,b){for(var c,d=a.firstChild;d;){if("IMG"==d.tagName){c=d;break}d=d.firstChild}d&&(c.width=b.width,c.height=b.height,Pe(c,{left:0,top:0}),c.src=b.src)};

function oN(a,b){Of.call(this,b);this.Qi=a;this.Gf=[];this.Eb=[];this.CH=[];this.Ah=k;this.h().e(this,"action",this.$_)}z(oN,Of);var pN=bN;p=oN.prototype;p.nG=5;p.tz=10;p.ZK=j;p.xJ=pN;p.Xi=j;p.dV=m;p.v4=m;p.EY=m;p.YB=-1;p.Ew=function(a,b){this.Gf.push({title:a,yD:b})};p.KI=ca("nG");p.JI=ca("tz");p.kj=n("Xi");p.le=function(a){this.Xi=a;for(var b=0;b<this.Eb.length;b++)this.Eb[b]&&og(this.Eb[b],32,a)};p.Z=hj("goog.ui.emoji.EmojiPicker");
p.l=function(){this.F=this.D().l("div");if(this.ZK){for(var a=0,b=0;b<this.Gf.length;b++){var c=Math.ceil(this.Gf[b].yD.length/this.tz);c>a&&(a=c)}this.KI(a)}0==this.Gf.length&&e(Error("Must add some emoji to the picker"));1<this.Gf.length&&(a=this.D().l("div"),this.c().appendChild(a),this.Ah=new aN(a,this.xJ,this.D(),j));this.ta=this.v4?new nN(this.Qi):new kN(this.Qi);for(a=0;a<this.Gf.length;a++)b=this.Gf[a].yD,this.Eb.push(this.dV?qN(this,b):rN(this,b,a));this.YB=0;this.c().tabIndex=0};
function rN(a,b,c){if(a.CH[c])return k;b=new mN(b,a.Ur,a.ta,a.D());if(!a.EY&&0<b.yp.length){for(var d=0;d<b.yp.length;d++){var f=b.yp[d][1],g=b.Ur+f.Zc;ew(b.xq,f.z(),g)}b.h().e(b.xq,"load",b.jX);b.xq.start()}b.Cg(a.tz,a.nG);og(b,32,a.Xi);b.l();b.Ej(a);a.CH[c]=j;return b}function qN(a,b){for(var c=[],d=0;d<b.length;d++)c.push([a.Qi,b[d][1]]);c=new mN(c,k,a.ta,a.D());c.Cg(a.tz,a.nG);og(c,32,a.Xi);c.l();c.Ej(a);return c}p.ae=o(m);
p.v=function(){oN.g.v.call(this);for(var a=0;a<this.Eb.length;a++){this.Eb[a].v();var b=this.Eb[a].c();1<this.Eb.length?dN(this.Ah,new eN(b,this.Gf[a].title||a+1,this.D())):this.c().appendChild(b)}this.Ah&&(this.h().e(this.Ah,"change",this.G1),qf(this.Ah.c(),j));this.c().unselectable="on"};p.$=function(){oN.g.$.call(this);for(var a=0;a<this.Eb.length;a++)this.Eb[a].$()};
p.n=function(){oN.g.n.call(this);this.Ah&&(this.Ah.o(),this.Ah=k);for(var a=0;a<this.Eb.length;a++)this.Eb[a].o();this.Eb.length=0};p.la=o("goog-ui-emojipicker");p.pt=function(){return this.Ur?new jN(this.Ur+this.wI.z(),this.wI.z()):this.wI};p.$_=function(){this.wI=this.Eb[this.YB].pt()};
p.G1=function(a){a=a.page.fo;(0>a||a>this.Eb.length)&&e(Error("Index out of bounds"));if(!this.CH[a]){var b=this.Eb[a];this.Eb[a]=rN(this,this.Gf[a].yD,a);this.Eb[a].v();var c=this.Eb[a].c();1<this.Eb.length?(fN(this.Ah,a),dN(this.Ah,new eN(c,this.Gf[a].title||a+1,this.D()),a),this.Ah.Bg(a)):this.c().appendChild(c);b&&b.o()}this.YB=a};

function sN(a,b){Of.call(this,b);this.re=new oN(a,b);this.O(this.re);this.h().e(this.re,"action",this.a0)}z(sN,Of);p=sN.prototype;p.re=k;p.oa=k;p.Jq=k;p.Xi=j;p.EJ=j;p.Ew=function(a,b){this.re.Ew(a,b)};p.le=function(a){this.Xi=a;this.re&&this.re.le(a)};p.KI=function(a){this.re.KI(a)};p.JI=function(a){this.re.JI(a)};p.l=function(){sN.g.l.call(this);this.re.l();this.c().className="goog-ui-popupemojipicker";this.c().appendChild(this.re.c());this.oa=new uw(this.c());this.c().unselectable="on"};
p.n=function(){sN.g.n.call(this);this.Jq=this.re=k;this.oa&&(this.oa.o(),this.oa=k)};p.Fh=function(a){this.h().e(a,"click",this.Cr)};p.detach=function(a){this.h().M(a,"click",this.Cr)};p.dp=function(a){this.oa&&this.oa.dp(a)};p.pt=function(){return this.re.pt()};p.Cr=function(a){this.oa.Rt()&&this.EJ&&this.Jq==a.currentTarget?this.ih():(this.Jq=a.currentTarget,this.oa.vd(new Gf(this.Jq,2)),vw(this.oa,3),this.oa.L(j),this.Sc=new Ie(J(this.oa.c()).Ia()),this.h().e(this.Sc,"key",this.sj))};p.ih=function(){this.oa.L(m)};
p.sj=function(a){27==a.keyCode&&(this.Jq&&this.Jq.focus(),this.ih())};p.a0=function(){this.ih()};

function tN(a,b){V.call(this);this.se=b;this.AJ=a;this.h().e(a,"click",this.$V);if(0==this.Cn.length){this.Cn=[];for(var c=0;c<this.AD.length;c++){var d=this.AD[c];this.Cn[c]=[];for(var f=0;f<d.length;f++){var g=this.Cn[c],i=d[f];v(i)&&"{"==i[0]&&(i=UH(i));if(oa(i))var l=P("common/images/emoji/")+i.path,i=i.text;else l=P("common/images/emoji/")+i+".png";g.push([l,i])}}}this.oa&&(this.h().M(this.oa,"action",this.EP),this.Su&&(this.h().M(this.Su,"key",this.mQ),this.Su.o(),this.Su=k),this.oa.detach(this.AJ),
this.oa.o());this.oa=new sN(P("common/images/emoji/")+this.Qi,J(this.AJ));this.oa.JI(6);this.oa.re.ZK=m;this.oa.Fh(this.AJ);this.h().e(this.oa,"action",this.EP);c=m;1<this.Cn.length&&(this.oa.Ew("recent",this.fR),c=j);for(d=0;d<this.Cn.length;d++)this.oa.Ew(""+d,this.Cn[d]);this.oa.T();d=this.AD[0];f=Tc(h,"goog-palette-cell",this.oa.c());for(g=0;g<f.length;g++)i=Tc("img",h,f[g]),i[0]&&(i[0].alt=d[g]?d[g].alt:"");c&&0==this.fR.length&&(c=cd("SPAN",{"class":"no-recent-emojis"}),c.innerHTML="Your most recently used icons will show up here.",
K("goog-palette",this.oa.re.c()).appendChild(c),this.oa.re.Ah.Bg(1))}z(tN,V);p=tN.prototype;p.oa=k;p.Qi="none.png";p.Cn=[];
p.AD=[[{text:":-)",path:"aim/shiny_01.gif",alt:"smile"},{text:";-)",path:"aim/shiny_02.gif",alt:"wink"},{text:":-(",path:"aim/shiny_03.gif",alt:"frown"},{text:":-P",path:"aim/shiny_04.gif",alt:"tongue out"},{text:"=-O",path:"aim/shiny_05.gif",alt:"surprised"},{text:":-*",path:"aim/shiny_06.gif",alt:"kissy face"},{text:"&gt;:O",path:"aim/shiny_07.gif",alt:"angry"},{text:":-D",path:"aim/shiny_08.gif",alt:"happy"},{text:":-$",path:"aim/shiny_09.gif",alt:"money tongue"},{text:":-!",path:"aim/shiny_10.gif",
alt:"scared"},{text:":-[",path:"aim/shiny_11.gif",alt:"embarrassed"},{text:"O:-)",path:"aim/shiny_12.gif",alt:"halo"},{text:":-\\",path:"aim/shiny_13.gif",alt:"confused"},{text:":'-(",path:"aim/shiny_14.gif",alt:"crying"},{text:":-X",path:"aim/shiny_15.gif",alt:"zipper mouth"},{text:"8-)",path:"aim/shiny_16.gif",alt:"sunglasses"},{text:"&lt;3",path:"2764.png",alt:"heart"},{text:"]:-&gt;",path:"D83D-DC7F.png",alt:"devil"},{text:"@(^_^)@",path:"D83D-DC35.png",alt:"monkey face"},{text:"@}-&gt;--",path:"D83D-DF39.png",
alt:"rose"},{text:"*&lt;:-)",path:"D83C-DF85.png",alt:"santa"},{text:":-{)",path:"D83D-DC68.png",alt:"mustache guy"},{text:"Zzz",path:"D83D-DCA4.png",alt:"sleep"},{text:"l,lO",path:"D83D-DEBD.png",alt:"toilet"},{text:"[8]",path:"D83C-DFB1.png",alt:"8 ball"},{text:"[?]",path:"2754.png",alt:"question mark"},{text:"&lt;--",path:"2B05.png",alt:"left arrow"},{text:"--&gt;",path:"27A1.png",alt:"right arrow"}]];p.fR=k;
p.mQ=function(a){if(38==a.keyCode||40==a.keyCode||37==a.keyCode||39==a.keyCode){var b=Tc("table",k,this.oa.c())[0];if(b)for(var a=b.getAttribute("aria-activedescendent"),b=Tc("td",k,b),c=0;c<b.length;c++)if(b[c].id==a){var d=Tc("img",k,b[c])[0];if(d){qp(rp.j(),d.getAttribute("alt"));break}}}};p.EP=function(){var a=this.oa.re.pt(),b=a.z();b.match(/^([0-9A-fa-f]{4,4})-([0-9A-fa-f]{4,4})$/g);this.se.execCommand(uN,'<img class="aim-emoji" src="'+a.Zc+'" alt="'+b+'" />');this.Sx()};
p.$V=function(){N(function(){var a=K("goog-palette",this.oa.re.c());a&&(a.focus(),this.Su=new Ie(this.oa.c()),this.h().e(this.Su,"key",this.mQ))},1,this)};p.Sx=function(){N(function(){this.se&&this.se.focus()},1,this)};

var vN=k;function mp(){vN||(vN=new Ie(window.document));return vN};

function wN(){for(var a=Array.prototype.slice.call(arguments),b=0;b<a.length;b++){var c=a[b];v(c)&&(a[b]=c.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t"))}U.apply(window,a)}
var xN="A,B,BR,DIV,FONT,HR,I,IMG,LI,OL,PRE,SPAN,U,UL,#text".split(","),yN="B,FONT,I,PRE,SPAN,U".split(","),zN={B:["backgroundColor","color","fontFamily","fontSize"],FONT:["backgroundColor","color","fontFamily","fontSize"],I:["backgroundColor","color","fontFamily","fontSize"],SPAN:["backgroundColor","color","fontFamily","fontSize"],U:["backgroundColor","color","fontFamily","fontSize"]};function AN(a,b){var c=m;if(0<=yN.indexOf(a)&&(!b.childNodes||0==b.childNodes.length))c=j;return c}
function BN(a,b,c){var d=m;if("IMG"==a&&0<=b.className.search("messaging-avatarImg"))d=j;else if((!c.NX||"A"!=a)&&0<=xN.indexOf(a)){switch(a){case "IMG":c.NX=j;break;case "LI":b.outerHTML=b.outerHTML.replace(/(<\/?)li[^>]*(>)/ig,"$1div$2"),c.cZ=j}a=b.className;if("aim-emoji"!=a){a&&"aimFont"!=a&&"aimPositionalBlock"!=a&&"aim-emoji"!=a&&(b.className="");try{var f=b.style;if(oa(f)){var g=f.cssText;if(g){var i=g.replace(Pk,"$1$2$3$4");i!=g&&(U("removeUnsupportedStyles_ raw: ",g),U("removeUnsupportedStyles_ adj: ",
i),f.cssText=i)}}}catch(l){}}}else d=j;return d}
function CN(a){var b={};if(a.style){var c="FONT"==a.nodeName?a:{},d=Re;G&&(d=Se);b.backgroundColor=vl(d(a,"backgroundColor")||a.style.backgroundColor||c.back);b.color=vl(d(a,"color")||c.color);b.fontFamily=d(a,"fontFamily")||a.style.fontFamily||c.face;b.fontFamily&&(b.fontFamily=b.fontFamily.replace(/.*helvetica.*|.*arial.*|.*sans-serif.*/i,"sans-serif").replace(/.*times.*|.*(?:^|[^-])serif.*/i,"serif").replace(/\s*,.*/,""));b.fontSize=d(a,"fontSize");if(!b.fontSize){for(;a.parentNode&&(!a.size||
"FONT"!=a.nodeName);)a=a.parentNode;b.fontSize=ok[a.size]||"small"}}else b=a;return b}function DN(a,b,c,d){for(var f=j,g=a.length,b=CN(b),c=CN(c);f&&g--;){var i=a[g];if(d||c[i])f=f&&c[i]==b[i]}wN("aim.dom.isSame",b,c,f,", ",d);return f}function EN(a,b,c){a=b.style.backgroundColor;!a&&"FONT"==b.tagName&&(a=b.getAttribute("back"));a?c.backgroundColor=a:c.backgroundColor&&"BR"!=b.tagName&&(b.style.backgroundColor=c.backgroundColor);return m}
function FN(a,b,c){var d=m,f=zN[a];if(f)if(!b.childNodes||!b.childNodes.length)d=j;else if(c[a]&&DN(f,c[a],b))d=j;else{var g=f.length,b=CN(b);for(c[a]||(c[a]={});g--;){var i=f[g];b[i]&&(c[a][i]=b[i])}}return d}function GN(a,b){var c=m,d=zN[a];if(d){var f=b.nextSibling;if(f&&a==f.nodeName&&DN(d,b,f,j)){for(;b.lastChild;)c=b.removeChild(b.lastChild),f.insertBefore(c,f.firstChild);c=j}}return c}
function HN(a,b,c,d){d||(d={});if(a&&a.length)for(var f=a.length;f--;){var g=a[f];try{var i=g.nodeName,l=m,q=d;if(b){var q={},s;for(s in d)q[s]=oa(d[s])?Kc(d[s]):d[s];l=b(i,g,q)}g.childNodes&&g.childNodes.length&&HN(g.childNodes,b,c,q);c&&(l=l||c(i,g,q));if(l){for(var B=g.childNodes?g.childNodes.length:0,l=g;B--;){var E=g.removeChild(g.childNodes[B]);g.parentNode.insertBefore(E,l);l=E}g.parentNode.removeChild(g)}}catch(Z){}}else try{if(g=a,i=g.nodeName)l=m,b&&(l=b(i,g,d)),c&&(l=l||c(i,g,d)),l&&g.parentNode?
g.parentNode.removeChild(g):d.removeNode=l}catch(T){}return d};

function IN(a){xJ.call(this);this.qc=a||"unknown_user";this.rO=0;this.ID=new Kf(this);this.Fp=k;pn.gc(this,"Created PasteAnDropFilter for "+this.qc);this.fs=j}z(IN,xJ);var uN="+paste";p=IN.prototype;p.so=function(a){return a==uN||"+filterOn"==a};p.Kx=function(a,b){pn.gc(this,"executeCommandInternal for "+a);if(a==uN&&b)return JN(this,b,j),j;if("+filterOn"==a)return this.fs=j};p.n=function(){pn.gc(this,"Disposed PasteAnDropFilter for "+this.qc);IN.g.n.call(this);Rd(this.ID)};
function KN(a){return(a=a.X)?a.c():k}p.rq=o("PasteAndDropFilter");p.enable=function(a){IN.g.enable.call(this,a);if(this.X==a){var b=a.c();b&&(pn.gc(this,"Enabling PasteAnDropFilter for "+this.qc),this.ID.e(b,"paste",this.N1,j).e(b,"drop",this.S_,j).e(b,"load",this.IY,j).e(b,"keydown",this.oY,m).e(b,"focus",this.B4,m).e(a,fK,this.HY,m))}CK(a,this.yM,j,this)};p.disable=function(a){this.X==a&&(pn.gc(this,"Disabling PasteAnDropFilter for "+this.qc),this.ID.Rd());IN.g.disable.call(this,a)};
p.qL=function(a){for(var b=Md(new Qc(a.ownerDocument),h,"aim-emoji",a),c=b?b.length:0;c--;)b[c].outerHTML=b[c].getAttribute("alt");HN(a.childNodes,FN,GN);HN(a.childNodes,h,BN);HN(a.childNodes,h,AN)};
p.rL=function(a){var b=a,c=b.replace(Ek,"$1");c&&(c=0<=c.replace(/&nbsp;/g," ").search(/\S/));c||(c=0<=b.search(/<\s*img\s+/i))||(c=0<=b.search(/<\s*hr\s*\/?>/i));m==c?a="":(a=a.replace(/^[\s\S]*?<body>/ig,"").replace(/<\/body>[\s\S]*/ig,""),a="<html><body>"+a+"</body></html>");U("markup- cleanContentsHtml: ",a);return a};
p.HY=function(){if(this.fs&&this.X){var a=KN(this);if(a){a=(a.innerHTML||"").replace(Ek,"$2");if(G)this.fs=m;else{for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;a=b}this.rO!=a&&(CK(this.X,this.yM,j,this),this.rO=a)}}};p.yM=function(){var a=KN(this);a&&a.childNodes&&(HN(a.childNodes,EN),H&&HN(a.childNodes,h,BN).cZ&&this.X.er())};
p.gI=function(){R("font - resetIfEmtpy - testing to see if the field is empty.");var a=this.X;a&&a.wb()&&(R("font - resetIfEmtpy - the field is empty applying the font."),KK(a,j))};p.oY=function(a){if(a.ctrlKey||a.metaKey)this.fs=j;var b=this.X;b&&b.wb()&&(a.ctrlKey||a.metaKey)&&65==a.keyCode?(a.stopPropagation(),a.preventDefault()):b&&(!b.wb()||8==a.keyCode||46==a.keyCode||(a.ctrlKey||a.metaKey)&&88==a.keyCode)?N(this.gI,0,this):b&&b.wb()&&KK(b,j)};
p.B4=function(){R("font - reapplyFontOnFocusEmptyField_ - testing to see if the field is empty.");var a=this.X;a&&a.wb()&&(R("font - reapplyFontOnFocusEmptyField_ - the field is empty setting the font."),N(this.gI,0,this))};
function LN(a,b,c,d){if(a=a.X){var f=d||LK(a);(d=f["+bold"])&&(b="<b>"+b+"</b>");(d=f["+italic"])&&(b="<i>"+b+"</i>");(d=f["+underline"])&&(b="<u>"+b+"</u>");a='<font face="'+f["+fontName"]+'" size="'+f["+fontSize"]+'"';if(c)a+=' color="#000000"';else{if(d=f["+foreColor"])d=vl(d),a+=' color="'+d+'"';(c=vl(f["+backColor"]))&&d!=c&&"transparent"!=c&&(a+=" back=+"+c+'"');a+=' style="color: '+d+";";c&&d!=c&&"transparent"!=c&&(a+=" background-color: "+c+";");a+='"'}b=a+">"+b+"</font>"}return b}
function JN(a,b,c){var d=a.X;d.focus();pn.gc(a,"Pasting: (in "+a.qc+"): "+b);a.Fp=LK(d);b=LN(a,b,!c,a.Fp);CK(d,ua(a.Ay,b),m,a);pn.gc(a,"Done Pasting: (in "+a.qc+")")}
p.N1=function(a){var b=a.lc;pn.gc(this,"onPaste_ was called");var c=this.X;if(b&&b.clipboardData){var b=b.clipboardData,d=b.getData("text/html");pn.gc(this,"text/html: "+d);var f=m;d?d=dl(d):(d=b.getData("text/plain"),pn.gc(this,"text/plain: "+d),d=el(il(d)),f=j);pn.gc(this,"markup to paste: "+d);d&&(JN(this,d,f),a.preventDefault())}else{pn.gc(this,"no data or data.clipboardData");var g=KN(this);if(g){BJ(c,j);var i=nI(zK(c)),l=g.innerHTML;g.innerHTML="";c.Rc.Ia().execCommand("removeFormat");pn.gc(this,
"Pasting content and delaying post-processing.");N(function(){pn.gc(this,"Delayed paste-post-processing");var a=dl(g.innerHTML);pn.gc(this,"   Pasted fragment is: "+a);a=LN(this,a,0<=a.search("<"),this.Fp);g.innerHTML=l;CK(c,ua(this.Ay,a,i),m,this)},20,this)}}};
p.S_=function(a){this.Fp=k;var b=a.lc;if(b&&b.dataTransfer){var c=m;try{var d=b.dataTransfer.getData("text/html");if(d)d=dl(d),d=LN(this,d,j);else{if(b.dataTransfer.files&&b.dataTransfer.files.length){a.stopPropagation();a.preventDefault();return}d=el(il(b.dataTransfer.getData("text/plain")));d=LN(this,d)}}catch(f){d="",c=j}if(c||d){var g=this.X;b.rangeParent?(a.stopPropagation(),a.preventDefault(),BJ(g,j),a=KN(this).ownerDocument.createRange(),a.setStart(b.rangeParent,b.rangeOffset),a.setEnd(b.rangeParent,
b.rangeOffset),b=a&&a.addElement?QI(a):JI(a,h),CK(g,ua(this.Ay,d,b),m,this)):(BJ(g,j),N(function(){KN(this).focus();CK(g,ua(this.Ay,d),m,this)},20,this))}}};p.IY=function(){this.X.Qh()};
p.Ay=function(a,b){this.fs=j;this.gI();var c=this.X;if(b)if("restore"in b)var d=b.restore();else d=b,d.select();else d=zK(c);!a&&d&&(a=dl(d.nE()));var f=KN(this),g=f.ownerDocument.createElement("SPAN"),i=gd(a);i||(i=gd("<span>"+a+"</span>"));if(i&&(i.childNodes&&i.childNodes.length?HN(i.childNodes,h,BN):HN(i,h,BN).removeNode&&(i=gd("")),(g=d.vA(g))&&g.parentNode))g.parentNode.insertBefore(i,g),c.Qh(),G?f.scrollTop=g.offsetTop:g.scrollIntoView(),UJ(g),g.parentNode.removeChild(g),this.Fp&&MK(c,this.Fp)};

function MN(a,b){this.Bb=new Kf(this);this.se=a;this.Xa=b;this.PH=[];Xf(this.Xa,function(a){a.Fb&&this.PH.push(NN(a.z()))},this);this.Xa.le(m);this.Bb.e(this.se,"cvc",this.OJ).e(this.Xa,"action",this.yE)}z(MN,xe);function NN(a){return a}function ON(a){return a}p=MN.prototype;p.h=n("Bb");p.fe=n("se");p.isVisible=function(){return this.Xa.isVisible()};p.L=function(a){this.Xa.L(a)};p.isEnabled=function(){return this.Xa.isEnabled()};p.uc=function(a){this.Xa.uc(a)};p.blur=function(){this.Xa.ej(k)};
p.n=function(){MN.g.n.call(this);this.Bb&&(this.Bb.o(),delete this.Bb);this.Xa&&(this.Xa.o(),delete this.Xa);delete this.se;delete this.PH};p.OJ=function(a){if(this.Xa.isEnabled()&&this.dispatchEvent("change")){var b;try{b=this.se.queryCommandValue(a.NU||this.PH)}catch(c){b={}}var a=b,d;for(d in a)if(b=Tf(this.Xa,d)){var f=a[d];b.Yf?b.Yf(f):ng(b,!!f)}}};p.yE=function(a){this.se.execCommand(ON(a.target.z()),a.target.w())};

function PN(a){this.kn=a;this.nF=j}function QN(a){a.$C||(a.$C=Id(a.kn));return a.$C}function RN(a,b){var c=new PN(a);c.kn.href="/";b&&(a.target=b);return c};

function SN(){xJ.call(this)}z(SN,xJ);SN.prototype.rq=o("BTF");SN.prototype.Yh=hj("goog.editor.plugins.BasicTextFormatter");var TN=Lc({k8:"+link",O7:"+formatBlock",Y7:"+indent",M8:"+outdent",x9:"+strikeThrough",X7:"+insertHorizontalRule",z9:"+subscript",A9:"+superscript",J9:"+underline",e7:"+bold",b8:"+italic",N7:"+fontSize",M7:"+fontName",L7:"+foreColor",V6:"+backColor",L8:"+insertOrderedList",N9:"+insertUnorderedList",c8:"+justifyCenter",d8:"+justifyFull",f8:"+justifyRight",e8:"+justifyLeft"});
p=SN.prototype;p.so=function(a){return a in TN};p.fh=function(){return zK(this.X)};function UN(a){return yJ(a).Ia()}
p.Kx=function(a,b){var c,d,f,g,i,l=b;switch(a){case "+backColor":if(!ia(l))if(mJ){d=l;f=zK(this.X);var q,s;f&&f.isCollapsed()&&(q=yJ(this).createTextNode(H?" ":""),l=f.Fa(),s=1==l.nodeType?l:l.parentNode,""==s.innerHTML?(s.style.textIndent="-10000px",s.appendChild(q)):(s=yJ(this).l("span",{style:"text-indent:-10000px"},q),f.vA(s)),mI(q).select());VN(this,"hiliteColor",d,m,j);q&&(H&&(q.data=""),s.style.textIndent="")}else gc?VN(this,"hiliteColor",l):VN(this,a,l);break;case "+link":a:{i=l;this.X.My||
this.Sx();f=(d=this.fh())&&jI(d);if((f=Jd(f,"A"))&&Kd(f,PJ))qd(f);else if(i=WN(this,d,i)){if(!this.X.execCommand("link",i))if(l=this.X.Vx().prompt(PG,"http://"))if(d=QN(i)||l,f=i.kn,f.href=l,g=QN(i),d!=g&&(l=MJ(f),3==l.nodeType&&(l=l.parentNode),Id(l)!=g&&(l=f),kd(l),f=J(l),l.appendChild(f.createTextNode(d)),i.$C=k),i.nF=m,d=i.kn,qJ){f=d.nextSibling;if(!f||!(3==f.nodeType&&(xa(f.data,"\u00a0")||xa(f.data," "))))f=J(d).createTextNode("\u00a0"),md(f,d);aJ(f,1).select()}else UJ(d);else{d=mI(i.kn);d=
new cK(d);qd(i.kn);i.kn=k;d.restore().select();i=k;break a}break a}i=k}break;case "+justifyCenter":case "+justifyFull":case "+justifyRight":case "+justifyLeft":VN(this,a,k,m,j);H&&VN(this,a,k,m,j);(!lJ||!H)&&zh(zK(this.X),XN);break;default:G&&"+formatBlock"==a&&l&&(l="<"+l+">");if("+foreColor"==a&&ia(l))break;switch(a){case "+indent":case "+outdent":lJ&&(H&&(d=j),gc&&(d="+outdent"==a?!UN(this).queryCommandEnabled("outdent"):j));case "+insertOrderedList":case "+insertUnorderedList":if(q=tJ)q=UN(this),
q=YN(this,j,q,a,h);q?f="P"!=this.X.queryCommandValue("+defaultTag"):uJ||ZN(this);H&&sJ&&!this.queryCommandValue(a)&&(q=this.X.queryCommandValue("+defaultTag"),"P"==q||"DIV"==q?q=m:(q=this.fh(),q.isCollapsed()&&3!=q.If().nodeType?(c=yJ(this).createTextNode("\u00a0"),q.insertNode(c,m),mI(c).select(),q=j):q=m),g|=q);case "+formatBlock":c=!!this.X.qh.Bidi;break;case "+subscript":case "+superscript":rJ&&!this.queryCommandValue(a)&&(q="+subscript"==a?"+superscript":"+subscript",s=$N(q),this.queryCommandValue(q)||
UN(this).execCommand(s,m,k),UN(this).execCommand(s,m,k));break;case "+underline":case "+bold":case "+italic":d=H&&lJ&&this.queryCommandValue(a);break;case "+foreColor":case "+fontName":d=lJ&&H}VN(this,a,l,c,!!d);g&&UN(this).execCommand("Delete",m,j);f&&UN(this).execCommand("FormatBlock",m,"<div>")}H&&!this.X.bF&&this.Sx();return i};p.Sx=function(){yJ(this).va().focus()};
p.queryCommandValue=function(a){var b;switch(a){case "+link":return a=(a=this.fh())&&jI(a),a=Jd(a,"A"),!!a&&!!Kd(a,PJ);case "+justifyCenter":case "+justifyFull":case "+justifyRight":case "+justifyLeft":return aO(this,a);case "+formatBlock":return bO(zK(this.X));case "+indent":case "+outdent":case "+insertHorizontalRule":return m;case "+fontSize":case "+fontName":case "+foreColor":case "+backColor":return this.oA(UN(this),a,lJ&&H);case "+underline":case "+bold":case "+italic":b=lJ&&H;default:var c=
UN(this);return YN(this,j,c,a,b)}};p.YQ=function(a){jJ&&a.match(/^\s*<script/i)&&(a="&nbsp;"+a);kJ&&(a=a.replace(/<(\/?)strong([^\w])/gi,"<$1b$2"),a=a.replace(/<(\/?)em([^\w])/gi,"<$1i$2"));return a};p.qL=function(a){for(var a=a.getElementsByTagName("IMG"),b=0,c;c=a[b];b++)if(G){c.removeAttribute("tabIndex");c.removeAttribute("tabIndexSet");var d=c;"removeAttribute"in d&&d.removeAttribute(qa);try{delete d[qa]}catch(f){}c.oZ&&(c.tabIndex=c.oZ)}};
p.rL=function(a){if(hc){for(var b=Md(this.X.Rc,"HEAD"),c=[],d=b.length,f=1;f<d;++f)for(var g=b[f].getElementsByTagName("STYLE"),i=g.length,l=0;l<i;++l)c.push(g[l].outerHTML);return c.join("")+a}return a};p.GE=function(a,b,c){if(!c)return m;var d;switch(b){case "b":d="+bold";break;case "i":d="+italic";break;case "u":d="+underline";break;case "s":return j}return d?(this.X.execCommand(d),j):m};var cO=G?/<br([^\/>]*)\/?>/gi:/<br([^\/>]*)\/?>(?!<\/(div|p)>)/gi;
function ZN(a){if(G||gc){var b=a.fh(),c=jI(b),d=UN(a);cO.lastIndex=0;cO.test(c.innerHTML)&&(a=nI(b),"P"==c.tagName?dO(c,j):(c.innerHTML=c.innerHTML.replace(cO,'<p$1 trtempbr="temp_br">'),c=Hb(c.getElementsByTagName("P")),zh(c,function(a){if("temp_br"==a.getAttribute("trtempbr")){a.removeAttribute("trtempbr");if(Da(Gd(a))){var b=G?d.createTextNode("\u00a0"):d.createElement("BR");a.appendChild(b)}dO(a)}})),a.restore())}}
function dO(a,b){if(G||gc){var c=a.outerHTML.replace(/<(\/?)p/gi,"<$1div");b&&(c=c.replace(cO,"</div><div$1>"));gc&&!/<\/div>$/i.test(c)&&(c+="</div>");a.outerHTML=c}}function $N(a){return 0==a.indexOf("+")?a.substring(1):a}function XN(a){a=RJ(a);a.align&&(a.style.textAlign=a.align,a.removeAttribute("align"))}
function VN(a,b,c,d,f){var g=k;d&&(g=a.X.queryCommandValue("rtl")?"rtl":a.X.queryCommandValue("ltr")?"ltr":k);var b=$N(b),i,l;if(G){var q=b;l=[];var d=k,s=a.fh();i=yJ(a);if(q in eO){var B=s&&jI(s);if(B){for(var E=Tc("BLOCKQUOTE",k,B),Z,T=0;T<E.length;T++)if(s.containsNode(E[T])){Z=E[T];break}if(B=Z||Jd(B,"BLOCKQUOTE"))d=i.l("div",{style:"height:0"}),B.appendChild(d),l.push(d),Z?s=eI(Z,0,d,0):s.containsNode(d)&&(Z=s.Fa(),s=s.Ab(),s=eI(Z,s,d,0)),s.select()}}Z=a.X;!Z.rp()&&!d&&q in fO&&(q=Z.c(),s&&s.isCollapsed()&&
!sd(q)&&(d=s.gh(0).ig(),s=d.duplicate(),s.moveToElementText(q),s.collapse(m),s.isEqual(d)&&(s=i.createTextNode("\u00a0"),q.appendChild(s),d.move("character",1),d.move("character",-1),d.select(),l.push(s))),d=i.l("div",{style:"height:0"}),q.appendChild(d),l.push(d));i=l[0];l=l[1]}if(hc){i=b;var gb;gO[i]&&(gb=yJ(a).l("div",{style:"height: 0"},"x"),a.X.c().appendChild(gb));hO[i]&&(i=a.X.c(),gb=yJ(a).l("div",{style:"height: 0"},"x"),i.insertBefore(gb,i.firstChild));i=gb}if(H&&(gb=b,I("1.9")&&"formatblock"==
gb.toLowerCase()&&(gb=a.fh(),d=gb.Fa(),gb.isCollapsed()&&d&&"BODY"==d.tagName&&(q=gb.Ab(),(d=d.childNodes[q])&&"BR"==d.tagName))))gb=gb.ig(),gb.setStart(d,0),gb.setEnd(d,0);vJ&&"fontsize"==b.toLowerCase()&&iO(a);gb=UN(a);f&&lJ&&(gb.execCommand("styleWithCSS",m,j),gc&&jO(a));gb.execCommand(b,m,c);f&&lJ&&gb.execCommand("styleWithCSS",m,m);hc&&!I("526")&&"formatblock"==b.toLowerCase()&&c&&/^[<]?h\d[>]?$/i.test(c)&&kO(a);/insert(un)?orderedlist/i.test(b)&&(hc&&lO(a),G&&(mO(a),l&&od(l)));i&&od(i);g&&a.X.execCommand(g)}
function WN(a,b,c){var d=k,f=b&&jI(b);if(f&&"IMG"==f.tagName)return k;if(b&&b.isCollapsed())b=b.gh(0).ig(),eJ?(d=yJ(a).createElement("A"),b.insertNode(d)):dJ&&(b.pasteHTML("<a id='newLink'></a>"),d=yJ(a).c("newLink"),d.removeAttribute("id"));else{var g=eb();VN(a,"CreateLink",g);A(a.X.c().getElementsByTagName("A"),function(a){ya(a.href,g)&&(d=a)})}return RN(d,c)}
var fO={indent:1,outdent:1,insertOrderedList:1,insertUnorderedList:1,justifyCenter:1,justifyFull:1,justifyRight:1,justifyLeft:1,ltr:1,rtl:1},eO={insertOrderedList:1,insertUnorderedList:1};function iO(a){var b=SJ(zK(a.X),a.X.c());zh(Ah(b,function(a,d,f){return 1==f.xd&&b.containsNode(a)}),function(a){Pe(a,"font-size","");H&&0==a.style.length&&a.getAttribute("style")!=k&&a.removeAttribute("style")})}
function kO(a){zh(a.fh(),function(a){"Apple-style-span"==a.className&&(a.style.fontSize="",a.style.fontWeight="")})}
function lO(a){var b=m;zh(a.fh(),function(a){var d=a.tagName;if("UL"==d||"OL"==d)if(b){if(d=a.previousElementSibling!=h?a.previousElementSibling:td(a.previousSibling,m)){var f=a.ownerDocument.createRange();f.setStartAfter(d);f.setEndBefore(a);if(Ba(f.toString())&&d.nodeName==a.nodeName){for(;d.lastChild;)a.insertBefore(d.lastChild,a.firstChild);d.parentNode.removeChild(d)}}}else b=j})}var nO={1:1,a:1,A:1,i:1,I:1},oO={disc:1,circle:1,square:1};
function mO(a){for(a=(a=a.fh())&&a.If();a&&"UL"!=a.tagName&&"OL"!=a.tagName;)a=a.parentNode;a&&(a=a.parentNode);if(a){var b=Hb(a.getElementsByTagName("UL"));Ib(b,Hb(a.getElementsByTagName("OL")));A(b,function(a){var b=a.type;if(b&&!("UL"==a.tagName?oO:nO)[b])a.type=""})}}var gO={justifyCenter:1,justifyFull:1,justifyRight:1,justifyLeft:1,formatBlock:1},hO={insertOrderedList:1,insertUnorderedList:1};
function jO(a){var b=[],c=jI(zK(a.X));do b.push(c);while(c=c.parentNode);a=Bh(yh(zK(a.X)),yh(b));a=Ah(a,QJ);zh(a,function(a){var b=a.style.outline;a.style.outline="0px solid red";a.style.outline=b})}function bO(a){var b=k;zh(a,function(a,d,f){-1!=f.xd&&(a=RJ(a).tagName,b=b||a,b!=a&&(b=k,e(wh)),f.gJ())});return b}var pO={center:1,justify:1,right:1,left:1};
function aO(a,b){var c=b.replace("+justify","").toLowerCase();"full"==c&&(c="justify");var d=a.X.qh.Bidi;if(d)return c==d.j$();var f=a.fh();if(!f)return m;for(var g=jI(f),d=pb(g.childNodes,function(a){return LJ(a)&&f.containsNode(a,j)}),d=d.length?d:[g],g=0;g<d.length;g++){var i=RJ(d[g]);if(c!=qO(i))return m}return j}function qO(a){var b=Te(a,"textAlign"),b=b.replace(/^-(moz|webkit)-/,"");pO[b]||(b=a.align||"left");return b}SN.prototype.oA=function(a,b,c){return YN(this,m,a,b,c)};
function YN(a,b,c,d,f){d=$N(d);if(f){var g=UN(a);g.execCommand("styleWithCSS",m,j)}a=b?c.queryCommandState(d):c.queryCommandValue(d);f&&g.execCommand("styleWithCSS",m,m);return a};

function rO(){xJ.call(this)}z(rO,xJ);rO.prototype.rq=Bf("+emoticon");rO.prototype.so=function(a){return"+emoticon"==a};rO.prototype.Kx=function(a,b){var c=yJ(this),d=c.l("IMG",{src:b.Zc,style:"margin:0 0.2ex;vertical-align:middle"});d.setAttribute("goomoji",b.z());zK(this.X).vA(d);G||(UJ(d),c.va().focus())};

function sO(a,b){this.uz=[];for(this.oz=[];a&&"BODY"!=a.nodeName&&a!=b;){for(var c=0,d=a.previousSibling;d;)d=d.previousSibling,++c;this.uz.unshift(c);this.oz.unshift(a.nodeName);a=a.parentNode}}z(sO,Pd);sO.prototype.toString=function(){for(var a=[],b,c=0;b=this.oz[c];c++)a.push(this.uz[c]+","+b);return a.join("\n")};function tO(a,b){for(var c,d=b,f=0;c=a.oz[f];++f)if(d=d.childNodes[a.uz[f]],!d||d.nodeName!=c)return k;return d}sO.prototype.n=function(){delete this.uz;delete this.oz};

hj("goog.editor.plugins.Blockquote");

function uO(){xJ.call(this)}z(uO,xJ);p=uO.prototype;p.tag="DIV";p.rq=o("EnterHandler");p.enable=function(a){uO.g.enable.call(this,a);wJ&&("P"==this.tag||"DIV"==this.tag)&&yJ(this).Ia().execCommand("opera-defaultBlock",m,this.tag)};p.YQ=function(a){return!a||Da(a)?jJ?this.BW():"":a};p.BW=Bf("<br>");
p.lX=function(a){if(H&&this.X.bF)return m;if(8==a.keyCode){var b=zK(this.X),c=this.X.c(),b=b&&b.Fa();c.firstChild==b&&NJ(b)&&(a.preventDefault(),a.stopPropagation())}else if(13==a.keyCode)if(H){if(!a.shiftKey){var c=zK(this.X),b=!c||c.isCollapsed(),d=eJ?vO(this):wO(this),f=this.X.execCommand("+splitBlockquote",d);f&&(a.preventDefault(),a.stopPropagation());eJ||d.removeNode(j);f||this.eX(a,b,c)}}else{this.X.Wp();c=eJ?vO(this):wO(this);if(b=!!this.X.execCommand("+splitBlockquote",c))a.preventDefault(),
a.stopPropagation();eJ||c.removeNode(j);hc&&this.fX(a);if(G||gc)xO(this);else if(!b&&hc){if(b=c=zK(this.X))a:{for(b=jI(c);b;b=b.parentNode)if(HJ[b.tagName]){b="BLOCKQUOTE"==b.tagName;break a}b=m}if(b){b=yJ(this);d=b.createElement("BR");c.insertNode(d,j);if(c=!!HJ[d.parentNode.tagName]){for(c=d.nextSibling;c&&3==c.nodeType&&!c.nodeValue;)c=c.nextSibling;c=!c}c&&ld(b.createElement("BR"),d);UJ(d);a.preventDefault()}}this.X.An()}else if(H&&46==a.keyCode&&(b=zK(this.X),b.isCollapsed()&&(c=b.ab(),1==c.nodeType&&
(b=c.childNodes[b.fc()])&&"BR"==b.tagName)))d=KJ(Ah(new FJ(b,m,j),LJ)),f=b.nextSibling,c.removeChild(b),a.preventDefault(),f&&HJ[f.tagName]&&(d&&!("BR"==d.tagName||HJ[d.tagName])?aJ(d,OJ(d)).select():(a=MJ(f),aJ(a,0).select()));return m};p.lg=function(a){if(H&&this.X.bF)return m;(G||gc)&&13==a.keyCode&&xO(this,j);return m};p.fX=fa;p.eX=fa;var yO=Pc("LI","DIV","H1","H2","H3","H4","H5","H6");
function xO(a,b){for(var c=zK(a.X),d=c.If(),f=a.X.c(),g;d&&d!=f;){var i=d.nodeName;if("DIV"==i||yO[i]&&(!b||!(NJ(d)&&1==d.getElementsByTagName("BR").length))){if(gc&&g){"DIV"==i&&g==d.lastChild&&NJ(g)&&(md(g,d),mI(g).select());break}return}gc&&b&&"P"==i&&"DIV"!=i&&(g=d);d=d.parentNode}if(G&&!I(9)){var l=m,c=c.ig(),d=c.duplicate();d.moveEnd("character",1);if(d.text.length&&(l=d.parentElement(),d=d.duplicate(),d.collapse(m),d=d.parentElement(),l=l!=d&&d!=c.parentElement()))c.move("character",-1),c.select()}a.X.Rc.Ia().execCommand("FormatBlock",
m,"<DIV>");l&&(c.move("character",1),c.select())}function wO(a){var a=yJ(a).Ia(),b=a.selection.createRange(),c=eb();b.pasteHTML('<span id="'+c+'"></span>');a=a.getElementById(c);a.id="";return a}
function vO(a){a=zK(a.X);if(!a.isCollapsed()){var b=j;if(gc){var c=a.Fa(),d=a.Ab();c==a.ab()&&c.lastChild&&"BR"==c.lastChild.tagName&&d==c.childNodes.length-1&&(b=m)}if(b){var f=a;if(f&&!f.isCollapsed()){var g=j,b=jI(f),c=new sO(f.Fa(),b),d=f.Ab(),i;i=f;var l=i.Fa();QJ(l)&&(l=l.childNodes[i.Ab()]||l);var l=RJ(l),q=i.ab();QJ(q)&&(q=q.childNodes[i.fc()]||q);q=RJ(q);i=l==q;if(l=!i)a:{var q=f,l=q.ab(),q=q.fc(),s=l;if(QJ(s)){var B=s.childNodes[q];if(!B||1==B.nodeType&&QJ(B)){l=m;break a}}for(B=RJ(s);B!=
s;){if(KJ(Ah(new FJ(s),LJ))){l=j;break a}s=s.parentNode}l=q!=OJ(l)}f.Vk();f=aJ(tO(c,b),d);f.select();i&&(i=RJ(f.Fa()),NJ(i,j)&&(g="&nbsp;",gc&&"LI"==i.tagName&&(g="<br>"),i.innerHTML=g,aJ(MJ(i.firstChild),0).select(),g=m));l&&(f=RJ(f.Fa()),i=KJ(Ah(new FJ(f),LJ)),f&&i&&(jd(f,i.childNodes),od(i)));g&&(f=aJ(tO(c,b),d),f.select())}}}return ZJ(a,j)};

function zO(){xJ.call(this);this.j4=k}z(zO,xJ);var AO=/^(DIV|TR|LI|BLOCKQUOTE|H\d|PRE|XMP)/;function BO(a){a.push("<br>")}p=zO.prototype;p.rq=o("RemoveFormatting");p.so=function(a){return"+removeFormat"==a};p.Kx=function(a){"+removeFormat"==a&&CO(this)};p.GE=function(a,b,c){if(!c)return m;return" "==b?(this.X.execCommand("+removeFormat"),j):m};
function CO(a){zK(a.X).isCollapsed()||(DO(a,a.j4||w(a.lR,a)),yJ(a).Ia().execCommand("RemoveFormat",m,h),pJ&&DO(a,function(a){var c=I("528")?/&nbsp;/g:/\u00A0/g;return a.replace(c," ")}))}function EO(a){return Kd(a,function(a){return"TABLE"==a.tagName},j)}
function DO(a,b){var c=zK(a.X);if(!(1<c.Sn())){if(H){var d=SJ(c,a.X.c()),f=EO(d.Fa()),g=EO(d.ab());if(f||g){if(f==g)return;var i,l=c;i=f;var c=g,d=new cK(l),q=l.Fa(),s=l.Ab(),B=l.ab(),l=l.fc(),E=yJ(a);if(i){var Z=E.createTextNode("");md(Z,i);q=Z;s=0}c&&(Z=E.createTextNode(""),ld(Z,c),B=Z,l=0);eI(q,s,B,l).select();i=d;f||(c=od(dI(i,j)),a.oJ=c);g||(c=od(dI(i,m)),a.CD=c);c=zK(a.X);d=SJ(c,a.X.c())}d.select();c=d}q=c;c=yJ(a).l("div");d=q.ig();eJ?c.appendChild(d.cloneContents()):dJ&&(s=q.Ma(),s=s.replace(/\r\n/g,
"\r"),B=s.length,q=B-s.replace(/^[\s\xa0]+/,"").length,s=B-s.replace(/[\s\xa0]+$/,"").length,d.moveStart("character",q),d.moveEnd("character",-s),q=d.htmlText,"Formatted"==d.queryCommandValue("formatBlock")&&(q=La(d.htmlText)),c.innerHTML=q);q=b(c.innerHTML);E=zK(a.X);c=yJ(a);s=eb();d=eb();q='<span id="'+s+'"></span>'+q+'<span id="'+d+'"></span>';l=eb();B='<span id="'+l+'"></span>';if(dJ){Z=E.gh(0).ig();Z.pasteHTML(B);for(var T;(T=Z.parentElement())&&NJ(T)&&!PJ(T);){E=T.nodeName;if("TD"==E||"TR"==
E||"TH"==E)break;od(T)}Z.pasteHTML(q);(l=c.c(l))&&od(l)}else if(eJ){c.Ia().execCommand("insertImage",m,l);E=RegExp("<[^<]*"+l+"[^>]*>");T=jI(zK(a.X));3==T.nodeType&&(T=T.parentNode);for(;!E.test(T.innerHTML);)T=T.parentNode;if(H)T.innerHTML=T.innerHTML.replace(E,q);else{T.innerHTML=T.innerHTML.replace(E,B);for(T=l=c.c(l);(T=l.parentNode)&&NJ(T)&&!PJ(T);){E=T.nodeName;if("TD"==E||"TR"==E||"TH"==E)break;md(l,T);od(T)}T.innerHTML=T.innerHTML.replace(RegExp(B,"i"),q)}}T=c.c(s);c=c.c(d);eI(T,0,c,c.childNodes.length).select();
od(T);od(c);H&&i&&(c=zK(a.X),T=a.X.c(),a.oJ&&(T.insertBefore(a.oJ,T.firstChild),a.oJ=k),a.CD&&(T.appendChild(a.CD),a.CD=k),T=k,d=dI(i,j),q=dI(i,m),d&&q&&(T=eI(d,0,q,0)),d=T,T=(f?d:c).Fa(),f=(f?d:c).Ab(),q=(g?d:c).ab(),g=(g?d:c).fc(),eI(T,f,q,g).select(),i.o())}}
p.lR=function(a){var b=document.createElement("div");b.innerHTML=a;for(var a=[],b=[b.childNodes,0],c=[],d=0,f=[],g=0,i=0;0<=i;i-=2){for(var l=m;0<g&&i<=f[g-1];)g--,l=j;l&&BO(a);for(l=m;0<d&&i<=c[d-1];)d--,l=j;l&&BO(a);for(var l=b[i],q=b[i+1];q<l.length;){var s=l[q++],B=s.nodeName;if(t(k))a.push(k);else{switch(B){case "#text":s=0<d?s.nodeValue:Ea(s.nodeValue);s=Ma(s);a.push(s);continue;case "P":BO(a);BO(a);break;case "BR":BO(a);continue;case "TABLE":BO(a);f[g++]=i;break;case "PRE":case "XMP":c[d++]=
i;break;case "STYLE":case "SCRIPT":case "SELECT":continue;case "A":if(s.href&&""!=s.href){a.push("<a href='");a.push(s.href);a.push("'>");a.push(this.lR(s.innerHTML));a.push("</a>");continue}else break;case "IMG":a.push("<img src='");a.push(s.src);a.push("'");"0"==s.border&&a.push(" border='0'");a.push(">");continue;case "TD":s.previousSibling&&a.push(" ");break;case "TR":s.previousSibling&&BO(a);break;case "DIV":var E=s.parentNode;if(E.firstChild==s&&AO.test(E.tagName))break;default:AO.test(B)&&
BO(a)}s=s.childNodes;0<s.length&&(b[i++]=l,b[i++]=q,l=s,q=0)}}}return a.join("").replace(/\xa0|[ \t]+/g," ")};

function FO(a){this.RK=a}z(FO,xe);

function GO(){this.GY=100;this.Xf=[];this.Uo=[];this.cA=[]}z(GO,xe);p=GO.prototype;p.vy=k;p.GJ=function(){HO(this,this.Xf,this.Uo)};p.SH=function(){HO(this,this.Uo,this.Xf)};function HO(a,b,c){if(b.length){var d=b.pop();c.push(d);a.dC({type:b==a.Xf?"before_undo":"before_redo",LM:b==a.Xf?d.GJ:d.SH,state:d});(0==b.length||1==c.length)&&a.dispatchEvent("state_change")}}p.dC=function(a){this.cA.push(a);1==this.cA.length&&this.Yp()};
p.Yp=function(){if(!(this.vy||0==this.cA.length)){var a=this.cA.shift();this.dispatchEvent({type:a.type,state:a.state})&&(a.state.RK?(this.vy=M(a.state,"action_completed",this.SV,m,this),a.LM.call(a.state)):(a.LM.call(a.state),this.Yp()))}};p.SV=function(){pe(this.vy);this.vy=k;this.Yp()};

function IO(a){xJ.call(this);a=a||new GO;this.HO&&pe(this.HO);this.Hg=a;this.HO=M(this.Hg,"state_change",this.mV,m,this);this.Fn={};this.Bs={};this.KN=k;this.uU=w(this.N4,this)}z(IO,xJ);IO.prototype.Yh=hj("goog.editor.plugins.UndoRedo");IO.prototype.Gt=k;var JO=Lc({K9:"+undo",b9:"+redo"});p=IO.prototype;p.so=function(a){return a in JO};p.gR=ca("X");p.ZS=function(a){this.disable(a);this.X=k};
p.enable=function(a){if(!this.isEnabled(a)){AK(a);var b=new Kf(this);H||b.e(a,"beforechange",this.UW);b.e(a,fK,this.YW);b.e(a,"blur",this.zE);this.Fn[a.sk]=b;KO(this,a)}};p.disable=function(a){AK(a);var b=this.Fn[a.sk];b&&(b.o(),delete this.Fn[a.sk]);this.Bs[a.sk]&&delete this.Bs[a.sk]};p.isEnabled=function(a){return!!this.Fn[a.sk]};p.n=function(){IO.g.n.call(this);for(var a in this.Fn)this.Fn[a].o(),delete this.Fn[a];this.X=k;this.Hg&&(this.Hg.o(),delete this.Hg)};p.rq=o("UndoRedo");
p.execCommand=function(a){"+undo"==a?this.Hg.GJ():"+redo"==a&&this.Hg.SH()};p.queryCommandValue=function(a){var b=k;"+undo"==a?b=0<this.Hg.Xf.length:"+redo"==a&&(b=0<this.Hg.Uo.length);return b};p.mV=function(){this.X.dispatchEvent({type:"cvc",NU:["+redo","+undo"]})};
p.N4=function(a,b,c){var d=this.X;if(d){BJ(d,j);try{d.Wp();d.execCommand("clearlorem",j);d.c().innerHTML=b;c&&c.select();var f=this.X;d.focus();f&&f.sk!=a.Ws&&f.execCommand("updatelorem");var g=this.Bs[a.Ws];g.Vm=b;g.YS=c}catch(i){bj(this.Yh,"Error while restoring undo state",i)}finally{this.Gt=a,d.An(),CJ(d)}}};
p.GE=function(a,b,c){if(c){var d;"z"==b?d=a.shiftKey?"+redo":"+undo":"y"==b&&(d="+redo");if(d)return(a="+undo"==d?this.Hg.Xf[this.Hg.Xf.length-1]:this.Hg.Uo[this.Hg.Uo.length-1])&&a.Ws?this.X.execCommand(d):this.execCommand(d),j}return m};p.UW=function(a){if(!this.Gt){var a=a.target,b=a.sk;this.KN!=b&&(this.KN=b,KO(this,a))}};p.YW=function(a){this.Gt?(a=this.Gt,this.Gt=k,a.dispatchEvent("action_completed")):KO(this,a.target)};p.zE=function(a){(a=a.target)&&AK(a)};
function KO(a,b){var c=b.sk,d,f;b.queryCommandValue("usinglorem")?(d="",f=k):(d=b.c().innerHTML,f=new LO(b),f=!f.uF()?k:f);var g=a.Bs[c];if(g){if(g.Vm==d)return;if(""==d||""==g.Vm){var i=b.rA(8,"",{});if(d==i&&""==g.Vm||g.Vm==i&&""==d)return}g.TH=d;g.D4=f;i=a.Hg;if(0==i.Xf.length||!g.Kc(i.Xf[i.Xf.length-1])){i.Xf.push(g);i.Xf.length>i.GY&&i.Xf.shift();var l=i.Uo.length;i.Uo.length=0;i.dispatchEvent({type:"state_added",state:g});(1==i.Xf.length||l)&&i.dispatchEvent("state_change")}}a.Bs[c]=new MO(c,
d,f,a.uU)}function MO(a,b,c,d){this.RK=j;this.Ws=a;this.zR=d;this.Vm=b;this.YS=c}z(MO,FO);MO.prototype.GJ=function(){this.zR(this,this.Vm,this.YS)};MO.prototype.SH=function(){this.zR(this,this.TH,this.D4)};MO.prototype.Kc=function(a){return this.Ws==a.Ws&&this.Vm==a.Vm&&this.TH==a.TH};
function LO(a){this.se=a;var b=a.Rc.va(),a=(a=zK(a))&&a.Fq()&&a.va()==b?a:k;if(eJ){if(b=a,this.Qy=m,b){var c=b.Ek()?b.ab():b.Fa(),d=kI(b);if(c&&d){var a=b.Ek()?b.fc():b.Ab(),c=new sO(c,this.se.c()),f=lI(b),d=new sO(d,this.se.c());b.Ek()?(this.gb=d,this.pJ=f,this.eb=c,this.DD=a):(this.gb=c,this.pJ=a,this.eb=d,this.DD=f);this.Qy=j}}}else dJ&&(b=a,this.Qy=m,b&&(a=b.gh(0).ig(),ud(this.se.c(),a.parentElement())&&(b=this.se.Rc.Ia().body.createTextRange(),b.moveToElementText(this.se.c()),d=a.duplicate(),
d.collapse(j),d.setEndPoint("StartToStart",b),this.gb=NO(d),a=a.duplicate(),a.setEndPoint("StartToStart",b),this.eb=NO(a),this.Qy=j)))}LO.prototype.uF=n("Qy");LO.prototype.toString=function(){return eJ?"W3C:"+this.gb.toString()+"\n"+this.pJ+":"+this.eb.toString()+"\n"+this.DD:"IE:"+this.gb+","+this.eb};LO.prototype.select=function(){var a=this.fh(this.se.c());a&&(dJ&&this.se.c().focus(),(a&&a.addElement?QI(a):JI(a,h)).select())};
LO.prototype.fh=function(a){if(eJ){var b=tO(this.gb,a),a=tO(this.eb,a);return!b||!a?k:eI(b,this.pJ,a,this.DD).ig()}b=a.ownerDocument.body.createTextRange();b.moveToElementText(a);b.collapse(j);b.moveEnd("character",this.eb);b.moveStart("character",this.gb);return b};
function NO(a){var b=a.duplicate(),c=a.text,d=c.length;b.collapse(j);b.moveEnd("character",d);for(var f,g=10;(f=b.compareEndPoints("EndToEnd",a))&&!(d-=f,b.moveEnd("character",-f),--g,0==g););a=0;for(b=c.indexOf("\n\r");-1!=b;)++a,b=c.indexOf("\n\r",b+1);return d+a};

function OO(a,b,c){uw.call(this,b,c);this.Xa=a;this.AH=k;t(this.Xa)&&!G&&Xf(this.Xa,function(a){a instanceof ph?(M(a.c(),"keydown",function(b){(13==b.keyCode||32==b.keyCode||40==b.keyCode)&&a.mb(j)}),Vg(a.ua(),j)):a instanceof uG&&M(a.c(),"keydown",function(b){if(13==b.keyCode||32==b.keyCode)ng(a,!(a.W&16)),a.dispatchEvent("action")})})}z(OO,uw);
OO.prototype.zP=function(a){if(27==a.keyCode){var b=k;t(this.Xa)&&Xf(this.Xa,function(a){t(a.ua)&&a.ua().isVisible()&&(a.mb(m),b=a)});b==k&&this.ih(a.target)&&(a.preventDefault(),a.stopPropagation(),t(this.AH)&&this.AH.focus());b!=k&&b.c().focus()}else 9==a.keyCode&&t(this.Xa)&&(b=k,Xf(this.Xa,function(a){t(a.ua)&&a.ua().isVisible()&&(a.mb(m),b=a)}),b!=k&&b.c().focus(),N(function(){ud(this.c(),document.activeElement)||this.ih(a.target)},5,this))};

function PO(a,b){$K.call(this,a,b);this.wi=k;this.mB="https:";this.lB=QO++;pn.gc(this,"aim.messaging.ui.PostingForm Created for "+this.qc)}z(PO,$K);p=PO.prototype;p.Qj="none";p.RD=k;p.lk=k;p.Tv=j;p.Wd=k;p.Xa=k;p.uB=k;p.Sc=k;p.n=function(){this.Pr&&(window.clearTimeout(this.Pr),delete this.Pr);PO.g.n.call(this);pn.gc(this,"aim.messaging.ui.PostingForm Disposed for "+this.qc)};
p.lg=function(a){pn.gc(this,"PostingForm onKeyUp: "+a.keyCode);PO.g.lg.call(this,a);switch(a.keyCode){case 27:case 9:case 38:case 40:case 17:case 18:case 91:case 224:case 224:case 13:break;default:this.QJ()}RO(this);this.Pr=window.setTimeout(w(this.QJ,this,j),3E3)};p.sj=function(a){pn.gc(this,"PostingForm onKey: "+a.keyCode);mp().handleEvent(a)};p.Zh=function(a){PO.g.Zh.call(this,a);this.QJ()};function RO(a){a.Pr&&(window.clearTimeout(a.Pr),delete a.Pr)}
p.QJ=function(a){var b=k;this.wb()?"none"!=this.Qj&&(b="none",RO(this)):a?"typed"!=this.Qj&&(b="typed",RO(this)):b="typing";b&&(this.Qj=b,this.dispatchEvent(new SO(b)))};p.nw=function(a){this.lk&&(a?(C(this.lk,"inactive"),this.wi&&D(this.wi,"displayed")):(D(this.lk,"inactive"),this.wi&&C(this.wi,"displayed")))};
function TO(a,b){var c=k;if(!a.wi){a.Ft||UO(a);var d;d="undefined"!=typeof a.Ft.currentStyle?a.Ft.currentStyle:document.defaultView.getComputedStyle(a.Ft,k);var f={quality:"high",bgcolor:d.backgroundColor,allowscriptaccess:"always",title:"Share an Image or File",wmode:"window"},g={id:"uploadSwf"+a.lB,align:"middle"},i=P()+"common/flash/Uploader.swf",c=ai("flashServer");v(c)&&(i=c+"Uploader.swf");a.mB=i.replace(/^([^:]*:).*/,"$1");a.mB||(a.mB="https:");d="undefined"!=typeof a.lk.currentStyle?a.lk.firstChild.currentStyle:
document.defaultView.getComputedStyle(a.lk,k);var l="uploadSwfPlaceholder"+a.lB;a.Ft.id=l;c=VO(a,b,k);window.swfobject.embedSWF(i,l,d.width,d.height,"10.2.0","playerProductInstall.swf",c,f,g);a.wi=J().c(g.id);a.wi&&C(a.wi,"uploadSwf")}F(a.lk,"inactive")||a.nw(m);return c}
function VO(a,b,c){var d=k,d=c?c:{progressCallback:b+"_progress_"+a.lB,resultCallback:b+"_result_"+a.lB,imageURL:encodeURIComponent(P()+"desktop/images/paperclip.png"),imageHoverURL:encodeURIComponent(P()+"desktop/images/paperclip-hover.png"),imageSpinnerURL:encodeURIComponent(P()+"common/images/ajax-small-transparent.gif"),debug:"true"},b=r._aim_session_,b=ns(b.Ua,b.Ua.Me,b.Zl());d.uploadURL=encodeURIComponent(b.toString().replace(/^([^:]*:)/,a.mB));a.wi&&"sendToActionScript"in a.wi&&a.wi.sendToActionScript(d);
return d}function SO(a){L.call(this,"PostingForm.Typing");this.Qj=a}z(SO,L);var WO=27,QO=0;p=PO.prototype;p.l=function(){PO.g.l.call(this);Gl(this,OM)};function XO(a,b){a.Tv!=b&&(a.Tv=b,a.RH())}
p.RH=function(){if(this.G){if(this.Tv)YO(this),this.c().appendChild(gk(PM)),ZO(this),this.ga(this.dq);else{YO(this);this.c().appendChild(gk(QM));this.field=new PK("",h,this.D());this.field.pi(this.eD);this.O(this.field);this.field.T(K("inputs",this.c()));u(this.disabled)&&this.field.uc(!this.disabled);var a=this.field;a.UF=200;a.mi();a=this.field;a.$F=34;a.mi();this.dq=gl(this.dq);this.ga(this.dq);aL(this).setAttribute("tabindex",20);aL(this).setAttribute("title","Type your message");this.h().e(aL(this),
"keydown",this.Wn).e(aL(this),"keyup",this.lg).e(aL(this),"focus",this.Pf).e(aL(this),"blur",this.tm).e(this.field,"Textarea.Resize",this.ed);this.field.wr(this.kh)}UO(this);u(this.disabled)&&this.ep(this.disabled)}};
function YO(a){a.field&&re(a.field);aL(a)&&re(aL(a));a.Wd&&(a.Wd.o(),a.Wd=k);a.Xa&&(a.Xa.o(),a.Xa=k);a.uB&&(a.uB.o(),a.uB=k);if(a.field&&a.field instanceof JK){var b=a.field.Rc;if(b){var c=b.va();if(c){b=yx(J(a.c()));if(!G||!I(9))b.h().M(c,"focus",b.Pf).M(c,"blur",b.tm);else{var d=(c=c.windowId)?b.Hn[c]:k;d&&b.h().M(d,"focusin",b.Pf).M(d,"focusout",b.tm);c&&delete b.Hn[c]}(b=r._cmd_controller_)&&Bo(b,a.z())}}a.field.o()}kd(a.c())}
function ZO(a){var b=K("posting-form-editor",a.c());if(b){a.field=new JK(b);mK(a.field,new SN);mK(a.field,new uO);mK(a.field,new rO);mK(a.field,new zO);mK(a.field,new IO);mK(a.field,new IN(a.qc));var b=$O()==j?["+fontName","+fontSize","+bold","+italic","+underline"]:"+fontName,+fontSize,+bold,+italic,+underline,+foreColor,+backColor".split(","),c=K("posting-form-toolbar",a.c());c&&(a.Xa=NH(b,c),a.uB=new MN(a.field,a.Xa),FK(a.field));b=K("posting-form-toolbar",a.c());a.Wd=new OO(a.Xa,b);a.Wd.dp(m);
qm(a.Wd);a.ry();b=K("toolbar-button",a.c());G?b.setAttribute("tabindex","-1"):b.setAttribute("tabindex","22");c=new tg("");c.qa(b);a.Wd.AH=b;Xf(a.Xa,function(a){a.c().setAttribute("tabindex","22")});var d=K("emoji-button",a.c());d.setAttribute("tabindex","23");c=new tg("");c.qa(d);new tN(d,a.field);d=K("posting-form-editor",a.c());d.setAttribute("tabindex","20");c=d.contentWindow.document.body;Pe(c,"padding","4px 8px");Pe(c,"margin","0");Pe(c,"overflow-y","hidden");Pe(c,"font-size","small");a.Sc=
new Ie(d.contentWindow.document);a.h().e(aL(a),"keydown",a.Wn).e(aL(a),"keyup",a.lg).e(aL(a),"focus",a.Pf).e(aL(a),"blur",a.tm).e(b,"click",a.g6).e(a.field,NK,a.ed).e(a.Sc,"key",a.sj);wx(yx(J(a.c())),d.contentWindow);(b=r._cmd_controller_)&&wo(b,a.z(),c)}}
function UO(a){var b=a.c(),c=a.D(),d=new ZM;a.O(d);a.lk=c.P("plus-input",b);d.T(a.lk);a.Ft=c.P("uploadSwf",b);a.RD=c.P("file-uploader",d.c());a.RD.setAttribute("tabindex","21");a.h().e(a.RD,["click","change"],w(function(a){this.dispatchEvent(a);this.focus()},a))}
p.g6=function(){if(this.Wd&&!this.Wd.isVisible()){G&&this.focus();var a=K("posting-form-toolbar-button",this.c());this.Wd.L(m);vw(this.Wd,3);this.Wd.vd(new Hf(a,2));var a=this.Wd,b=new Ne(0,0,4,0);a.SF=b==k||b instanceof Ne?b:new Ne(b,h,h,h);a.isVisible()&&a.Xc();this.Wd.L(j);G||(a=K("focusable-content",this.Wd.c()),t(a)&&a.focus());a=yx(J(this.c()));b=Yn&&Zn&&$n?Co(this).va():window;this.h().e(b.document,"mousedown",this.Xq).e(aL(this),"mousedown",this.Xq).e(a,Cx,this.ry)}};
p.ry=function(){this.Wd.L(m);Pe(this.Wd.c(),"display","none");for(var a=Yf(this.Xa),b=0;b<a;b++){var c=Zf(this.Xa,b);c&&c.mb&&c.mb(m)}a=yx(J(this.c()));this.h().M(window.document,"mousedown",this.Xq,j).M(a,Cx,this.ry)};p.Xq=function(a){var a=a.target,b=this.Wd&&this.Wd.c();b&&!ud(b,a)&&!F(a,"goog-menuitem")&&!F(a,"goog-menuitem-checkbox")&&!F(a,"goog-menuitem-content")&&!F(a,"goog-palette-colorswatch")&&!F(a,"toolbar-button")&&this.ry()};
p.Wn=function(a){pn.gc(this,"PostingForm onKeyDn: "+a.keyCode);13==a.keyCode&&(a.altKey||(a.ctrlKey||!a.shiftKey)&&this.Zh(a))};p.ed=function(){if(this.G)if(this.Tv&&aL(this)){var a=this.field.jg();if(a){var b=m;200<a&&(a=200,b=j);G&&30>a?Pe(this.c(),"height",""):Pe(this.c(),"height",a+"px")}Pe(aL(this),"overflow-y",b?"auto":"hidden")}else Pe(this.c(),"height","auto");PO.g.ed.call(this)};p.w=function(){return this.field?this.field.w():""};p.ga=function(a){this.field&&this.field.ga(a)};
p.uc=function(a){pn.gc(this,"PostingForm enabled: "+(a?"yes":"no"));this.field&&this.field.uc(a)};

function aP(a,b){fx.call(this,a,b,"embeddedMedia");this.title=u(b.subtype)?b.subtype:"Media"}z(aP,fx);p=aP.prototype;p.Yb=function(){return gd(this.ea.html)};p.Rn=function(){return new Bc(this.ea.width,this.ea.height)};p.Tn=function(){var a=this.ea.thumbnail_url;a||(a=P()+"common/images/ajax-medium-transparent.gif");return a};p.ok=function(){return new dx};p.kA=function(){return!this.ea.thumbnail_url};

function bP(a,b){fx.call(this,a,b,"embeddedMedia");this.title=u(b.subtype)?b.subtype:"External"}z(bP,fx);bP.prototype.Yb=o(k);bP.prototype.Rn=function(){return new Bc(this.ea.width,this.ea.height)};bP.prototype.Tn=function(){var a=this.ea.thumbnail_url;a||(a=P()+"common/images/videoPlaceholder.png");return a};bP.prototype.ok=function(){return new dx};

function cP(){}z(cP,fg);ga(cP);p=cP.prototype;p.l=function(a){var b={"class":"goog-inline-block "+this.Hf(a).join(" "),title:a.Ph()||""};return a.D().l("div",b,a.Yb())};p.sd=o("button");p.ae=function(a){return"DIV"==a.tagName};p.qa=function(a,b){C(b,"goog-inline-block");return cP.g.qa.call(this,a,b)};p.w=o(k);p.la=o("goog-flat-button");gg("goog-flat-button",function(){return new tg(k,cP.j())});

function dP(){}z(dP,cP);ga(dP);dP.prototype.la=o("goog-link-button");gg("goog-link-button",function(){return new tg(k,dP.j())});

function eP(a,b){fx.call(this,a,b,"image");var c={};t(b)&&t(b.embed_info)&&(c=Ml(b.embed_info));this.DV=c;this.IN=b||{};this.ql=0;t(b)&&(this.ql=b.width||0);this.title=""}z(eP,fx);eP.prototype.Yb=function(){var a=k;qi||(a=document.createElement("img"),a.setAttribute("src",fP(this)),C(a,"playground-image"));return a};eP.prototype.Rn=function(){return new Bc(this.ea.width,this.ea.height)};function fP(a){return a.IN.image_url||a.DV.url||a.me.toString()}
eP.prototype.Tn=function(){var a=fP(this),b=this.IN.scaling_url||a;600<this.ql&&0<=b.search(/(\.aol\.com\/hss\/storage\/)|(\.hss\.aol\.com\/)|(:\/+o\.aolcdn\.com)/)&&0>b.search(/\.gif$|\.ico$/i)&&(a="http://o.aolcdn.com/dims-shared/dims3/AIMT/1/600///"+encodeURI(b));return a};eP.prototype.n=function(){var a=fP(this);ne(this.wY,"click",function(){ji(a)});this.wY=k;eP.g.n.call(this)};

function gP(a,b){Ww.call(this,0,b)}z(gP,Ww);gP.prototype.l=function(){gP.g.l.call(this);var a=this.H().Um.user.profile_image_url;if(a){var b=new dw;ew(b,"tweet_Icon"+ +new Date,a);this.h().e(b,"load",this.Mz);b.start()}else this.Mz()};
gP.prototype.Mz=function(){var a=this.H().Sa(),a=gk(hP,a,this.D()),b=Tc("a",h,a);A(b,function(a){a.setAttribute("target","_blank")});this.h().e(a,"click",function(a){"A"!=a.target.tagName&&"a"!=a.target.tagName&&Ci(this.H().me.toString())},h,this);this.pb&&this.pb.appendChild(a);this.dispatchEvent("aim.playgrounds.EventType.PREVIEW_LOADED")};

function iP(a,b){fx.call(this,a,b,"tweet");this.Um=Ml(b.tweet)||{}}z(iP,fx);iP.prototype.ok=function(){return new gP};iP.prototype.Sa=function(){var a=gd("<div>"+(t(this.Um.text_linkified)&&0<this.Um.text_linkified.length?this.Um.text_linkified:this.Um.text)+"</div>"),b=Tc("a",k,sd(a));A(b,function(a){a.setAttribute("target","_blank")});return{text:a.innerHTML,FR:this.Um.user.screen_name,name:this.Um.user.name,aR:this.Um.user.profile_image_url}};

function jP(){Ww.call(this,0,h)}z(jP,dx);jP.prototype.l=function(){Gl(this,kP,{opt_duration:""});this.pb=K("preview-content",this.c())};

function lP(a,b){fx.call(this,a,b,"video");this.title=u(b.subtype)?b.subtype+" Video":"Video"}z(lP,fx);lP.prototype.Yb=function(){var a=k,b=gd(this.ea.html);try{var c=Tc("embed",h,b)[0],a=new pw(c.getAttribute("src"));a.tT="opaque"}catch(d){a=b}return a};lP.prototype.Rn=function(){return new Bc(this.ea.width,this.ea.height)};lP.prototype.Tn=function(){return this.ea.thumbnail_url};lP.prototype.ok=function(){return new jP};

function mP(a,b){fx.call(this,a,b,"video");this.title="Video"}z(mP,fx);mP.prototype.Yb=function(){return gk(nP,{src:this.ea.html,width:this.ea.width,height:this.ea.height})};mP.prototype.Tn=function(){return this.ea.thumbnail_url};

function oP(a,b){var c;c=k;var d=b.type;500<=b.statusCode&&0<=a.toString().search(/(\.bmp|\.gif|\.ico|\.jpe|\.jpeg|\.jpg|\.png)([\/\?]|$)/i)&&(d="image");"av pic"==b.rel&&(d="image");var f="thumbnail_url"in b,g="html"in b;switch(d){case "image":c=new eP(a,b);break;case "photo":c=new eP(a,b);break;case "video":if(!f||!g)d="link";else switch(b.subtype){case "yFrog":c=new mP(a,b);break;case "Flickr":break;default:c=new lP(a,b)}break;case "tweet":c=new iP(a,b);break;default:g||(d="link")}c||(g&&"link"!=
d?c=new aP(a,b):f&&(c=new bP(a,b)));return ia(c)?k:(new ex(c)).q()};

function pP(a){V.call(this);this.vc(a);this.Be=[];this.Qt=m}z(pP,V);p=pP.prototype;p.uK=6E4;p.GF=k;p.uJ="";p.iv=m;p.AO=j;p.Xt=-1;p.l=function(){pP.g.l.call(this);Gl(this,KM)};p.K=function(a){pP.g.K.call(this,a);O(qP(this,this.NB),m);rP(this,WO)};
p.v=function(){pP.g.v.call(this);if(this.Be&&0<this.Be.length)for(var a=0;a<this.Be.length;a++){var b=this.Be[a];b&&!(b instanceof GM)&&sP(this,b)}this.AO||D(qP(this,this.dn),"hidden");a=K("messaging-history",this.c());this.h().e(this.c(),"click",this.Kb).e(a,"focus",this.Pf).e(tP(this),"scroll",this.Fu).e(window,"resize",this.Wz).e(r._aim_session_,"preference",this.xm).e(this.Pe(),"key",this.yu);a=Ll.j().get("other","preferences");uP(this,a&&u(a.viewIMsInBubbles)?a.viewIMsInBubbles:j);vP(this)};
p.$=function(){pP.g.$.call(this);this.h().M(this.c(),"click",this.Kb).M(tP(this),"scroll",this.Fu).M(window,"resize",this.Wz).M(r._aim_session_,"preference",this.xm)};p.xm=function(a){var b=a.w("viewIMsInBubbles");u(b)&&uP(this,"1"==a.w("viewIMsInBubbles"))};function uP(a,b){a.G&&(b?D(a.c(),"non-bubble"):C(a.c(),"non-bubble"),a.Fe(j))}p.yT="messaging-history";p.dn="load-more-button";p.NB="load-more-loading-button";p.gK="messaging-message-container-timestamp";
function qP(a,b,c){return a.D().P(b,c||a.c())}function tP(a){return qP(a,a.yT)}function wP(a,b){var c=xP(a,b);return c?yP(c):k}function zP(a,b){var c=k,d=Vc("messaging-message-container-timestamp",a.c());!b&&t(d)&&(d=Hb(d).reverse());for(var f=0;f<d.length;f++){var g=d[f].getAttribute("time"),g=t(g)?parseInt(g,10):"";if(!Ca(g)){c=(new Date(g)).getTime();break}}return c}
function AP(a){var b=k;if(a.G)for(var a=Vc("messaging-message",a.c()),c=0;!b&&c<a.length;c++){var d=a[c].id.substring(8);d&&"undefined"!=d&&(b=ru(d),b=Ll.j().H(b))}return b}function xP(a,b){return b instanceof qv?b.za?J(a.c()).c("aim_msg_"+b.za):k:k}function yP(a){return Ld(a,"messaging-message-messagebox")}
function sP(a,b,c){if(a.G&&!xP(a,b)){vP(a,b);var d;c?d=wP(a,c):(d=Vc("messaging-message-messagebox",a.c()),d=0<d.length?d[d.length-1]:k);var f=!d;if(!f){var g=zP(a);g&&(f=b.Aa.getTime(),f=f-g>a.uK)}g=!d||f;if(!g)var g=d.getAttribute("aimid"),i=b instanceof qv?b.m():k,g=Ca(g)||!i||g!=i;g||(g=F(d,"activity"),i=b.Ey||b.$A(),g=g||i);g&&(d=BP(b),CP(a,d,m,c));f&&(g=new Eo(h,j,j),f=b.Aa.getTime(),g.setTime(new Date(f)),a.O(g),g.qa(qP(a,a.gK,d)));f=new WM(b);a.O(f);f.l();DP(a,f.c(),d,m,c);f.v();b.C?b.C()&&
b.C().R():a.H().R();a.aa()&&a.H().R();a.Fe();a.GF&&XM(a.GF,m);a.GF=f;XM(f,j);EP(a,f)}}function FP(a){a=Vc("messaging-message-messagebox",a.c());A(a,function(a){od(a)})}function CP(a,b,c,d){d?(a=wP(a,d),c?ld(b,a):md(b,a)):(a=K("messaging-history",a.c()),nd(a,b,c?1:rd(a).length-1))}function DP(a,b,c,d,f){if(f&&(a=xP(a,f))&&ud(c,a)){d?ld(b,a):md(b,a);return}c=K("messaging-message-container",c);nd(c,b,d?1:rd(c).length)}
function BP(a){var b=a instanceof tu||a.Ey,c={};c.on=a.Mc();b&&a instanceof GM&&("offTheRecord"==a.Ga()?(c.start=j,c.on=j):c.end=j);var d=m,f=m;!b&&a instanceof qv&&(d=r._aim_user_.Kc(a),f=a.$A());var g=a.Sa(),a=a instanceof qv,i=new W;i.append('<div class="messaging-message-messagebox',c.on?" otr ":""," ",b||f?" activity":"",'"',g.V?'aimid="'+X(g.V.cc)+'"':"",' tabindex="-1" aria-describedby="historyHiddenAriaText">',c.start||c.end?'<div class="otr_'+(c.start?"start":"end")+'"></div>':"",'<div class="messaging-message-container-timestamp"></div><div class="messaging-message-container',
b||f?" activity":d?" mine":" buddy",'">');a&&LM({V:g.V,po:d},i);i.append('</div><div style="clear:both;"></div></div>');b=i.toString();return gd(b)}p.Kb=function(a){var b=a.target;if(F(b,"messaging-avatarImg")||F(b,"displayname"))this.aa()&&(b=b.getAttribute("aimId"),!Ca(b)&&b!=r._aim_session_.m()&&(a.stopPropagation(),this.dispatchEvent(new zL(jr(b)))));else if(F(b,this.dn)){a.stopPropagation();O(qP(this,this.NB),j);O(qP(this,this.dn),m);if(a=Vc("messaging-message",this.c()))this.uJ=a[0].id;this.dispatchEvent("aim.messaging.ui.History.EventType.LOAD_MORE")}};
p.Pf=function(a){var b=document.activeElement;this.GM||(a=a.target,!F(b,"messaging-message-messagebox")&&!F(a,"styled-scrollable")&&(b=Vc("messaging-message-messagebox",this.c()),(b=b[b.length-1])&&b.focus()));this.GM=m};
p.yu=function(a){var b=document.activeElement;if(F(b,"messaging-message-messagebox"))if(38==a.keyCode){if(b=b.previousSibling)b.focus(),a.preventDefault()}else if(40==a.keyCode){if(b=b.nextSibling)b.focus(),a.preventDefault()}else if(36==a.keyCode){if(b=Vc("messaging-message-messagebox",this.c()),b=b[0])b.focus(),a.preventDefault()}else if(35==a.keyCode){if(b=Vc("messaging-message-messagebox",this.c()),b=b[b.length-1])b.focus(),a.preventDefault()}else 9==a.keyCode&&(this.GM=j,K("messaging-history",
this.c()).focus())};p.Fu=function(){GP(this)};p.Wz=function(){this.Fe()};function HP(a){var a=Vc("messaging-message",a.c()),b=Ll.j(),c=/^aim_msg_/;A(a,function(a){a=ru(a.id.replace(c,""));(a=b.q(a))&&a.QE()})}p.Yd=function(){HP(this);this.G&&(this.iv?0<=this.Xt&&(IP(this,this.Xt),delete this.Xt):this.Fe())};p.hf=function(){var a=tP(this);a&&(this.iv?this.Xt=a.scrollTop:delete this.Xt)};function JP(a,b){a.AO=!b;a.G&&(b?(D(qP(a,a.dn),"hidden"),a.Fe()):(C(qP(a,a.dn),"hidden"),O(qP(a,a.dn),j)))}
function KP(a){return!Ca(a.uJ)?(N(function(){var a=J(this.c()).c(this.uJ);IP(this,a.offsetTop+a.parentNode.offsetTop-30)},0,a),j):m}p.WT=function(){this.Fe()};function IP(a,b){a.Tx=j;var c=tP(a);c.scrollTop!=b&&(c.scrollTop=b);a.Tx&&N(function(){this.Tx=m},2E3,a)}p.Fe=function(a){if(this.G&&(a||!this.iv))this.IR&&Be(this.IR),a=tP(this).scrollHeight,0<a?IP(this,a):this.IR=N(this.Fe,30,this)};
function GP(a){a.Tx||(a.HR&&Be(a.HR),a.HR=N(function(){var a=m,c=tP(this);t(c)&&(a=c.scrollTop>=c.scrollHeight-c.offsetHeight-100);this.iv=!a},1E3,a))}
p.Vu=function(a){if(a)if(this.Be.length){if(this.Be.unshift(a),this.G&&!xP(this,a)){var b;b=Vc("messaging-message-messagebox",this.c());b=0<b.length?b[0]:k;var c=AP(this),d=j,f=zP(this,j);f&&(d=a.Aa.getTime(),d=f-d>this.uK);f=!b||d;if(!f)var f=b.getAttribute("aimid"),g=a instanceof qv?a.m():k,f=Ca(f)||!g||f!=g;f||(f=F(b,"activity"),g=a.Ey||a.$A(),f=f||g);f=f?k:b;f||(f=BP(a),CP(this,f,j));d&&c&&(g=new Eo(h,j,j),d=c.Aa.getTime(),g.setTime(new Date(d)),this.O(g),g.qa(qP(this,this.gK,b)));a=new WM(a);
this.O(a);a.l();DP(this,a.c(),f,j);a.v();this.Fe();EP(this,a)}}else this.wl(a)};p.wl=function(a){a&&(this.Be.push(a),sP(this,a))};function LP(a,b,c){for(var d=ub(a.Be,function(a){return a instanceof qv&&a.za==c})+1,f=0;f<b.length;f++,d++)Ab(a.Be,b[f],d),sP(a,b[f],a.Be[d-1])}function MP(a){for(var b=Ll.j(),a=a.Be,c=0,d;d=a[c];c++)if(d=d.aj?d.za:k)d=ru(d),b.remove("model",d),b.remove("ui",d)}
function EP(a,b){var c=b.H();if(c instanceof qv&&!ia(c.Ie)){tP(a);var d=c.Ie;A(u(d.urlInfoResults)?d.urlInfoResults:d,function(a){var d=a.url;a.uInfo.scaling_url=uv(c,d);var i=oP(new Ih(d),a.uInfo);if(!ia(i)){if(a=this.c())i.Av=a;var l=jf(b.c()).height;Mf(Mf(this.h(),i,"aim.playgrounds.EventType.PREVIEW_RENDERED",this.WT),i,"aim.playgrounds.EventType.PREVIEW_LOADED",w(function(){cx(b,i);if(this.iv){var a=jf(b.c()).height,a=parseInt(a-l,10);0<a&&(this.Tx||IP(this,tP(this).scrollTop+a))}else this.Fe(j)},
this));b.O(i,j)}},a)}}p.JC=function(){Xf(this,function(a){(a instanceof Eo||a instanceof WM)&&this.removeChild(a,j)},this);FP(this);MP(this);JP(this,m);this.Be=[]};p.aa=function(){return t(this.H())&&this.H().aa()};p.Yl=n("Be");p.Ld=function(){return vb(this.Be,function(a){return a instanceof qv})};function NP(a,b){return rb(a.Be,function(a){return a.za==b})}function rP(a,b){var c=tP(a);c&&(c.style.bottom=b+"px",a.Fe())}
function vP(a,b){if(a.G&&!a.aa()&&(!b||b instanceof qv)){var c=m;b?c=b.Mc():a.H()&&(c=a.H().Mc());a.Qt!=c&&(a.Qt=!a.Qt,a.Qt?C(a.c(),"otr"):D(a.c(),"otr"),a.wl(new GM(a.Qt)))}};

function OP(){V.call(this)}z(OP,V);p=OP.prototype;p.W="";p.xD="";p.Oj=k;p.l=function(){OP.g.l.call(this);Gl(this,NM,{message:""})};p.v=function(){OP.g.v.call(this);PP(this,m)};p.n=function(){OP.g.n.call(this)};function QP(a,b,c,d){if(a.G){var f=a.c();a.W=b;Ba(a.xD)?C(f,c):Sb(f,a.xD,c);a.xD=c;f.innerHTML=d}}p.xN=function(){delete this.Oj;PP(this,m)};function PP(a,b){a.G&&O(a.c(),b)}function RP(a){a.Oj=N(a.xN,8E3,a)};

function SP(){V.call(this);this.W="clear"}z(SP,OP);
SP.prototype.Cx=function(a){var b="",c="";switch(a){case "disconnect":b="messaging-rateLimitAlert-disconnect";c="This chat has been dropped because you keep getting rate limited.";break;case "limit":this.Oj&&(Be(this.Oj),this.Oj=k);b="messaging-rateLimitAlert-limit";c="You have been rate limited.  Wait for a few moments until you can chat again.";break;case "warn":if("warn"==this.W)return;b="messaging-rateLimitAlert-warn";c="Warning: You are sending IMs way too fast.  You are about to get rate limited!";RP(this);
break;case "clear":if("limit"!=this.W)return;b="messaging-rateLimitAlert-clear";c="You are no longer rate limited.";RP(this);break;case "too_large":b="messaging-rateLimitAlert-toolarge",c="Whoa! Your message was a bit too large. Press enter to send more."}QP(this,a,b,c);PP(this,j)};

function TP(a){V.call(this);this.r=a}z(TP,OP);
TP.prototype.Cx=function(a,b,c){var d="";switch(a){case 430:return;case 603:case 602:if(Ku(this.r))d=y("You have blocked {$user}. To start a chat, you must unblock them.",{user:this.r.R()});else switch(d="Looks like the person you\u2019re trying to reach might be offline and doesn\u2019t want to receive offline messages. Bummer.",b){case 1:switch(c){case 21:d="Whoops. Looks like this person is offline.     Since this chat is \u201coff the record,\u201d we can\u2019t deliver your message right now. You can either try again later or take     the chat back on the record to send an offline message."}}RP(this);break;
case 408:break;case 606:d="The message is too long.  Please shorten the message       and try again.";RP(this);break;default:d="Bummer. Your message failed. Try shortening it a bit.",RP(this)}""!=d&&(QP(this,a?a.toString():"","messaging-sendImFailedAlert-offline",d),PP(this,j))};

function UP(){this.Ub="closure_frame"+VP++;this.YE=[];WP[this.Ub]=this}var XP;z(UP,xe);var WP={},VP=0;function YP(a,b){uh(b,function(b,d){var f=cd("input",{type:"hidden",name:d,value:b});a.appendChild(f)})}p=UP.prototype;p.Z=hj("goog.net.IframeIo");p.mc=k;p.ic=k;p.bo=k;p.gZ=0;p.sb=m;p.ws=m;p.kB=m;p.$b=k;p.Zt=k;p.Ac=0;p.He=0;p.Ze=k;p.ao=k;
p.send=function(a,b,c,d){this.sb&&e(Error("[goog.net.IframeIo] Unable to send, already active."));this.$b=a=new Ih(a);b=b?b.toUpperCase():"GET";c&&ci(a);this.Z.info("Sending iframe request: "+a+" ["+b+"]");XP||(XP=cd("form"),XP.acceptCharset="utf-8",c=XP.style,c.position="absolute",c.visibility="hidden",c.top=c.left="-10px",c.width=c.height="10px",c.overflow="hidden",document.body.appendChild(XP));this.mc=XP;"GET"==b&&YP(this.mc,a.Wc);d&&YP(this.mc,d);this.mc.action=a.toString();this.mc.method=b;
ZP(this)};function $P(a,b,c){a.sb&&e(Error("[goog.net.IframeIo] Unable to send, already active."));c=new Ih(c||b.action);ci(c);a.Z.info("Sending iframe request from form: "+c);a.$b=c;a.mc=b;a.mc.action=c.toString();ZP(a)}p.abort=function(a){this.sb&&(this.Z.info("Request aborted"),re(aQ(this)),this.kB=this.sb=this.ws=m,this.Ac=a||7,this.dispatchEvent("abort"),bQ(this))};
p.n=function(){dj(this.Z,"Disposing iframeIo instance");this.sb&&(dj(this.Z,"Aborting active request"),this.abort());UP.g.n.call(this);this.ic&&cQ(this);dQ(this);delete this.oM;this.$b=this.Zt=this.mc=k;this.Ac=0;delete WP[this.Ub]};p.Mt=n("ws");p.ro=n("kB");p.isActive=n("sb");p.On=n("Zt");p.nf=function(){return Ml(this.Zt)};p.Yx=n("$b");p.lE=n("Ac");p.kE=function(){return Gn(this.Ac)};p.zv=function(a){this.He=Math.max(0,a)};
function ZP(a){a.sb=j;a.ws=m;a.Ac=0;dj(a.Z,"Creating iframe");a.bo=a.Ub+"_"+(a.gZ++).toString(36);var b={name:a.bo,id:a.bo};G&&7>mc&&(b.src='javascript:""');a.ic=cd("iframe",b);b=a.ic.style;b.visibility="hidden";b.width=b.height="10px";hc?b.marginTop=b.marginLeft="-10px":(b.position="absolute",b.top=b.left="-10px");if(G){a.mc.target=a.bo||"";document.body.appendChild(a.ic);M(a.ic,"readystatechange",a.UG,m,a);try{a.FD=m,a.mc.submit()}catch(c){ne(a.ic,"readystatechange",a.UG,m,a),a.qk(1)}}else{dj(a.Z,
"Setting up iframes and cloning form");document.body.appendChild(a.ic);var b=a.bo+"_inner",d=zd(a.ic),f="<body><iframe id="+b+" name="+b+"></iframe>";document.baseURI&&(f='<head><base href="'+Ma(document.baseURI)+'"></head>'+f);gc?d.documentElement.innerHTML=f:d.write(f);M(d.getElementById(b),"load",a.Lz,m,a);for(var g=a.mc.getElementsByTagName("textarea"),f=0,i=g.length;f<i;f++){var l=g[f].value;Id(g[f])!=l&&(Ad(g[f],l),g[f].value=l)}g=d.importNode(a.mc,j);g.target=b;g.action=a.mc.action;d.body.appendChild(g);
for(var l=a.mc.getElementsByTagName("select"),q=g.getElementsByTagName("select"),f=0,i=l.length;f<i;f++)for(var s=l[f].getElementsByTagName("option"),B=q[f].getElementsByTagName("option"),E=0,Z=s.length;E<Z;E++)B[E].selected=s[E].selected;l=a.mc.getElementsByTagName("input");q=g.getElementsByTagName("input");f=0;for(i=l.length;f<i;f++)if("file"==l[f].type&&l[f].value!=q[f].value){dj(a.Z,"File input value not cloned properly.  Will submit using original form.");a.mc.target=b;g=a.mc;break}dj(a.Z,"Submitting form");
try{a.FD=m,g.submit(),d.close(),H&&N(a.DS,250,a)}catch(T){bj(a.Z,"Error when submitting form: "+Li(T)),ne(d.getElementById(b),"load",a.Lz,m,a),d.close(),a.qk(2)}}}p.UG=function(){if("complete"==this.ic.readyState){ne(this.ic,"readystatechange",this.UG,m,this);var a;try{if(a=zd(this.ic),G&&"about:blank"==a.location&&!navigator.onLine){this.qk(9);return}}catch(b){this.qk(1);return}eQ(this,a)}};
p.Lz=function(){if(!(gc&&"about:blank"==(this.ic?zd(aQ(this)):k).location))ne(aQ(this),"load",this.Lz,m,this),eQ(this,this.ic?zd(aQ(this)):k)};
function eQ(a,b){dj(a.Z,"Iframe loaded");a.ws=j;a.sb=m;var c;try{var d=b.body;a.Zt=d.textContent||d.innerText}catch(f){c=1}var g;!c&&"function"==typeof a.oM&&(g=a.oM(b))&&(c=4);a.Z.log($i,"Last content: "+a.Zt,h);a.Z.log($i,"Last uri: "+a.$b,h);c?(dj(a.Z,"Load event occurred but failed"),a.qk(c,g)):(dj(a.Z,"Load succeeded"),a.kB=j,a.Ac=0,a.dispatchEvent("complete"),a.dispatchEvent("success"),bQ(a))}
p.qk=function(a){this.FD||(this.sb=this.kB=m,this.ws=j,this.Ac=a,this.dispatchEvent("complete"),this.dispatchEvent("error"),bQ(this),this.FD=j)};function bQ(a){a.Z.info("Ready for new requests");cQ(a);dQ(a);a.dispatchEvent("ready")}function cQ(a){var b=a.ic;b&&(b.onreadystatechange=k,b.onload=k,b.onerror=k,a.YE.push(b));a.ao&&(Be(a.ao),a.ao=k);H||gc?a.ao=N(a.fM,2E3,a):a.fM();a.ic=k;a.bo=k}
p.fM=function(){this.ao&&(Be(this.ao),this.ao=k);for(;0!=this.YE.length;){var a=this.YE.pop();this.Z.info("Disposing iframe");od(a)}};function dQ(a){a.mc&&a.mc==XP&&kd(a.mc);a.mc=k}function aQ(a){return a.ic?G?a.ic:zd(a.ic).getElementById(a.bo+"_inner"):k}
p.DS=function(){if(this.sb){var a=this.ic?zd(aQ(this)):k;a&&!ae(a,"documentUri")?(ne(aQ(this),"load",this.Lz,m,this),navigator.onLine?(cj(this.Z,"Silent Firefox error detected"),this.qk(3)):(cj(this.Z,"Firefox is offline so report offline error instead of silent error"),this.qk(9))):N(this.DS,250,this)}};

function fQ(a){V.call(this);this.YL=a;this.Qm=new V(this.YL);this.$y=k;this.lM=m}z(fQ,V);p=fQ.prototype;p.l=function(){fQ.g.l.call(this);Gl(this,TM,{action:Ul?Ul.API_PLAYGROUND_UPLOAD:""},this.YL)};
p.K=function(a){fQ.g.K.call(this,a);var b=this.D();b.P("snapper-container",a);this.$y=Tc("div","loading",a)[0];this.kx=new tg("",Wg.j());this.O(this.kx);this.kx.T(b.P("snapper-close",a));C(this.kx.c(),"button");this.Zy=new tg("x");this.O(this.Zy);this.Zy.T(this.$y);C(this.Zy.c(),"snap-uploader-close");this.h().e(this.kx,"action",this.V4).e(this.Zy,"action",this.b_);this.mc=Tc("form",h,a)[0]};p.b_=function(){this.dispatchEvent(gQ)};p.V4=function(){this.dispatchEvent(hQ)};p.v=function(){fQ.g.v.call(this)};
p.show=function(){O(this.c(),j)};p.Om=function(){C(this.$y,"error")};p.Ge=function(a){a?(C(this.c(),"loading"),D(this.$y,"error")):D(this.c(),"loading")};p.Vq=function(a){Tc("input",h,this.mc)[0].setAttribute("value",a.replace("data:image/jpg;base64,",""));this.dispatchEvent(new iQ(this.mc))};var gQ="aim.messaging.ui.Snapper.EventType.CANCEL_UPLOADING",hQ="aim.messaging.ui.Snapper.EventType.CLOSE";function iQ(a){L.call(this,"aim.messaging.ui.Snapper.EventType.SNAPPED");this.mc=a}z(iQ,L);




function jQ(a,b,c){tq.call(this,h,new kQ);A(a,function(a){this.O(a,j)},this);this.Fh(c,2,3);this.T(b)}z(jQ,tq);jQ.prototype.Ib=function(){jQ.g.Ib.call(this);var a=K("panel-header-menu-button");t(a)&&a.focus()};function kQ(){}z(kQ,Sg);kQ.prototype.l=function(a){a=kQ.g.l.call(this,a);C(a,"conversation-menu");return a};function lQ(a){L.call(this,"clear-history");this.r=a}z(lQ,L);lQ.prototype.C=n("r");

function mQ(){}z(mQ,xe);p=mQ.prototype;p.md=0;p.bi=0;p.pj=100;p.$g=0;p.Kr=1;p.yk=m;p.jG=m;p.ga=function(a){a=nQ(this,a);this.md!=a&&(this.md=a+this.$g>this.pj?this.pj-this.$g:a<this.bi?this.bi:a,!this.yk&&!this.jG&&this.dispatchEvent("change"))};p.w=function(){return nQ(this,this.md)};p.dE=function(){return this.Kr==k?this.$g:Math.round(this.$g/this.Kr)*this.Kr};
p.II=function(a){if(this.bi!=a){var b=this.yk;this.yk=j;this.bi=a;a+this.$g>this.pj&&(this.$g=this.pj-this.bi);a>this.md&&this.ga(a);a>this.pj&&(this.$g=0,this.UA(a),this.ga(a));this.yk=b;!this.yk&&!this.jG&&this.dispatchEvent("change")}};p.$x=function(){return nQ(this,this.bi)};
p.UA=function(a){a=nQ(this,a);if(this.pj!=a){var b=this.yk;this.yk=j;this.pj=a;a<this.md+this.$g&&this.ga(a-this.$g);a<this.bi&&(this.$g=0,this.II(a),this.ga(this.pj));a<this.bi+this.$g&&(this.$g=this.pj-this.bi);this.yk=b;!this.yk&&!this.jG&&this.dispatchEvent("change")}};p.Zx=function(){return nQ(this,this.pj)};function nQ(a,b){return a.Kr==k?b:a.bi+Math.round((b-a.bi)/a.Kr)*a.Kr};

function oQ(a){Of.call(this,a);this.Dm=new mQ;M(this.Dm,"change",this.VW,m,this)}z(oQ,Of);var pQ={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};p=oQ.prototype;p.l=function(){this.Fg=qQ(this);var a=pQ[this.We];this.F=this.D().l("div",a,this.Fg);rQ(this);sQ(this);tQ(this)};p.v=function(){oQ.g.v.call(this);this.Gh();this.fw();Ce(this.c(),"progressbar");De(this.c(),"live","polite")};p.$=function(){oQ.g.$.call(this);this.Ri()};
function qQ(a){return a.D().l("div","progress-bar-thumb")}p.Gh=function(){G&&7>mc&&M(this.c(),"resize",this.fw,m,this)};p.Ri=function(){G&&7>mc&&ne(this.c(),"resize",this.fw,m,this)};p.K=function(a){oQ.g.K.call(this,a);C(this.c(),pQ[this.We]);a=Tc(k,"progress-bar-thumb",this.c())[0];a||(a=qQ(this),this.c().appendChild(a));this.Fg=a};p.w=function(){return this.Dm.w()};p.ga=function(a){this.Dm.ga(a);this.c()&&rQ(this)};function rQ(a){De(a.c(),"valuenow",a.w())}p.$x=function(){return this.Dm.$x()};
p.II=function(a){this.Dm.II(a);this.c()&&sQ(this)};function sQ(a){De(a.c(),"valuemin",a.$x())}p.Zx=function(){return this.Dm.Zx()};p.UA=function(a){this.Dm.UA(a);this.c()&&tQ(this)};function tQ(a){De(a.c(),"valuemax",a.Zx())}p.We="horizontal";p.VW=function(){this.fw();this.dispatchEvent("change")};
p.fw=function(){if(this.Fg){var a=this.$x(),b=this.Zx(),a=(this.w()-a)/(b-a),b=Math.round(100*a);"vertical"==this.We?G&&7>mc?(this.Fg.style.top=0,this.Fg.style.height="100%",b=this.Fg.offsetHeight,a=Math.round(a*b),this.Fg.style.top=b-a+"px",this.Fg.style.height=a+"px"):(this.Fg.style.top=100-b+"%",this.Fg.style.height=b+"%"):this.Fg.style.width=b+"%"}};
p.yr=function(a){if(this.We!=a){var b=pQ[this.We],c=pQ[a];this.We=a;this.c()&&(Sb(this.c(),b,c),a=this.Fg.style,"vertical"==this.We?(a.left=0,a.width="100%"):(a.top=a.left=0,a.height="100%"),this.fw())}};p.n=function(){this.Ri();oQ.g.n.call(this);this.Fg=k;this.Dm.o()};

function uQ(){V.call(this)}z(uQ,V);uQ.prototype.l=function(){uQ.g.l.call(this);Gl(this,RM,{formUrl:Ul?Ul.API_PLAYGROUND_UPLOAD:""})};uQ.prototype.l_=function(){this.dispatchEvent(vQ)};uQ.prototype.K=function(a){uQ.g.K.call(this,a);this.En=K("messaging-uploader-error",a);var b=K("progress-container",a);this.Aj=new oQ;this.Aj.yr("horizontal");this.O(this.Aj);this.Aj.T(b);(a=K("cancel-button",a))&&this.h().e(a,"click",this.l_)};
function wQ(a){var a=a.sa(),b=K("progress-container",a);O(b,j);D(a,"error")}uQ.prototype.Om=function(a){var b=this.sa(),c=K("progress-container",b);O(c,m);this.En.innerHTML=a;C(b,"error")};var vQ="aim.messaging.ui.Uploader.CLOSE";

function xQ(a,b,c){pM.call(this,b,c);this.vc(a);this.nc=new pP(a);this.Qm=new fQ(c);this.da=new PO(a.m());this.QH=new SP;this.zI=new TP(this.H());this.jb=new uQ;this.S5="";this.zB=k}z(xQ,pM);p=xQ.prototype;p.WM=function(){var a=this.H();return{type:"conversation",he:a.Zb(),title:a.R(),Sv:this.S5,UU:this.Df}};
p.l=function(){xQ.g.l.call(this);C(this.c(),"message-box");this.Ii.O(this.nc,j);yQ(this);this.Ii.O(this.Qm,j);this.Ii.O(this.jb);var a=Tc("div","typing-container",this.c())[0];this.jb.T(a);zQ(this);this.Ii.O(this.QH);this.QH.T(a);this.Ii.O(this.zI);this.zI.T(a)};p.K=function(a){xQ.g.K.call(this,a)};
p.v=function(){xQ.g.v.call(this);var a=r._cmd_controller_;this.h().e(this.c(),"click",this.Kb).e(this.da,"PostingForm.Resized",this.a2).e(this,"aim.picnics.ui.ToolbarUploadButton.UploadButton",this.PS).e(this,"aim.ui.Panel.Minimize",this.Jo).e(this,Hr,this.ke).e(this.da,gL,this.TZ).e(document,"click",this.P_).e(this.nc.c(),["click","dblclick"],this.M0).e(this.nc.c(),"click",this.N0,j).e(a,"aim.ui.CommandController.Action",this.vu).e(a,"aim.ui.CommandController.QueryUpdate",this.r_).e(En.j(),Fn,this.Eu);
this.Bi();yQ(this);a=this.H().m()+"-typed-text";(a=En.j().xa(a))&&this.da.Lm(a)};p.$=function(){xQ.g.$.call(this);AQ(this);BQ(this)};function zQ(a){O(a.jb.c(),m)}function CQ(a){O(a.jb.c(),j)}p.close=function(){MP(this.nc);xQ.g.close.call(this)};p.aa=function(){return this.H()&&this.H().aa()};p.Ge=function(a){xQ.g.Ge.call(this,a);!a&&this.c()&&this.jh&&(this.nc&&this.nc.Fe(j),DQ(this))};p.Jo=function(){pu.j().Tf("chat_box_minimized")};p.ke=function(){this.Xn()};function EQ(a){return a.nc}
function FQ(a){return a.QH}p.wl=function(a){U("appendMessage stored !urlinfo! text: ",a&&a.UM&&a.No,"  urlInfo: ",a&&a.sE&&a.Ie);this.nc.wl(a)};p.Vu=function(a){U("prependMessage stored !urlinfo! text: ",a&&a.UM&&a.No,"  urlInfo: ",a&&a.sE&&a.Ie);this.nc.Vu(a)};function GQ(){var a="";window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text);return a}p.TZ=function(){this.hD=j};
p.P_=function(a){a.target instanceof Element&&!ud(this.c(),a.target)&&(this.ZL=j)};p.M0=function(a){this.jh&&("dblclick"==a.type?this.hD=m:""==GQ()&&(this.ZL?(DQ(this),this.ZL=m):this.hD?this.da.Jy()&&this.nc.c().focus():(DQ(this),this.hD=m)))};
p.N0=function(a){if(a.target&&"tagName"in a.target){for(var b=a.target;b&&0>mb(["A","BODY"],b.tagName);)b=b.parentNode;if(b){var c=fv.j();if("A"==b.tagName&&!b.x_unableToPlay&&F(b,"aol-sound-message")){a:{var d=b.href,f=c.Kg[d];if(f&&f.ff==b)switch(f.Hr){case mv:f.Lj.pause();break a;case lv:f.Lj.resume();break a}for(var g in c.Kg)g!=d&&c.Kg[g]&&(c.Kg[g].Lj.stop(),c.Vz(g));c.play(d,b)}a.stopPropagation();a.preventDefault()}}}};function DQ(a){a.c()&&(C(a.c(),"focus"),yQ(a),a.da.Yd())}
p.a2=function(a){HQ(this,a.jg())};function HQ(a,b){a.jh||(b=0);var c;c=0;var d=tP(a.nc);d&&(c=parseInt(d.style[hb("bottom")]||"",10));rP(a.nc,c<b?c+(b-c):c-(c-b));a.nc.Fe()}function IQ(a,b){a.da&&(a.da.ep(b),a.da.nw(b))}p.Fe=function(a){this.nc.Fe(a)};
p.PS=function(){if(!this.Qm.lM){var a=this.Qm,b={save_mode:"js_base64",previewModeDivider:1,outputFormat:"jpg",outputWidth:800,outputHeight:600,video_border_size:0,video_border_color:"0xFFFFFF",mirrorMode:1,hide_frame_btn:1,hide_effect_btn:1,hide_321_btn:1,complete:w(a.Vq,a),rawPost:1,camera_security_type:0,quick_snap:1,watermark_off:1,splash_logo_path:"hide",snapper_size:"custom",background_type:"bgRectNoShadow",padding_space:"9,9,9,9",license_domain:"thinglabs.com",license_key:"4cG9IME03R3kzeFdyVHU4OE5oSHYxWEZ2V0JtZVFDKzZBa3hFdndWNFVVaklHcFlpNnRZSHQ5Tk5aWDNzVjQvWnRaa2kzUHNiMnp6bjYzU0xhclpwZ009PQ=="};
if(u(r.Snapper)){var c=r.Snapper;c.configure(b);if(b=Tc("div","snapper-target",a.c())[0])c.embed({target:b}),a.lM=j}}Vb(this.c(),"showing-snapper")};p.Yd=function(a){xQ.g.Yd.call(this);yQ(this);this.Bi();!this.jh||a?DQ(this):""==GQ()&&DQ(this);this.da.ed();this.nc.Yd()};p.hf=function(){this.G&&(this.nc&&this.nc.hf(),AQ(this),C(this.c(),"deactivated"),D(this.c(),"active"),pu.j().Tf("web_panel_change"),xQ.g.hf.call(this),D(this.c(),"showing-snapper"),BQ(this))};
function yQ(a){a.da.G||(a.Ii.O(a.da,j),a.zB&&(a.da.fe().Lm(a.zB),a.zB=k),N(function(){try{var a=this.da.fe().c();a&&a.setAttribute("aria-label","Send a message to "+this.H().R())}catch(c){}},0,a))}function BQ(a){var b=window.app&&window.app.info&&-1<window.app.info.name.indexOf("Chromely"),c="Win32"!=navigator.platform,d=window.App&&window.App.xb&&window.App.xb();b&&c&&!d&&a.da.G&&a.da.Tv&&(a.zB=a.da.fe().Nn(),a.Ii.removeChild(a.da,j))}
function JQ(a){return Ru(a.H())?new Rg("Remove from Favorites","favorite-remove"):new Rg("Add to Favorites","favorite")}function KQ(){return new Rg("Take a Webcam Picture","camera-upload")}p.tr=function(a){var b=Er(this);b&&b.tr(a);(b=this.getHeader())&&b.ep(a)};p.fa=k;p.getHeader=function(a){a?a=this.fa:qi?a=k:(this.G&&!this.fa&&(a=this.H(),this.fa=new RL(a,j,m,this.aa(),!this.aa(),j,m),this.O(this.fa),Wf(this.fa,CM(this))),a=this.fa);return a};
function AQ(a){a.fa&&(LQ(a),a.fa.Ti(),a.removeChild(a.fa),a.fa.o(),a.fa=k)}function LQ(a){a.Bt&&(a.h().M(a.Bt,"action",a.PP),a.Bt.o(),a.Bt=k)}
p.PP=function(a){S("Conversation header menu clicked.",a);DQ(this);switch(a.target.w()){case "edit":Oq.j();a=this.H();Rx(new Sx(a));break;case "remove":this.dispatchEvent("aim.messaging.ui.Toolbar.RemoveUser");pt(Gt);break;case "block":this.dispatchEvent("aim.messaging.ui.Toolbar.BlockUser");pt(Ft);break;case "favorite":this.dispatchEvent("favorite");pt(At);break;case "add-to-group":(new Pq).Di(this.H());break;case "favorite-remove":this.dispatchEvent("favorite-remove");pt(Bt);break;case "on-the-record":this.dispatchEvent("on-the-record");
pt(Ct);break;case "off-the-record":this.dispatchEvent("off-the-record");pt(Dt);break;case "report":this.dispatchEvent("aim.messaging.ui.Toolbar.ReportSPIM");break;case "av":this.dispatchEvent("aim.messaging.ui.Toolbar.AV");pt(yt);break;case "leave-picnic":this.dispatchEvent("leave-picnic");pt(Mt);break;case "toggle-snapper":this.PS();break;case "toggles-guests":this.dispatchEvent("toggles-guests");pt(Jt);break;case "edit-chat-name":this.dispatchEvent("edit-chat-name");pt(Kt);break;case "edit-chat-icon":this.dispatchEvent("edit-chat-icon");
pt(Lt);break;case "clear-history":this.dispatchEvent(new lQ(this.H()));pt(Et);break;case "camera-upload":this.dispatchEvent("camera-upload");pt(zt);break;case "add-member":this.Ev();pt(It);break;case "send_photo":(a=K("file-uploader",this.c()))&&a.click()}};p.Kb=function(a){a.target&&a.target instanceof Element&&(a=a.target.className,Ta(a,"panel-header-close")?this.close():Ta(a,"panel-header-minimize")&&this.hf())};
p.BP=function(a){var b=a.h$();if(b instanceof Xw&&(b=b.t4.getParent().H().za,this.nc&&NP(this.nc,b)))return;a.stopPropagation();b=a.Ma();a=a.getMetadata();this.dispatchEvent(new iy(b,a))};p.vu=function(a){if(this.jh)switch(a.getItem().tag){case 1065:this.dispatchEvent(!Ru(this.H())?"favorite":"favorite-remove");break;case 1062:this.dispatchEvent("aim.messaging.ui.Toolbar.AV");break;case 1075:window.D6&&this.Ev()}};
p.r_=function(a){a=a.getItem();switch(a.tag){case 1065:case 1062:case 1075:a.enabled=j}};p.Bi=function(){var a=this.getHeader();a?(a.NI(this.H().Zb(),this.H().R(),SL(a),""),MQ(this),a.update()):this.dispatchEvent(NQ)};function OQ(a){var b=a.getHeader();b?aM(b):a.dispatchEvent(PQ)}function MQ(a){var b=a.getHeader();if(b){var c=a.getHeader();c&&(LQ(a),a.Bt=new jQ(a.RM(),a.c(),c.Ae),a.h().e(a.Bt,"action",a.PP));Yz(b,Ru(a.H()))}else a.dispatchEvent(QQ)}
p.Eu=function(){if(this.G){var a=this.H().m()+"-typed-text",b=this.da.Nn();b&&En.j().ka(a,b)}};var NQ="aim.chats.ui.ConversationBox.UpdatedAll",PQ="aim.chats.ui.ConversationBox.UpdatedSubTitle",QQ="aim.chats.ui.ConversationBox.UpdatedFavorited";

function RQ(a){po.call(this,a)}z(RQ,aA);RQ.prototype.v=function(){RQ.g.v.call(this);this.h().e(this,"aim.ui.Panel.HeaderMenuOpen",this.TG)};RQ.prototype.TG=function(a){var b=this.fa.ua();b&&$z(this.fa.Ae,b,a)};

function SQ(a,b){Sf(this,a.z());po.call(this,h);this.fa=k;this.Da=a;this.r=b;this.Ae=k;this.wF=to;this.O(this.Da);this.Ki="contacts";Pr(this,new Bc(260,0))}z(SQ,RQ);p=SQ.prototype;p.l=function(){Gl(this,dz,{id:"chatpanel_"+this.r.m()})};
p.v=function(){SQ.g.v.call(this);this.fa=new RL(this.r,j,m,this.r.aa(),!this.r.aa(),j,m);this.fa.dl(this.ua());this.O(this.fa);this.fa.T(K("chatpanel-header",this.c()));this.Da.G||this.Da.T(K("chatpanel-conversation",this.c()));Yz(this.fa,Ru(this.C()));Yz(this.fa,Ru(this.C()));var a=K("panel-header-menu-button",this.c());this.Ae=this.aI(a,"ChatPanel");this.h().e(this.Da,[NQ,"aim.chats.ui.ConversationBox.UpdatedTitle",PQ,"aim.chats.ui.ConversationBox.UpdatedIcon",QQ],this.nP).e(this.fa,Hr,this.ke).e(this.fa,
"aim.ui.Panel.Minimize",this.Jo);this.Ae||this.h().e(a,"mousedown",w(function(){DQ(this.Da)},this))};p.ua=function(a){var b=k,b=this.r.aa()?CF:BF;a&&(DF.submenu=b,b=DF);return b};p.$=function(){SQ.g.$.call(this);this.h().M(this.fa,Hr,this.ke).M(this.fa,"aim.ui.Panel.Minimize",this.Jo).M(this.Da,[NQ,"aim.chats.ui.ConversationBox.UpdatedTitle",PQ,"aim.chats.ui.ConversationBox.UpdatedIcon",QQ],this.nP);this.fa&&(this.fa.Ti(),this.removeChild(this.fa),this.fa.o(),this.fa=k)};
p.tr=function(a){this.fa&&this.fa.ep(a)};p.vm=function(){SQ.g.vm.call(this);this.cw()};p.dw=function(){var a=Vl("chatpanel-defaultWidth");this.Ka.size.width=!/[^0-9]/.test(a)?Number(a):545};p.ed=function(){this.Da&&this.Da.Fe()};p.getName=function(){return this.r.R()};p.getHeader=n("fa");p.ke=function(){this.dispatchEvent(new TQ(this.r))};p.Jo=function(){this.dispatchEvent(new UQ(this.r))};p.C=n("r");p.update=function(){var a=this.fa,b=this.r.Zb();a.Sh=b;a.update();this.fa.al(this.r.R())};
p.cw=function(){if(this.G){var a=this.c().offsetWidth;0<a&&(Wl("chatpanel-defaultWidth",a),this.Ka.size.width=a)}};p.Yd=function(){SQ.g.Yd.call(this);this.Da&&(this.Da.Yd(),this.dw())};p.hf=function(){SQ.g.hf.call(this);this.Da&&this.Da.hf()};p.Ev=function(){if(this.G&&this.Da&&this.r.aa()){this.td||(this.td=new PF(this.r,this.Da));QF(this.td,this);var a=this.c();a&&OF(RF(this.td),a)}return this.td?RF(this.td):k};p.qy=function(){this.G&&this.td&&SF(this.td,this)};
function UQ(a){L.call(this,"aim.client.ui.ChatPanel.Minimize");this.r=a}z(UQ,L);UQ.prototype.C=n("r");function TQ(a){L.call(this,"aim.client.ui.ChatPanel.Close");this.r=a}z(TQ,L);TQ.prototype.C=n("r");
SQ.prototype.nP=function(a){S("Client chatPanel received box/ui event: "+a.type+", for aimId: "+this.r.m());switch(a.type){case NQ:if(this.fa){var a=this.fa,b=this.C().Zb();a.Sh=b;a.update();this.fa.al(this.C().R());aM(this.fa)}break;case "aim.chats.ui.ConversationBox.UpdatedTitle":this.fa&&this.fa.al(this.C().R());break;case PQ:this.fa&&aM(this.fa);break;case "aim.chats.ui.ConversationBox.UpdatedIcon":this.fa&&(a=this.fa,b=this.C().Zb(),a.Sh=b,a.update())}};

function VQ(a,b){Sf(this,a.z());po.call(this,h);this.fa=k;this.Da=a;this.r=b;this.Ka=new Ar(new Bc(360,586),new Bc(240,320));this.O(this.Da)}z(VQ,aA);p=VQ.prototype;p.l=function(){this.K(this.ba.createElement("div"))};p.K=function(a){VQ.g.K.call(this,a);a=this.c();C(a,"avpanel");a.style.height="100%";this.r.Sa();var b;b=new W;b.append('<div class="avpanel"><div class="avpanel-header"></div><div class="avpanel-content"></div></div>');b=b.toString();a.innerHTML=b};
p.v=function(){VQ.g.v.call(this);this.fa=new Zz(this.r.Zb(),k,"Video Chat",this.r.Tl(),m,m,m,m,j);this.O(this.fa);this.fa.T(K("avpanel-header",this.c()));this.Da.G||this.Da.T(K("avpanel-content",this.c()));this.h().e(this.fa,Hr,w(this.ke,this)).e(this.fa,"aim.ui.Panel.Minimize",w(this.Jo,this));this.h().e(this.Da,"aim.av.UserChanged",this.lP);this.update()};
p.$=function(){VQ.g.$.call(this);this.h().M(this.Da,"aim.av.UserChanged",this.lP).M(this.fa,Hr,w(this.ke,this)).M(this.fa,"aim.ui.Panel.Minimize",w(this.Jo,this));this.fa&&(this.fa.o(),this.fa=k)};p.n=function(){t(this.Da)&&(this.Da.Ip(),this.Da=k);VQ.g.n.call(this)};p.vm=function(){VQ.g.vm.call(this);this.cw()};p.dw=function(){var a=Vl("avpanel-defaultWidth");this.Ka.size.width=!/[^0-9]/.test(a)?Number(a):545};p.getName=o("Video Chat");p.ke=function(){this.dispatchEvent(new WQ(this.r))};p.Jo=function(){this.dispatchEvent(new XQ(this.r))};
p.C=n("r");p.lP=function(a){if(a=a.user)this.r=a,this.update()};p.update=function(){var a=this.fa,b=this.r.Zb();a.Sh=b;a.update();this.fa.al(this.r.R());this.fa.Ud(this.r.Tl())};p.cw=function(){if(this.G){var a=this.c().offsetWidth;0<a&&(Wl("avpanel-defaultWidth",a),this.Ka.size.width=a)}};function XQ(a){L.call(this,"aim.client.ui.AvPanel.Minimize");this.r=a}z(XQ,L);XQ.prototype.C=n("r");function WQ(a){L.call(this,"aim.client.ui.AvPanel.Close");this.r=a}z(WQ,L);WQ.prototype.C=n("r");

function YQ(a,b,c){po.call(this,c);this.AV=a;this.fa=k;this.ib=b;this.O(this.ib)}z(YQ,aA);YQ.prototype.K=function(a){YQ.g.K.call(this,a);a.id=this.AV;a.style.height="100%";this.fa&&!this.fa.G&&this.fa.T(this.c());this.ib.G||this.ib.T(this.c())};YQ.prototype.al=function(a){this.fa=a;this.O(this.fa)};YQ.prototype.Yb=n("ib");YQ.prototype.getHeader=n("fa");

function ZQ(a,b,c){YQ.call(this,a,b,c)}z(ZQ,YQ);p=ZQ.prototype;p.ie=k;p.v=function(){ZQ.g.v.call(this);var a=this.getHeader();a&&this.aI&&(this.Ae=this.aI("panel-header-menu-button","MemberRoster",a.ua()));this.Ae||this.h().e(this,"aim.ui.Panel.HeaderMenuOpen",this.TG)};p.TG=function(a){var b=this.getHeader(),c=b?b.ua():k;c&&$z(b.Ae,c,a)};p.Ev=function(){var a=k;this.G&&!this.ie&&(a=this.ie=new JF,NF(this.ie,this.Yb().eh()),this.O(this.ie),this.ie.T(this.Yb().c()));return a};
p.qy=function(){this.G&&this.ie&&(this.removeChild(this.ie,j),this.ie=k)};

function $Q(a,b){V.call(this);this.Sh=a||k;this.FU=b||"";this.Oj=-1}z($Q,V);$Q.prototype.l=function(){$Q.g.l.call(this);Gl(this,cz,{he:this.Sh,caption:this.FU})};$Q.prototype.v=function(){$Q.g.v.call(this);this.Oj=N(w(function(){C(this.c(),"fadeout");this.Oj=N(w(function(){this.Oj=-1;this.o()},this),500)},this),2E3)};$Q.prototype.$=function(){$Q.g.$.call(this);Be(this.Oj)};

function aR(a){this.headers=new Ch;this.sl=a||k;this.mA=0}z(aR,xe);aR.prototype.Z=hj("aol.XhrIoWithProgress");var bR=/^https?$/i;p=aR.prototype;p.sb=m;p.ha=k;p.rl=k;p.$b="";p.bu="";p.Ac=0;p.ze="";p.Dn=m;p.vk=m;p.eo=m;p.pf=m;p.He=0;p.Ze=k;p.Yk="";p.aK=m;p.zv=function(a){this.He=Math.max(0,a)};
p.send=function(a,b,c,d){this.ha&&e(Error("[aol.XhrIoWithProgress] Object is active with another request"));b=b?b.toUpperCase():"GET";this.$b=a;this.ze="";this.Ac=0;this.bu=b;this.Dn=m;this.sb=j;this.ha=this.ZC();this.rl=this.sl?Jn(this.sl):Jn(Ln);this.ha.onreadystatechange=w(this.Cu,this);this.ha&&"upload"in this.ha&&(this.ha.upload.onprogress=w(this.f2,this));try{dj(this.Z,this.Id("Opening Xhr")),this.eo=j,this.ha.open(b,a,j),this.eo=m}catch(f){dj(this.Z,this.Id("Error opening Xhr: "+f.message));
this.En(5,f);return}var a=c||"",g=this.headers.Hb();d&&uh(d,function(a,b){g.set(b,a)});"POST"==b&&(!c||v(a)||"getBytes"in a)&&!g.Dd("Content-Type")&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");uh(g,function(a,b){this.ha.setRequestHeader(b,a)},this);this.Yk&&(this.ha.responseType=this.Yk);"withCredentials"in this.ha&&(this.ha.withCredentials=this.aK);try{this.Ze&&(ze.clearTimeout(this.Ze),this.Ze=k),0<this.He&&(dj(this.Z,this.Id("Will abort after "+this.He+"ms if incomplete")),
this.Ze=ze.setTimeout(w(this.Ec,this),this.He)),dj(this.Z,this.Id("Sending request")),this.vk=j,this.ha.send(a),this.vk=m}catch(i){dj(this.Z,this.Id("Send error: "+i.message)),this.En(5,i)}};p.f2=function(a){a.lengthComputable&&(this.mA=a.loaded/a.total,this.dispatchEvent("progress"))};p.VM=n("mA");p.ZC=function(){return this.sl?Nn(this.sl):Nn(Ln)};
p.Ec=function(){"undefined"!=typeof da&&this.ha&&(this.ze="Timed out after "+this.He+"ms, aborting",this.Ac=8,dj(this.Z,this.Id(this.ze)),this.dispatchEvent("timeout"),this.abort(8))};p.En=function(a,b){this.sb=m;this.ha&&(this.pf=j,this.ha.abort(),this.pf=m);this.ze=b;this.Ac=a;this.Ks();this.ck()};p.Ks=function(){this.Dn||(this.Dn=j,this.dispatchEvent("complete"),this.dispatchEvent("error"))};
p.abort=function(a){this.ha&&this.sb&&(dj(this.Z,this.Id("Aborting")),this.sb=m,this.pf=j,this.ha.abort(),this.pf=m,this.Ac=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.ck())};p.n=function(){this.ha&&(this.sb&&(this.sb=m,this.pf=j,this.ha.abort(),this.pf=m),this.ck(j));aR.g.n.call(this)};p.Cu=function(){!this.eo&&!this.vk&&!this.pf?this.mH():this.Bu()};p.mH=function(){this.Bu()};
p.Bu=function(){this.sb&&"undefined"!=typeof da&&(this.rl[1]&&4==this.Nh()&&2==this.lb()?dj(this.Z,this.Id("Local request error detected and ignored")):this.vk&&4==this.Nh()?ze.setTimeout(w(this.Cu,this),0):(this.dispatchEvent("readystatechange"),this.Mt()&&(dj(this.Z,this.Id("Request complete")),this.sb=m,this.ro()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Ac=6,this.ze=this.qt()+" ["+this.lb()+"]",this.Ks()),this.ck())))};
p.ck=function(a){if(this.ha){var b=this.ha,c=this.rl[0]?fa:k;this.rl=this.ha=k;this.Ze&&(ze.clearTimeout(this.Ze),this.Ze=k);a||this.dispatchEvent("ready");try{b.onreadystatechange=c}catch(d){bj(this.Z,"Problem encountered resetting onreadystatechange: "+d.message)}}};p.isActive=function(){return!!this.ha};p.Mt=function(){return 4==this.Nh()};p.ro=function(){var a=this.lb();return Hn(a)||0===a&&!this.mF()};p.mF=function(){var a=Hh(""+this.$b);return bR.test(a)};
p.Nh=function(){return this.ha?this.ha.readyState:0};p.lb=function(){try{return 2<this.Nh()?this.ha.status:-1}catch(a){return cj(this.Z,"Can not get status: "+a.message),-1}};p.qt=function(){try{return 2<this.Nh()?this.ha.statusText:""}catch(a){return dj(this.Z,"Can not get status: "+a.message),""}};p.Yx=function(){return""+this.$b};p.On=function(){try{return this.ha?this.ha.responseText:""}catch(a){return dj(this.Z,"Can not get responseText: "+a.message),""}};
p.nf=function(a){if(this.ha){var b=this.ha.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Ml(b)}};
p.Oh=function(){try{if(!this.ha)return k;if("response"in this.ha)return this.ha.response;switch(this.Yk){case "":case "text":return this.ha.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.ha)return this.ha.mozResponseArrayBuffer}bj(this.Z,"Response type "+this.Yk+" is not supported on this browser");return k}catch(a){return dj(this.Z,"Can not get response: "+a.message),k}};p.lE=n("Ac");p.kE=function(){return v(this.ze)?this.ze:""+this.ze};
p.Id=function(a){return a+" ["+this.bu+" "+this.$b+" "+this.lb()+"]"};

var cR={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",ief:"image/ief",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tif:"image/tiff",tiff:"image/tiff"};function dR(a,b,c,d){Hl.call(this);this.N=a;this.T5=b;this.eq=c?c:k;this.To=d?d:k}z(dR,Hl);p=dR.prototype;p.jb=k;p.Ox="";p.QD="";p.Xm=m;p.Xs=k;p.HN=/^image(?:\/|$)/;p.PD="AIMFiles";p.$E="AIMImages";p.WR="AIMSettings";
function eR(a){(a=a.replace(/.*\.([^\.]*)$/,"$1"))||(a="");(a=cR[a.toLowerCase()])||(a="application/unknown");return a}p.fi=k;p.di=k;
p.upload=function(a,b){if(a){var c=a.form,d="File"in window&&"FileList"in window&&a.files;this.fi=w(this.Gu,this);this.di=w(this.ei,this);if(d)fR(this,a.files[0],b);else{var d=a.value,f=eR(d);b?(this.Xm=j,d={service:this.WR,contentType:f,fileName:b}):f?(this.Xm=j,d={service:this.$E,contentType:f,fileName:d}):(this.Xm=m,d={service:this.PD,fileName:d});d=ns(this.N.Ua,this.N.Ua.Me,this.N.Zl(),d);c.action=d.toString();this.jb=new UP;this.h().e(this.jb,"error",this.di).e(this.jb,"success",this.fi);this.To=
k;$P(this.jb,c,c.action)}}};
function fR(a,b,c){gR(a,b.size,b.name,b.type)&&(a.Xs=b,a.fi||(a.fi=w(a.Gu,a)),a.di||(a.di=w(a.ei,a)),a.Ox=c||b.name.replace(/(^.*(?:\\|\/))/,""),a.QD=b.type,a.jb=new aR,a.h().e(a.jb,"error",a.di).e(a.jb,"success",a.fi),a.To&&a.h().e(a.jb,"progress",a.To),a.Xm=t(c)||0<=b.type.search(a.HN),a.jb.send(ns(a.N.Ua,a.N.Ua.Me,a.N.Zl(),{service:c?a.WR:a.Xm?a.$E:a.PD,contentType:b.type,fileName:a.Ox}).toString(),"POST",b,{"Content-Type":"text/plain"==b.type?b.type:"text/plain; charset=x-user-defined"}))}
p.abort=function(){this.jb&&(this.jb.abort(),hR(this),this.jb=k)};function hR(a){a.Xs=k;a.jb&&(a.di&&a.fi&&(a.h().M(a.jb,"error",a.di).M(a.jb,"success",a.fi),a.di=k,a.fi=k),a.To&&a.h().M(a.jb,"progress",a.To))}
function gR(a,b,c,d){var f;209715200<b?f="700":"MacIntel"==navigator.platform&&""==d&&("app"==c.substr(c.lastIndexOf(".")+1)||"bundle"==c.substr(c.lastIndexOf(".")+1)||"component"==c.substr(c.lastIndexOf(".")+1)||"framework"==c.substr(c.lastIndexOf(".")+1)||"kext"==c.substr(c.lastIndexOf(".")+1)||"mdimporter"==c.substr(c.lastIndexOf(".")+1)||"mpkg"==c.substr(c.lastIndexOf(".")+1)||"menu"==c.substr(c.lastIndexOf(".")+1)||"nib"==c.substr(c.lastIndexOf(".")+1)||"osax"==c.substr(c.lastIndexOf(".")+1)||
"pages"==c.substr(c.lastIndexOf(".")+1)||"pbproj"==c.substr(c.lastIndexOf(".")+1)||"pkg"==c.substr(c.lastIndexOf(".")+1)||"plugin"==c.substr(c.lastIndexOf(".")+1)||"prefPane"==c.substr(c.lastIndexOf(".")+1)||"rtfd"==c.substr(c.lastIndexOf(".")+1)||"saver"==c.substr(c.lastIndexOf(".")+1)||"scptd"==c.substr(c.lastIndexOf(".")+1)||"slideSaver"==c.substr(c.lastIndexOf(".")+1)||"wdgt"==c.substr(c.lastIndexOf(".")+1)||"webarchive"==c.substr(c.lastIndexOf(".")+1)||"xcode"==c.substr(c.lastIndexOf(".")+1)||
"xcodeproj"==c.substr(c.lastIndexOf(".")+1))&&(f="800");t(f)&&a.eq&&(a.eq(new L(f)),hR(a),a.jb=k);return!u(f)}p.Gu=function(a){var b=a.currentTarget,c=k,c=-1;u(b.lb)?c=b.lb():(c=b.nf(),c=c.statusCode);200!=c?this.eq&&this.eq(a):this.T5(a);this.jb&&(hR(this),this.jb=k)};p.ei=function(a){var b=a.target;this.Xs&&t(b)&&t(b.lE)&&6==b.Ac&&0==b.lb()?this.h().e(r._aim_session_,fo,this.Vb):(this.eq&&this.eq(a),this.jb&&(hR(this),this.jb=k))};
p.Vb=function(a){R("aim.FileUploader::onSessionStateChange_");switch(a.ud){case cm:this.h().M(r._aim_session_,fo,this.Vb),this.Xs&&fR(this,this.Xs)}};

function iR(a,b,c,d){this.r=a;this.$d=b;this.vS=c||Math.floor(x()/1E3);d&&(this.qj=d)}z(iR,xe);p=iR.prototype;p.wq=[];p.qj=100;p.load=function(){var a=Y.j(),b=this.r.aa(),c=this.r.m(),d=this.qj,f=w(this.IX,this),g=this.vS||Math.round(new Date/1E3);$(a,"imlog","fetchStoredIMs",{to:c,type:b?1:2,sortOrder:"descendingDate",nToGet:d||100,endTime:g-290304E3,startTime:g},f)};p.n=function(){iR.g.n.call(this);delete this.r;delete this.$d;delete this.wq};
p.IX=function(a){if(kr(a)){var b=[];kr(a)&&(a=a.w("data.msgs"),A(a,function(a){(a=zv(a))&&b.push(a)}));this.r.aa()&&0<b.length?(this.wq=b,a=this.wq.length==this.qj?Math.round(this.wq[this.wq.length-1].Aa.getTime()/1E3):Math.round(new Date/1E3)-604800,Ns(Y.j(),this.r.m(),a,w(this.HX,this,b.length==this.qj))):jR(this,b,b.length==this.qj)}};
p.HX=function(a,b){var c=[],d=b.w("data.imservActivities.0.imserv"),f=b.w("data.imservActivities.0.activities");A(f,function(a){(a=zv(a,d))&&c.push(a)});c=c.concat(this.wq);jR(this,c,a)};function jR(a,b,c){var d=Uv.j().Yl(a.r,a.vS,a.qj+1),f=d&&d.length>a.qj;f&&(d=d.splice(1,a.qj));b=Fb(b,d);Lb(b,su);for(d=b.length-1;0<d;d--)b[d].za==b[d-1].za&&Db(b,d);(d=b.length>a.qj)&&(b=b.slice(b.length-a.qj,b.length));a.$d(b,c||f||d);a.o()};


function kR(a,b,c){this.BK=a;this.wB=b||"analytics";this.iM=c||"auto"}
kR.prototype.oc=function(){S("Analytics.init: "+this.BK+", "+this.wB+", "+this.iM);try{window._gaq=window._gaq||[];var a=this.wB,b=this.iM;try{a=a&&""!=a?a+".":"",b=b||"auto",window._gaq.push([a+"_setAccount",this.BK]),window._gaq.push([a+"_setDomainName",b]),window._gaq.push([a+"_setAllowLinker",j])}catch(c){S("Error with Analytics.setTracker: "+c.message)}this.rR(["_trackPageview"]);if("undefined"==typeof window._gaq||window._gaq instanceof Array){var d=document.createElement("script");d.type="text/javascript";
d.async=j;d.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(d,f);S("Analytics.loadScript")}}catch(g){S("Error with Analytics.init_: "+g.message)}};
kR.prototype.rR=function(a){try{a&&a.length&&(-1==a[0].indexOf(".")&&this.wB&&(a[0]=this.wB+"."+a[0]),"object"==typeof a&&window._gaq.push(a),S("Analytics.report: ["+(a&&a.length?a.join(", "):"")+"]"))}catch(b){S("Error with Analytics.report: "+b.message)}};

function lR(a){Sf(this,a);V.call(this);this.Df=a||""+101010101*Math.random();this.Ys=this.ys=this.Wm=k;this.xp=new kR("UA-19515644-6","picUploaderTracker",".aim.com");this.Th=k}z(lR,V);p=lR.prototype;p.l=function(){lR.g.l.call(this)};p.v=function(){lR.g.v.call(this)};p.n=function(){try{this.c().ownerDocument.defaultView._picuploader_=k}catch(a){}this.zn();this.Th=this.Wm=k;this.xp&&(this.xp=k);lR.g.n.call(this)};
p.pk=function(){var a="";"aim.picuploader.target.userPicture"==this.Wm?a="Change your picture":"aim.picuploader.target.imageShare"==this.Wm&&(a="Share your picture");return a};p.zn=function(){t(this.Ys)&&(this.Ys.innerHTML="",od(this.Ys),this.Ys=k);var a=this.c();t(a)&&a.parentElement&&(a.parentElement.innerHTML="")};p.p0=function(){try{O(K("picuploader-loading",this.c()),m)}catch(a){S("Error calling aim.picuploader.ui.PicUploaderFrame.onFlashReady_(): "+a.message)}};
p.o0=function(){var a=this.c().parentElement;this.zn();Gl(this,mR,{ff:"_picuploader_"});a.appendChild(this.c())};p.V0=function(a){try{var b=k,b=v(a)?pv(a):a;this.dispatchEvent({type:"aim.picuploader.eventtype.imageUploaded",data:b,context:this.ys})}catch(c){}N(function(){this.ke()},10,this)};p.ke=function(){try{this.dispatchEvent({type:"aim.picuploader.eventtype.close",context:this.ys})}catch(a){S("Error calling aim.picuploader.ui.PicUploaderFrame.onClose_(): "+a.message)}};
p.L4=function(a,b,c){if(this.xp){var d=this.xp,a=["_trackEvent",a,b];c&&(a[a.length]=c);d.rR(a)}};p.s6=function(a){this.Th=a||{name:"",type:"",size:0,r$:0};this.Th.data=""};p.t6=function(a){this.Th&&this.Th.data.length<this.Th.size&&(this.Th.data+=a,this.Th.data.length==this.Th.size&&this.dispatchEvent({type:"aim.picuploader.eventtype.imageUploadReady",data:this.Th,context:this.ys}))};p.CY=function(a){S(a)};

function nR(){Il.call(this,this.nq());this.J=k}z(nR,Il);ga(nR);p=nR.prototype;p.nq=function(){return"aim-picuploader-Controller-"+(new Oj).getTime()};p.q=n("J");p.n=function(){this.hV||this.zn(m);nR.g.n.call(this)};function oR(a,b,c){!a.J&&!a.J&&(a.J=new lR(a.nq()),a.Hh());b=w(a.qY,a,b,c);a.dispatchEvent({type:"aim.picuploader.eventtype.beforeSessionCreated",ui:a.J,callback:b})&&b()}
p.qY=function(a,b){var c=this.J;c.Ys&&c.zn();c.ys=b||k;var d=r.swfobject,f=window,g=c.c();g&&(f=g.ownerDocument.parentWindow||g.ownerDocument.defaultView||window);f._picuploader_=k;f._picuploader_={flashReady:w(c.p0,c),flashInstallClicked:w(c.o0,c),imageUploadComplete:w(c.V0,c),close:w(c.ke,c),report:w(c.L4,c),uploadImageBegin:w(c.s6,c),uploadImageChunk:w(c.t6,c),log:w(c.CY,c)};d&&!d.hasFlashPlayerVersion("10.3")?Gl(c,pR,{ff:"_picuploader_"}):(c.zn(),c.Wm=a?a:"aim.picuploader.target.userPicture",
d={url:r._aim_user_.Zb(),IV:"prod",h5:r._aim_session_.Zl(),b$:r._aim_user_.R(),iV:r._aim_session_.Ua.Me,nW:"AIMImages",target:"aim.picuploader.target.imageShare"==c.Wm?"imageShare":"userPicture",mode:"aim.picuploader.target.imageShare"==c.Wm?"camera":"",OX:"aim.picuploader.target.groupPicture"==c.Wm?c.ys:"",a$:"aim.picuploader.target.imageShare"==c.Wm?"0":"1",LV:"_picuploader_",mW:G,debug:m},Gl(c,qR,d),c.xp&&c.xp.oc());c.dispatchEvent("aim.picuploader.eventtype.frameuibuilt");this.dispatchEvent({type:"aim.picuploader.eventtype.sessionCreated",
ui:this.J})};p.zn=function(){if(this.J){var a=this.J;a&&this.h().M(a,"aim.picuploader.eventtype.imageUploaded",this.SP).M(a,"aim.picuploader.eventtype.close",this.ke).M(a,"aim.picuploader.eventtype.imageUploadReady",this.RP);this.hV=j;this.J.o();this.J=k}};p.Hh=function(){var a=this.J;this.h().e(a,"aim.picuploader.eventtype.imageUploaded",this.SP).e(a,"aim.picuploader.eventtype.close",this.ke).e(a,"aim.picuploader.eventtype.imageUploadReady",this.RP)};p.SP=function(a){this.dispatchEvent(a)};
p.ke=function(a){this.dispatchEvent(a)};p.RP=function(a){this.dispatchEvent(a)};


function rR(a,b,c){Il.call(this,b);this.Df=b;this.r=a;a.Lc()||a.load();this.qg=j;this.qg=!(c&&c.sourceAimId!=Jl().m());this.J=this.JL();this.J.Ge(j);this.xy=c;this.RE=m;this.Tk={};sR(this);a=this.h();b=Jl();a.e(b,["im","offlineIM"],this.QP,j).e(b,"sentIM",this.vQ).e(b,"rateLimit",this.pQ).e(Oq.j(),or,this.MJ);tR(this);this.tc=this.pA=k;this.iG=m;this.CF=x();this.GS=216E5;a=Yh(new Ih(window.location.href));a.Dd("chatcleanupidletime")&&(this.GS=1E3*parseInt(a.get("chatcleanupidletime"),10));this.Yn=
m}z(rR,Il);p=rR.prototype;p.eB=m;p.D=function(){var a;if(a=this.q())a=this.q().G;return a?J(this.q().c()):J()};p.n=function(){rR.g.n.call(this);if(this.tc)try{delete r[this.tc.progressCallback],delete r[this.tc.resultCallback]}catch(a){r[this.tc.progressCallback]=k,r[this.tc.resultCallback]=k}this.r&&(this.r.aa()||Uu(this.r,m));this.J&&(this.J.o(),this.J=k);var b=this.h(),c=Jl();b.M(c,["im","offlineIM"],this.QP,j).M(c,"sentIM",this.vQ).M(c,"rateLimit",this.pQ).M(Oq.j(),or,this.MJ)};
p.Az=function(){var a;a=(a=this.q().da.c())?a.offsetHeight:WO;HQ(this.q(),a);IQ(this.q(),this.r.aa()&&this.r.oo());G&&!I(10)&&(this.tc=TO(this.q().da,"_aim_messaging_ConversationController"),r[this.tc.progressCallback]=w(this.q0,this),r[this.tc.resultCallback]=w(this.Hz,this))};
p.MJ=function(){if(Oq.j().Lc()){this.qg=(this.qg||this.r.Wh())&&!this.Yn;this.r.aa()||Uu(this.r,j);var a=this.Yn?this.OT:this.k6,b=this.Yn?this.G4:this.Tw;wM(this.J,uR(this),w(a,this,this.r.m()),w(b,this,this.r.m()),this.Yn?k:w(this.cI,this))}this.J.Bi()};function vR(a){a.RE||(a.RE=j,a.MJ(),a.r?(new iR(a.r,w(a.DN,a),h,30)).load():S("Could not fetch history; model missing."))}
p.DN=function(a,b){if(a&&a.length){uR(this)||ob(a||[],function(a){a instanceof qv&&!ia(a.Ie)&&a.m()!=Jl().m()&&(ia(this.Tk)||(this.Tk[a.za]=a.Ie.urlInfoResults),a.Ie=k)},this);this.Wj(a[a.length-1],j);var c=this.q();c&&(c.jh?this.zy(a,b):nu(pu.j(),"chat_box_activated_"+c.z(),function(){this.zy(a,b)},this))}t(this.xy)&&!this.ON&&this.Wj(this.xy);wR(this)};p.zy=function(a,b){for(var c=a.length;0<c;c--)this.Wj(a[c-1],j);c=EQ(this.q());JP(c,b||m);KP(c)||c.Fe()};p.q=n("J");p.C=n("r");
p.Le=function(a){return a instanceof vv||a instanceof $v||a instanceof Zv?a.m()==this.r.m():rR.g.Le.call(this,a)};
p.Wj=function(a,b){var c;if(c=a)a instanceof qv||a instanceof xv?(c=a.za)?(c=ru(c),c=t(Ll.j().H(c))):c=m:c=m,c=!c&&!a.no();if(c&&(c=this.q())){if(b)c.Vu(a);else if(c.wl(a),window.app&&window.app.AIMLogger&&(c=r._aim_session_.m(),!a.Mc()&&"true"==Vl(c+"local-logging"))){c=r._aim_session_.m();var d=a.Aa,f=d?d.toLocaleTimeString():"",g=this.C(),i=g.m();g.aa()&&(i=g.we());if(a instanceof tu)window.app.AIMLogger.logStateMessage(c,i,d,'<span class="time-stamp">('+f+")</span> "+a.Ma());else{var l=a.C();
window.app.AIMLogger.logMessage(c,i,g.R(),l.m(),l.R(),d,f,a.Ma())}}wR(this,a.za)}};p.iC=function(a){A(a,this.Wj,this)};
function sR(a){var b=a.q();a.h().e(b,"PostingForm.Submit",a.Q2).e(b,"leave-picnic",a.Oz).e(b,"aim.playgrounds.EventType.EXPAND",a.f0).e(b,"aim.messaging.ui.Toolbar.FileChanged",a.N3).e(b,"aim.messaging.ui.History.EventType.LOAD_MORE",a.o1).e(b,"aim.messaging.DirectSend",a.M_).e(b,"aim.messaging.ui.Snapper.EventType.SNAPPED",a.j3).e(b,gQ,a.zQ).e(b,hQ,a.zQ).e(b,"aim.messaging.ui.Toolbar.RemoveUser",a.sQ).e(b,"aim.messaging.ui.Toolbar.BlockUser",a.SZ).e(b,"aim.messaging.ui.Toolbar.ReportSPIM",function(){this.cI(j)}).e(b,
"aim.messaging.ui.Toolbar.AV",a.MZ).e(b,"favorite",a.yZ).e(b,"favorite-remove",a.qQ).e(b,"on-the-record",a.NP).e(b,"off-the-record",a.MP).e(b,"edit-chat-name",a.U_).e(b,"edit-chat-icon",a.T_).e(b,"camera-upload",a.$Z).e(b.jb,vQ,a.M3).e(b,"PostingForm.UploadStarted",a.WV).e(r._aim_session_,fo,a.Vb);mu(pu.j(),"chat_box_activated_"+b.z(),a.UZ,a)}p.UZ=function(){tR(this);wR(this)};p.yZ=function(){var a=this.q(),b=a.H();IC(Oq.j(),b);MQ(a)};p.qQ=function(){Sq(Oq.j(),this.C());var a=this.q();a&&MQ(a)};
p.NP=function(){var a=Qu(r._aim_user_),b=Qu(this.r);!a&&!b?xR(this,m):b?(a=new Zm(this.D()),a.zb("Bummer"),b="Looks like "+this.r.R()+" doesn't want to have chats stored on the record.",a.pa(b),Gm(a,Wm()),a.L(j)):a&&(a=new Zm(this.D()),a.zb("Are you sure?"),a.pa("By going on the record, your preference to not save chats will be turned off. You can always turn it back on in settings."),b=(new Cm).Ta({key:"cancel",caption:"Cancel"},m,j).Ta({key:"confirm",caption:"Yes, go on the record."},j,m),Gm(a,
b),a.L(j),Mf(this.h(),a,Im,w(function(a){"confirm"==a.key&&(xR(this,m),Ys(Y.j(),"globalOTR","false"))},this)))};function xR(a,b){var c=a.r.qb();if("aim"==c.toLowerCase()||"sms"==c.toLowerCase())c=k;var d=Y.j(),f=a.r.m(),f={offTheRecord:b?1:0,t:f};c&&(f.serviceName=c);$(d,"buddylist","setOTR",f,h)}p.MP=function(){xR(this,j)};p.MZ=function(){this.q().dispatchEvent(new jy(this.C(),this.Df))};p.Oz=ba();p.sQ=function(){var a=this.C();Oq.j().xg(a,j,w(this.rQ,this,a),J(this.q().c()))};
p.rQ=function(a){this.qQ();a=a.m();Fs(Y.j(),a);this.Xn()};p.SZ=function(){yR(this)};
function yR(a){var b=a.C(),c=Ku(b),d=cv();if(d)if("permitOnList"!=d.IH){var f=y(c?"Yes, unblock {$user}":"Yes, block {$user}",{user:b.R()}),d=y(c?"Are you sure you want to unblock <b>{$user}?</b>":"Are you sure you want to block <b>{$user}?</b>",{user:b.R()}),f=new gn(f,h,h,a.D());f.pa(d);a.h().e(f,Im,w(a.QZ,a,f));f.L(j);c||f.c().appendChild(gk(VM,{}))}else c?(f=new Zm,f.zb("Unblock"),f.pa("Your privacy settings allow you to IM with 'Only users in my contact list.'   To be able to unblock this user, you must add them to your contact list or edit your privacy settings."),Gm(f,
Wm())):(f=new en,c=y("With your current privacy settings, you must remove this user from your contacts list in order to block them.  Are you sure you want to remove {$user}",{user:b.R()}),f.pa(c),a.h().e(f,Im,function(a){"yes"==a.key&&zR(this,b)})),f.L(j)}
p.cI=function(a){var b=this.C(),c=new Zm(this.D());$m(c,"report-abuse");c.zb("Report User");var d=new bn;d.Ta(Rm,m,j);d.Ta({caption:"Report",key:"report"},j);Gm(c,d);C(Hm(d,"report"),"danger");b=b.Tl();d=new W;d.append(a==j?"<h4>Report abuse by <strong>"+X(b)+'</strong>.</h4><input type="hidden" name="report-type" value="abuse" id="reportAbuseInput"/><p>The IM is threatening and should be investigated. Its content will be reported.  Additional comments (optional):</p>':"<h4>Select an option to report <strong>"+
X(b)+'</strong>.</h4><input type="radio" name="report-type" id="reportSpamInput" value="spim" checked="checked" /><label for="reportSpamInput">Report Spam</label><p class="reportDesc">This IM is unsolicited or unwanted.</p><input type="radio" name="report-type" id="reportAbuseInput" value="abuse" /><label for="reportSpamInput">Report Abuse</label><p class="reportDesc">This IM is threatening and should be investigated.</p><p>The content of the IM will be reported.  Additional comments (optional):</p>',
'<textarea class="additionalComments" maxlength="500" title="Enter additional comments"></textarea><p class="footer">This user will be blocked from sending you IMs and won&#8217;t see when you&#8217;re online.</p>');a=d.toString();c.pa(a||"");this.h().e(c,Im,w(this.v2,this,c));c.L(j)};p.QZ=function(a,b){var c=K("remove-contact",a.c());a.L(m);if("yes"==b.key){var d=this.C(),f=Ku(d);f?dv(d,m,w(this.RZ,this,f)):(this.Tw(d.m()),t(c)&&c.checked&&zR(this,d))}};p.RZ=function(a){a?this.q().Bi():this.Xn()};
p.v2=function(a,b){var c,d=this.D();c=d.c("reportAbuseInput");c="hidden"==c.type||c.checked?"abuse":"spim";d=d.Zi("additionalComments")[0].value;d=Ga(d);d=d.replace(/\//g,"").replace(/\\/g,"");0==d.length&&(d=h);a.L(m);if("report"==b.key){var f=this.C(),g=Y.j(),i=f.m(),f=w(this.u2,this,f);c={t:i,spimType:c,spimEvent:"user"};d&&(c.comment=d);$(g,"im","reportSPIM",c,f)}};
p.u2=function(a,b){if(kr(b))this.Tw(a.m()),zR(this,a);else{var c,d=y("Can\u2019t report");switch(b.w("statusDetailCode")){case 1:c=y("You can\u2019t report a user that did not IM you.");break;case 2:c=y("You can\u2019t report a user that did not start the conversation.");break;case 6:c=y("You can\u2019t report a user more than once per session.");break;case 8:c=y("You can\u2019t report a bot.");break;default:d=y("An error occured"),c=y("An unknown error occured. Please try again later.")}var f=new Zm(this.D());
f.zb(d);f.pa(c);Gm(f,Wm());f.L(j)}};p.Vb=function(a){a=a.ud;tR(this,a);a==cm?AR(this):this.au=this.Ld();this.tc&&(700==a?this.iG=j:a==cm&&this.iG&&(this.iG=m,this.tc=VO(this.q().da,"_aim_messaging_ConversationController",this.tc)))};p.au=k;function AR(a){if(ia(a.au))a.RE=m,vR(a);else{var b=EQ(a.q()).Yl(),c=mb(b,a.au),d=a.au.za,f=ub(b.slice(c+1),function(a){return a instanceof qv}),g;-1!=f&&(g=b[c+1+f].za);Ls(Y.j(),a.C().aa(),a.C().m(),d,g,w(a.eR,a,d))}}
p.eR=function(a,b){var c=b.w("data.msgs",[]),d=[];A(c,function(a){(a=zv(a))&&d.push(a)});var f=b.w("data.nToSkip");this.au=k;LP(EQ(this.q()),d,a);if(t(f)){var c=EQ(this.q()).Yl(),g=ub(c,function(a){return a.aj&&a.za==f}),i=ub(c.slice(g+1),function(a){return a instanceof qv});-1==g?S("didnt find index of the last returned message -- cant get more..."):(c=-1==i?h:c[i].za,Ls(Y.j(),this.C().aa(),this.C().m(),f,c,w(this.eR,this,f)))}};
function BR(a,b){var c=a.Ld();if(t(c)){var d=c.C(),f={};f.aimId=d.m();f.convDataFromImEvent=j;f.displayId=d.R();f.incrementUnreadCount=m;f.focus=1;var g={};g.message=c.toString();g.msgId=c.za;g.sender=d.m();g.sent=d.m()==r._aim_user_.m();f.timestamp=g.timestamp=c.Aa.getTime()/1E3;f.lastIM=g;b&&(f.imserv=b.z());c=new Dv(f);pu.j().Tf("conversation_data",a.C(),c)}}function tR(a,b){if(a.q())switch(u(b)||(b=Jl().xa()),b){case cm:IQ(a.q(),a.r.aa()&&a.r.oo());break;default:IQ(a.q(),j)}}p.pQ=function(a){FQ(this.q()).Cx(a.lb())};
p.j3=function(a){this.J.Qm.Ge(j);var a=a.mc,b=new UP;this.h().e(b,"error",this.AQ);this.h().e(b,"success",this.i3);var c=a.getAttribute("action");$P(b,a,c)};p.zQ=function(){this.A5&&this.A5.abort();D(this.q().c(),"showing-snapper");this.J.Qm.Ge(m)};p.i3=function(a){a=a.currentTarget;200!=a.nf().statusCode?this.AQ():(CR(this,a.nf().photoUrl),this.q().Qm.Ge(m),D(this.q().c(),"showing-snapper"))};p.AQ=function(){this.q().Qm.Om()};
p.o1=function(){this.q();if(0==EQ(this.q()).Yl().length)this.$P([],m);else{var a=AP(EQ(this.q()));a&&(a=Math.round(a.Aa/1E3),(new iR(this.r,w(this.$P,this),a)).load())}};p.$P=function(a,b){if(ja(a)){var c=EQ(this.q());O(qP(c,c.NB),m);O(qP(c,c.dn),j);this.DN(a,b)}else S("Wrong type fetched on history request.")};p.M3=function(){t(this.gg)&&(this.gg.abort(),this.gg=k);zQ(this.q());this.q().da.focus()};
p.N3=function(a){var b=this.q();CQ(b);b=b.jb;wQ(b);a=a.$i();if(a.value){var c=w(this.KQ,this,b),d=w(this.zH,this,b),b=w(this.JQ,this,b);this.gg=new dR(Jl(),c,d,b);this.gg.upload(a);try{a.value=""}catch(f){}}};function DR(a,b){if(G&&"outcomes"in b)a.Hz(b);else{var c=a.q();CQ(c);var d=c.jb;wQ(d);var c=w(a.KQ,a,d),f=w(a.zH,a,d),d=w(a.JQ,a,d);a.gg=new dR(Jl(),c,f,d);fR(a.gg,b)}}p.Xn=function(){Os(Y.j(),this.r.m());t(window.App)&&t(window.App.ee)?window.App.ee().qn(this.r):this.q().Xn()};
p.JQ=function(a,b){var c=b.currentTarget;u(c.VM)&&"console"in window&&(c=100*c.mA,this.q().jb.Aj.ga(c))};
p.zH=function(a,b){var c=b.currentTarget;c&&c.Oh&&Gj("FSS Error:  ",c.Oh());var d="Unable to upload.";try{if(c)if(u(c.lb))if(200==c.lb())if(d=c.Oh(),0<=d.search(/<html/ig))if(d&&v(d)){var d=d.replace(/<title>.*<\/title>/ig,""),f=cd("span");f.innerHTML=d;d=f.innerText||f.textContent||""}else d="Image URL unavalable.";else u(c.nf)&&(d=VH(c.nf()));else{if(u(c.qt))var g=c.qt(),d=g?g:"Upload error code: "+c.lb()}else u(c.nf)&&(g=VH(c.nf()))&&(d=g);else d=VH(b);this.gg=k}catch(i){}a.Om(d);this.q().da.focus()};
function ER(a,b,c,d,f){var g=k,i="",l="";if("photoUrl"in b)i=b.photoUrl,i.replace(/([\\\/]*$)/,"").replace(/(^.*(?:\\|\/))/,"");else if("response"in b){i=b.response.data.cdnUrl;if(!i||0<=i.search("//cdn-does-not-work"))i=b.response.data.url;l=b.response.data.directAccessUrl}i||e("file upload error");d||(d=eR(c));b=u(f)?f:0==d.search(/^image\//);c&&(g={marker:0,file:[{index:0,name:c,fileType:d,type:"file",version:1}]},b&&l&&0>l.search(/:[0-9]+/)&&(g.file[0].urlForScaling=l));CR(a,i,g)}
p.KQ=function(a,b){try{var c=this.gg.Ox,d=this.gg.QD,f=this.gg.Xm;ER(this,b.currentTarget.nf(),c,d,f);var g=a.sa();D(g,"error");zQ(this.q());this.gg=k;this.q().da.focus()}catch(i){this.zH(a,b)}};p.f0=function(a){var b=a.nk(),a=new hy(b,0,this,a.ok());this.q().dispatchEvent(a)};p.Q2=function(a){a=a.Ma();Ur.log("Ready to send IM..."+a.length);this.r&&Tu(this.r);this.q().dispatchEvent("aim.messaging.SaveState");CR(this,a)};p.M_=function(a){CR(this,a.Ma(),a.getMetadata());a.stopPropagation()};
function FR(a,b,c){var d=a.C(),d=!d.aa()&&d.Ck(),f=x().toString(),g=c&&v(c)?pv(c):c||k,g=new qv(b,r._aim_user_,f,h,h,g||k),i=a.r.Mc();g.Oo=i;a.Wj(g);Y.j().MA(a.Jf(),b,d,"",c,w(a.O2,a,b,c||k,f))}function CR(a,b,c){Ur.log("About to send IM..."+b.length);0!=b.search(/<html>/i)&&(b=(b||"").replace(/<br\s*\/?>/g,"\r"),b=il(b),b=b.replace(/\r\n|\r|\n/g,"<br />"),Ur.log("Sending IM..."+b.length));FR(a,b,c)}
function GR(a,b){if(!Ca(b)){var c=a.q().da;if(!Ca(b)){if(c.wb())var d=b;else{var d=c.w(),f="",g="",f=d,g=b;0!=f[f.length-1].search(/\s/)&&0!=g.search(/\s/)&&(f+=" ");d=f+g}c.ga(d)}}}
p.O2=function(a,b,c,d){if(kr(d)){var f=d.w("data.msgId");b&&v(b)&&(b=pv(b));var f=new qv(a,r._aim_user_,f,h,h,b),g=this.r.Mc();f.Oo=g;var i=EQ(this.q());if((g=c?J(i.c()).c("aim_msg_"+c):k)&&f instanceof qv){i=i.Be;for(d=0;d<i.length;d++)if((a=i[d]&&i[d].aj?i[d].za:k)&&a==c){i[d].za=f.za;var a=Ll.j(),l=ru(c),q=a.H(l),s=a.q(l);a.remove("model",l);a.remove("ui",l);q&&s&&(l=ru(f.za),a.add("model",l,q),a.add("ui",l,s))}g.id="aim_msg_"+f.za}else i.wl(f);if(!b||!b.file)this.q().da.Mx()?FQ(this.q()).Cx("too_large"):
FQ(this.q()).xN()}else if(b=d.w("statusCode")||k,a=d.w("data.subCode.error")||k,d=d.w("data.subCode.subError")||k,408!=b){this.q().zI.Cx(b,a,d);b=EQ(this.q());if(c){c=ru(c);try{f=Ll.j(),g=f.q(c),f.remove("model",c),f.remove("ui",c),b.G&&(i=yP(g.c()),b.removeChild(g,j),K("messaging-message",i)||od(i))}catch(B){}Db(b.Be,0)}c=this.q().da;c.field&&c.field.yR()}};
p.QP=function(a){if(this.Le(a)&&(!(a instanceof vv)||!a.no())){var b=a.Gg();a.Qw&&(b.Ey=j);this.xy&&!this.ON&&(this.ON=j,this.Wj(this.xy));this.Wj(b);this.CF=x()}};p.vQ=function(a){var b;if(b=this.Le(a))if(!(b=a.lW))if(b=uB(a))b="update"in(uB(a)?pv(a.Eo):k);b&&(a=a.Gg(),b=this.r.Mc(),a.Oo=b,this.Wj(a),this.CF=x())};p.tq=function(){try{yM(this.q())}catch(a){S("Could not increment unread count for a conversation.",a)}};
p.lN=function(){try{yM(this.q())}catch(a){S("Could not increment unread count for a conversation.",a)}};p.jy=ba();p.Lo=ba();p.Ld=function(){return EQ(this.q()).Ld()};p.gL=function(){var a=this.q();return t(a)&&a.G&&!a.jh&&a.da.wb()&&!this.r.Mc()&&x()-this.CF>=this.GS};function uR(a){return a.C().Kc(r._aim_user_)||a.qg}
p.qR=function(a,b,c){try{var d=k,f=ru(b);f&&(d=Ll.j().q(f));if(d){var g=K("playground-preview",d.c());g||(g=K("playground-hidden",d.c()));!g&&a&&ob(a||[],function(a){var b=a.url,c=Ll.j().H(f);c&&(a.uInfo.scaling_url=uv(c,b));a=oP(new Ih(b),a.uInfo);if(!ia(a)&&(YM(d,a),(b=this.q())&&b.G))a.Av=b.nc.c()},this);Ic(c,b)}}catch(i){S("Exception in ConversationController.replayOneQueuedUrlInfo_",i)}};function wR(a,b){if(a.qg)if(b){var c=b in a.Tk?a.Tk[b]:h;c&&a.qR(c,b,a.Tk)}else Cc(a.Tk||{},a.qR,a)}
p.k6=function(){this.qg=j;wM(this.J,j);wR(this)};p.Tw=function(a){this.Tk=k;dv(jr(a),j);this.Xn()};function zR(a,b){Oq.j().xg(b,m,w(a.rQ,a,b))}p.JC=function(){EQ(this.q()).JC()};p.U_=function(){WL(this.q().getHeader())};p.T_=function(){r._aim_session_.dispatchEvent(new ly(this.C().z()))};
p.$Z=function(){var a=nR.j();t(this.UT)||(this.h().e(a,"aim.picuploader.eventtype.imageUploaded",this.ZZ).e(a,"aim.picuploader.eventtype.imageUploadReady",this.YZ),this.UT=j);var b=this.r.m();oR(a,"aim.picuploader.target.imageShare",b)};
p.ZZ=function(a){var b=a.context;if(this.r.m()==b){a=a.data;b=k;"photoUrl"in a?b=a.photoUrl:"response"in a&&(b=a.response.data.cdnUrl,0<=b.search("//cdn-does-not-work")&&(b=a.response.data.url));var c="";try{c=a.response.data.fileName}catch(d){R("fileName not available after camera upload")}var f="";try{f=a.response.data.contentType}catch(g){R("fileType not available after camera upload")}CR(this,b,{marker:0,file:[{index:0,name:c,fileType:f,version:1}]})}};
p.YZ=function(a){var b=a.context;if(this.r.m()==b&&(a=a.data)&&a.data){var b=w(this.oP,this),c=w(this.oP,this),b=this.gg=new dR(Jl(),b,c),c=a.data,d=a.name,f=a.type;gR(b,a.size,d,f)&&(b.fi||(b.fi=w(b.Gu,b)),b.di||(b.di=w(b.ei,b)),b.Ox=d,b.QD=f,b.jb=new aR,b.h().e(b.jb,"error",b.di).e(b.jb,"success",b.fi),b.To&&b.h().e(b.jb,"progress",b.To),b.Xm=0<=f.search(b.HN),a=ns(b.N.Ua,b.N.Ua.Me,b.N.Zl(),{service:b.Xm?b.$E:b.PD,contentType:f,fileName:d}),f={"Content-Type":"text/plain"==f?f:'text/plain; charset=x-user-defined"'},
v(c)&&RegExp(/^([A-Za-z0-9]|\+|\/|\-|\=)+$/).test(c)&&(c="base64Data="+encodeURIComponent(c.toString()),f["Content-Type"]="application/x-www-form-urlencoded"),b.jb.send(a.toString(),"POST",c,f))}};
p.oP=function(a){try{var b=a.currentTarget,c=b?b.On():"";if(!t(c)||""==c)c="{response:{statusCode:"+b.Ac+",statusText:'"+Ga(b.kE())+"'}}";var d=nR.j().q();try{K("picUploaderSwf",d.c()).returnUploadResponse(c)}catch(f){S("PicUploaderFrame.returnUploadResponse failed: "+f.message)}}catch(g){S("ConversationController.onCameraUploadReturnResponse_ error: "+g.message)}};p.Ar=function(a){this.r instanceof wv&&this.J.Ar(a)};p.Js=function(){this.J.Js();IQ(this.q(),m);this.q().da.focus()};
p.q0=function(a){CQ(this.q());a&&a.bytesLoaded&&a.bytesTotal&&(a=100*(a.bytesLoaded/a.bytesTotal),this.q().jb.Aj.ga(a))};
p.Hz=function(a){if("no files chosen"==a.result)S("No-op for flash uploader result since no file chosen"),this.q().da.focus();else{var b=this.q();CQ(b);var c=k;try{var d=a.outcomes.replace(/[\r\n]/g," "),c=dB(d),f={statusCode:c.response.statusCode,statusText:c.response.statusText}}catch(g){f={statusCode:462}}if(200==f.statusCode){try{var i=c.response.data.url.match(/(?:\?|&)fileName=([^\?&]*)/)[1]}catch(l){i="unknown.dat"}ER(this,c,i);a=b.jb.sa();D(a,"error");zQ(b)}else a=VH(f),b.jb.Om(a)}};
p.WV=function(){CQ(this.q())};p.OT=function(){this.Yn=m;this.qg=j;wM(this.J,j);ot(Y.j(),this.r.m(),j);this.dispatchEvent(new my(this.r))};p.G4=function(){this.qg=this.Yn=m;this.Tw(this.r.m());ot(Y.j(),this.r.m(),m)};

function HR(a,b){V.call(this);this.r=a;this.hd=b||"typing"}z(HR,V);HR.prototype.l=function(){HR.g.l.call(this);Gl(this,JM,{status:this.hd,name:this.r.R()});O(this.c(),m)};HR.prototype.show=function(){O(this.c(),j);this.zx&&IR(this);this.zx=window.setTimeout(w(this.Ib,this),1E4)};HR.prototype.o=function(){this.zx&&IR(this);HR.g.o.call(this)};function IR(a){window.clearTimeout(a.zx);a.zx=k}HR.prototype.Ib=function(){this.c()&&O(this.c(),m);IR(this)};

function JR(a,b,c){xQ.call(this,a,b,c);KR(this)}z(JR,xQ);p=JR.prototype;p.l=function(){JR.g.l.call(this);var a=this.H();this.ml=new HR(a);a=Tc("div","typing-container",this.nc.c())[0];this.nc.O(this.ml);this.ml.T(a)};p.K=function(a){JR.g.K.call(this,a);C(a,"im");this.W=this.H().xa(j);a=this.D().P("name-info",CM(this));this.lr=Bp(LR,{state:this.W},this.ba);a&&this.D().P("name-info",CM(this)).appendChild(this.lr)};
p.RM=function(){var a=Ku(this.H()),b=[];b.push(KQ());b.push(new Rg("Start a Video Chat","av"));b.push(new Tg);b.push(JQ(this));br()&&b.push(new Rg("Add to Group...","add-to-group"));b.push(new Tg);b.push(this.H().Mc()?new Rg("Go On the Record","on-the-record"):new Rg("Go Off the Record","off-the-record"));b.push(new Rg("Clear Chat History","clear-history"));b.push(new Tg);this.H().cj()==xr&&b.push(new Rg("Edit Contact","edit"));var c=m,d=this.H();d&&(c=d.Wh()&&!Dq(d));c&&b.push(new Rg("Remove from Contacts",
"remove"));b.push(new Rg(a?"Unblock This Person":"Block This Person","block"));a=m;(c=this.H())&&(a=c.Wh());a&&b.push(new Rg("Report This Person","report"));return b};p.PJ=function(a){a="typing"==a.lb();this.ml&&(a?this.ml.show():this.ml.Ib())};p.wl=function(a){JR.g.wl.call(this,a);this.ml&&this.ml.Ib()};p.Vu=function(a){JR.g.Vu.call(this,a);this.ml&&this.ml.Ib()};function MR(a){var b=a.H().xa(j);a.G&&Sb(a.lr,a.W,b);a.W=b;KR(a);a.Bi()}function KR(a){XO(a.da,!Dq(a.H())&&"mobile"!=a.W)};

function NR(a,b,c){var d=a.m();this.df=d;b=b||OR(d);rR.call(this,a,b,c);this.h().e(Jl(),Ex,this.Lo).e(Jl(),"preference",this.c2)}z(NR,rR);p=NR.prototype;p.Qj="none";p.np=-1;p.n=function(){NR.g.n.call(this);0<=this.np&&(Be(this.np),this.np=-1);this.MI("none")};p.JL=function(){this.r instanceof wv&&e(Error("Could not get the box for an IM widget. User is the wrong object."));var a=new JR(this.r,this.z());this.h().e(a,"PostingForm.Typing",this.b2);return a};
p.load=function(){var a=this.C(),b=this.q();MR(b);b.Ge(m);this.Az();Mf(this.h(),a,yu,w(this.P3,this));a.Lc()||a.load();vR(this)};p.P3=function(){MR(this.q())};p.b2=function(a){this.MI(a.Qj)};p.MI=function(a,b){if(this.Qj!=a||b){this.Qj=a;Be(this.np);this.np=-1;var c=Y.j();$(c,"im","setTyping",{typingStatus:a,t:this.df},h)}else 0>this.np&&(this.np=N(ua(this.MI,a,j),8E3,this))};p.PJ=function(a){this.q().PJ(a)};p.Jf=n("df");
p.Le=function(a){return a instanceof vv||a instanceof $v?!a.Ak()&&a.m()==this.r.m():a instanceof zL?a.C().m()==this.r.m():a instanceof oB||a instanceof Zv?a.m()==this.r.m():NR.g.Le.call(this,a)};function OR(a){return"aim-ims-Controller-"+Mo(a)}p.Lo=function(a){this.r instanceof wv&&e(Error("Could not update presence because user is the wrong object."));a.C(this.r)!=k&&((a=a.C(this.r.m()))?(this.r.update(a),a=this.q(),MR(a),vP(a.nc)):S("Could not find user when updating presence."))};
p.c2=function(){var a=this.q()?EQ(this.q()):k;a&&vP(a)};p.tq=function(a,b){NR.g.tq.call(this,a,b);try{Tu(this.r)}catch(c){S(c)}};p.jy=function(){Tu(this.r)};

function PR(a){V.call(this);this.Jb=k;this.FC=a||fu;this.oS=gu==this.FC;this.da=new PO("new_chat");XO(this.da,m);this.tc=k;this.XQ=m}z(PR,V);p=PR.prototype;p.l=function(){PR.g.l.call(this);Gl(this,SM,{})};
p.K=function(a){PR.g.K.call(this,a);var b=new ww;this.oS?CC(yw(b.te)).$R=j:"aim.ui.AimList.NewGroupChat"==this.FC&&(b.te.Hj=j);b.Jg=this.c();this.Jb=new Jw(h,b);this.O(this.Jb);this.Jb.T(K("newchat-userselector-chooser",a));K("aimlist-searchbar-input",a).setAttribute("tabindex",19);this.O(this.da,j);this.h().e(this.Jb,Lw,this.MQ).e(this.Jb,"aim.ui.AimList.Change",this.tP).e(this.da,"PostingForm.Submit",this.IG).e(this.da,"click",this.HP,j).e(this.da,"change",this.IP,j).e(this.da,fL,this.nQ)};
p.$=function(){PR.g.$.call(this);this.h().M(this.Jb,Lw,this.MQ).M(this.Jb,"aim.ui.AimList.Change",this.tP).M(this.da,"PostingForm.Submit",this.IG).M(this.da,"click",this.HP,j).M(this.da,"change",this.IP,j).M(this.da,fL,this.nQ)};p.nw=function(a){if((!("File"in window)||!("FileList"in window))&&!G)a=j;this.da.nw(a)};
p.v=function(){PR.g.v.call(this);var a=this.d0;this.G&&this.Hk==k&&(this.Hk=new yl(this.c()),this.Hk.jC=j,this.h().e(this.Hk,"shortcut",this.h1));a=w(a,this);this.Hk.hR("ESC","esc");this.iO.ESC=a;QR(this);this.Jj();this.Rr();if((!("File"in window)||!("FileList"in window))&&G)if(this.tc=TO(this.da,"_aim_new_chat"))r[this.tc.resultCallback]=w(this.Hz,this),r[this.tc.progressCallback]=fa};
p.n=function(){if(this.tc)try{delete r[this.tc.resultCallback],delete r[this.tc.progressCallback]}catch(a){r[this.tc.resultCallback]=k,r[this.tc.progressCallback]=k}PR.g.n.call(this)};p.d0=function(){this.dispatchEvent(RR)};p.Jj=function(){N(function(){if(this.G){var a=this.Jb.Na;a.rd();a.Jj()}},0,this)};function QR(a){var b=cm==r._aim_session_.xa(),b=b&&0<a.Jb.Ra().length;a.da.ep(!b);a.nw(!b)}
p.MQ=function(){var a=this.Jb.Ra(),b=this.Jb.Na;QR(this);1==a.length&&(!Pu(a[0])||this.oS)?N(w(function(){this.dispatchEvent(new SR(a[0]))},this),0):0==a.length?(D(this.c(),"show-postingform-hint"),b.te.Hj=m,b.te.Hj=m,this.Rr(),XO(this.da,m)):(this.XQ||C(this.c(),"show-postingform-hint"),b.te.Hj=j,b.te.Hj=j,this.Rr(),XO(this.da,j));this.dispatchEvent(new TR(a))};p.tP=function(){var a=this.Jb.Ra();this.da.ep(!(a&&a.length||!Ca(this.Jb.Na.w())))};
p.Rr=function(){var a=this.Jb.Ra().length,b=this.Jb.Na;if(0==a){a="";switch(this.FC){case "aim.ui.AimList.NewGroupChat":a="Enter usernames";break;case gu:a="Enter a mobile number or username";break;default:a="Enter an email address, username or mobile number"}Dw(b,a);b.zb(a)}else 1==a?Dw(b,"+ more?"):Dw(b,"")};
p.IG=function(a,b){Vw(this.Jb);var c=this.Jb.Ra();if(1<c.length){var d=jx(Oq.j().am);if(!b&&64<=d){this.da.ga(a.Ma());c=new Zm(J(this.c()));c.zb("So many chats, so little space");c.pa(zy({action:"create"})||"");Gm(c,wm());c.L(j);d=UR(c);this.h().e(c,Im,ua(this.fH,c,d,a));return}}d=a.Ma()||this.da.w()||"";1==c.length?this.dispatchEvent(new SR(c[0],d)):1<c.length&&this.dispatchEvent(new VR(c,d))};
p.fH=function(a,b,c,d){"ok"==d.key&&(a=b.w(),(a=kx(a))&&Oq.j().Jk(a,m,h,w(function(a){a&&this.IG(c,j)},this)))};p.HP=function(a){var b=this.Jb.Ra(),c="File"in window&&"FileList"in window||G;if(!b||!b.length||!c)a.stopPropagation(),a.preventDefault()};
p.IP=function(a){a.stopPropagation();Vw(this.Jb);var b=this.Jb.Ra(),c=k;"File"in window&&"FileList"in window&&a.target&&"files"in a.target&&(c=(c=a.target.files)&&c.length?c[0]:k);c&&(a=this.da.w()||"",1==b.length?this.dispatchEvent(new SR(b[0],a,c)):1<b.length&&this.dispatchEvent(new VR(b,a,c)))};p.Hz=function(a){if(a&&"outcomes"in a){Vw(this.Jb);var b=this.Jb.Ra(),c=this.da.w()||"";1==b.length?this.dispatchEvent(new SR(b[0],c,a)):1<b.length&&this.dispatchEvent(new VR(b,c,a))}};
p.nQ=function(){this.XQ=j;D(this.c(),"show-postingform-hint");Cw(this.Jb.Na);Vw(this.Jb)};function UR(a){var b=new Ug,c=K("groupchat-maxed-groups-menu",a.c());b.T(c);var d=new wG("Select a group chat",b);ix(Oq.j().am,function(a){d.Ad(new Rg(a.R(),a.m()))});a=K("groupchat-maxed-groups-combo",a.c());d.T(a);new wC(d.ua());return d}var RR="NewChat.Close";function TR(a){L.call(this,"NewChat.NameChange");this.Fc=a}z(TR,L);TR.prototype.Ra=n("Fc");
function SR(a,b,c){L.call(this,"NewChat.StartChat");this.r=a;this.ef=new gy(b,c)}z(SR,L);SR.prototype.C=n("r");SR.prototype.Ma=function(){return this.ef.Ma()};SR.prototype.getFile=function(){return this.ef.getFile()};function VR(a,b,c){L.call(this,"NewChat.StartGroupChat");this.Fc=a;this.ef=new gy(b,c)}z(VR,L);VR.prototype.Ra=n("Fc");VR.prototype.Ma=function(){return this.ef.Ma()};VR.prototype.getFile=function(){return this.ef.getFile()};

function WR(a,b){V.call(this);this.RN=a;this.vb=b}z(WR,V);WR.prototype.l=function(){var a=document.createElement("div");this.K(a);var b={Ji:this.RN.Zb(),Pa:this.RN.R(),title:"invited you to the \u201c"+this.vb.R()+"\u201d group chat.",hF:this.vb.z()};a.appendChild(gk(XR,b))};WR.prototype.K=function(a){WR.g.K.call(this,a);C(a,"invite-overlay")};WR.prototype.v=function(){WR.g.v.call(this)};

function YR(a,b){V.call(this,b);this.r=a}z(YR,V);p=YR.prototype;p.C=n("r");p.l=function(){Gl(this,ZR,{Kk:this.C().Sa()})};p.ae=function(a){return!ia(this.D().P("member",a))};p.K=function(a){YR.g.K.call(this,a);var b=this.D();this.nz=b.P("name",a);this.lr=b.P("presence",a);b.P("memberRemove",a);this.m()==r._aim_user_.m()&&C(this.c(),"self");this.r.Lc()||(this.h().e(this.r,zu,w(this.update,this)),this.r.load())};p.v=function(){YR.g.v.call(this);this.h().e(this.c(),"click",this.Kb)};
p.Kb=function(a){F(a.target,"member-remove-img")?this.dispatchEvent(new BL(this.C())):this.dispatchEvent(new xL(this.C()));a.stopPropagation()};p.m=function(){return this.r.m()};p.update=function(){this.lr&&(Cc(Cu,function(a){D(this.lr,a)},this),C(this.lr,this.r.xa()),this.nz.innerHTML=this.r.R())};p.zr=function(a){a?C(this.c(),"owner"):D(this.c(),"owner")};

function $R(a,b){V.call(this,b);this.lh=a||new bv}z($R,V);p=$R.prototype;p.az=m;p.rf=m;p.l=function(){$R.g.l.call(this);var a=this.D();Gl(this,aS,{Go:this.lh.Ra().length});var b=this.c(),c=a.P("members",b);ia(c)||(this.rn=c,this.rn==k&&delete this.rn,ix(this.lh,this.vD,this));a.P("load-box",b);a.P("members-content",b)};p.K=function(a){$R.g.K.call(this,a);this.ld=this.D().P("title",a)};p.v=function(){$R.g.v.call(this);this.h().e(this.c(),"keydown",this.bH)};
p.Ge=function(a){this.az=a;this.az===$R.prototype.az&&delete this.az};p.cl=function(a){this.rf=a;this.rf===$R.prototype.rf&&delete this.rf;a?D(this.c(),"loading"):C(this.c(),"loading")};p.Lc=n("rf");function bS(a,b){a.lh.update(b);var c=new ux(Gb(a.lh.Ra()));c.sort(Wu);c.sort(Yu);ix(c,function(a){this.vD(a)},a);cS(a)}p.ul=function(a){this.cT(a);cS(this)};p.vD=function(a){if(!ia(a)){var b=m;Xf(this,function(c){c instanceof YR&&c.m()==a.m()&&(b=j)});b||this.O(new YR(a),j)}};
function cS(a){a.ld&&(a.ld.innerHTML=dS({Go:jx(a.lh)}))}p.eh=n("lh");p.zr=function(a){Xf(this,function(b){b instanceof YR&&a&&b.m()==a.m()&&b.zr(j)})};p.cT=function(a){if(!ia(a)){hx(this.lh,a);var b=m;Xf(this,function(c){c instanceof YR&&c.m()==a.m()&&(c.update(a),b=j)});b||this.vD(a)}};p.NJ=function(a){ix(a,this.cT,this)};p.nr=function(a){Xf(this,function(b){b instanceof YR&&b.m()==a.m()&&(this.removeChild(b),b.o())},this)};
p.bH=function(a){switch(a.keyCode){case 40:a.preventDefault();a.stopPropagation();for(var a=a.target,b=k;b==k;){b=a.nextElementSibling!=h?a.nextElementSibling:td(a.nextSibling,j);if(ia(b))break;F(b,"member")||(a=b,b=k)}ia(b)||b.focus();break;case 38:a.preventDefault();a.stopPropagation();a=a.target;for(b=k;b==k;){b=a.previousElementSibling!=h?a.previousElementSibling:td(a.previousSibling,m);if(ia(b))break;F(b,"member")||(a=b,b=k)}ia(b)||b.focus()}};

function eS(a){this.vb=a;this.J=new $R}eS.prototype.q=n("J");eS.prototype.load=function(){this.J.Lc()||Ms(Y.j(),this.vb.z(),w(this.zu,this))};eS.prototype.zu=function(a){var b=k,c=[],a=a.w("data.members",[]);A(a,function(a){var f=jr(a.member);"invite"!=a.memberType&&(c.push(f),"owner"==a.memberType&&(b=f))});t(b)?(bS(this.J,new bv(c)),this.J.Ge(m),this.J.cl(j),this.J.zr(b)):e(Error("Error - owner not found"))};

function fS(a,b,c){var d=a.z();ia(d)&&e(Error("Could not start a new group chat. ImServId is missing."));xQ.call(this,a,b||gS(d),c);this.Bc=new $R}z(fS,xQ);p=fS.prototype;p.Ul=function(){return this.H()};p.l=function(){fS.g.l.call(this);this.O(this.Bc,j)};p.tB=function(){var a=this.Bc;a.rg?a.Ib():a.show();Vb(this.c(),"showing-guests");if(this.Bc.isVisible())for(var a=this.Bc,b=m,c=0,d=Yf(a);!b&&c<d;){var f=Zf(a,c++);t(f)&&f instanceof YR&&(f.c().focus(),b=j)}else UL(this.getHeader()).focus()};
p.yN=function(a){(27==a.keyCode||9==a.keyCode)&&this.Bc.isVisible()&&this.tB()};p.DP=function(a){r._aim_session_.dispatchEvent(a)};p.v=function(){fS.g.v.call(this);t(this.tf)||this.Bc.Ib();this.h().e(this.D().Ia(),"mousedown",this.NG);this.tf&&hS(this)};p.K=function(a){fS.g.K.call(this,a);C(a,"picnic")};p.close=function(){fS.g.close.call(this)};p.NG=function(a){!t(this.tf)&&a.target instanceof Element&&!ud(this.Bc.c(),a.target)&&(D(this.c(),"showing-guests"),this.Bc.Ib())};
p.HI=function(a){this.vc(a);this.nc.vc(a);this.Bi();bS(this.Bc,a.eh());this.Bc.zr(a.SQ)};p.Yd=function(){fS.g.Yd.call(this);this.tf&&hS(this);var a=this.getHeader();a&&this.h().e(a,"aim.messaging.PicnicViewMembers",this.tB).e(a,"aim.messaging.PicnicEditIcon",this.DP).e(window,"keyup",this.yN)};p.hf=function(){fS.g.hf.call(this);t(this.tf)||this.Bc.Ib();var a=this.getHeader(j);a&&this.h().M(a,"aim.messaging.PicnicViewMembers",this.tB).M(a,"aim.messaging.PicnicEditIcon",this.DP).M(window,"keyup",this.yN)};
p.RM=function(){var a=[];a.push(KQ());a.push(new Tg);a.push(JQ(this));a.push(new Tg);a.push(new Rg("Add Member","add-member"));a.push(new Rg("View Members","toggles-guests"));a.push(new Rg("Edit Group Chat Name","edit-chat-name"));a.push(new Rg("Edit Group Chat Icon","edit-chat-icon"));a.push(new Tg);a.push(new Rg("Leave Group Chat","leave-picnic"));return a};p.Fw=function(a){ix(a,function(a){this.Bc.ul(a)},this);this.Bc.Ge(m);this.Bc.cl(j);OQ(this)};p.nr=function(a){this.Bc.nr(a);OQ(this)};
p.ul=function(a){this.Bc.ul(a);OQ(this)};p.NJ=function(a){this.Bc.NJ(a);OQ(this)};p.Ev=function(){var a=this.Ul();this.G&&(this.td||(this.td=new PF(a,this),(a=this.c())&&OF(RF(this.td),a)),a=QF(this.td,this),this.h().e(a,"aim.picnics.ui.InviteUser.CloseEvent",w(function(){this.qy()},this)));return this.td?RF(this.td):k};p.qy=function(){if(this.G&&this.td){SF(this.td,this);var a=K("panel-header-addmember-button");t(a)&&a.focus()}};
p.Ar=function(a){this.tf||(this.tf=new WR(a,this.H()),this.O(this.tf));this.G&&hS(this)};function hS(a){if(a.G&&a.tf&&!a.tf.G){a.Bi();a.tf.T(a.c());a.tr(j);var b=K("accept",a.c()),c=K("decline",a.c());a.h().e(b,"click",a.TP).e(c,"click",a.UP);C(a.c(),"showing-guests");C(a.Bc.c(),"show-in-overlay");b=a.Bc.c();a.D().removeNode(b);K("invite-overlay",a.c()).appendChild(b);a.Bc.show()}N(function(){debugger;var a=K("accept",this.c());a&&a.focus()},0,a)}
p.Js=function(){if(this.G){if(this.tf){if(this.G){var a=K("accept",this.c()),b=K("decline",this.c());this.h().M(a,"click",this.TP).M(b,"click",this.UP);this.tr(m)}a=this.Bc.c();this.D().removeNode(a);K("invite-overlay",this.c()).parentNode.appendChild(a);this.removeChild(this.tf,j);this.tf.o();delete this.tf}D(this.c(),"showing-guests");D(this.Bc.c(),"show-in-overlay");this.Bc.Ib()}};p.TP=function(a){(a=a.target.getAttribute("imserv"))&&this.dispatchEvent(new CL(a))};
p.UP=function(a){(a=a.target.getAttribute("imserv"))&&this.dispatchEvent(new DL(a))};p.Bi=function(){fS.g.Bi.call(this);this.G&&this.tf&&this.tr(j)};

function iS(a,b,c){this.vb=a;b=b||gS(a.z());this.PO=0;rR.call(this,a,b,c);jS(this)}z(iS,rR);p=iS.prototype;p.JL=function(){var a=k,a=new fS(this.r,this.z());this.h().e(a,"aim.chooser.ui.MultiChooserBox.SUBMIT",this.b1);this.h().e(a,"toggles-guests",this.D3);this.h().e(a,"picnics.InitializeIm",this.WG);this.h().e(a,"picnics.RemoveUser",this.nH);this.h().e(a,"leave-picnic",this.Oz);return a};p.n=function(){iS.g.n.call(this);this.yg&&(this.yg.o(),delete this.yg)};p.WG=function(a){this.q().dispatchEvent(new yL(a.C()))};
p.nH=function(a){this.yg||(this.yg=new gn,this.yg.pD=m,this.yg.pa(y("Really remove this person from the group chat?")),this.h().e(this.yg,Im,this.q2));a=a.C();this.yg.pa(y("Do you really want to remove \u201c{$member}\u201d from \u201c{$groupChat}\u201d",{member:a.R(),groupChat:this.vb.R()}));this.yg.L(j);this.yg.vc(a)};p.D3=function(){var a=this.q();a.tB();a.Bc.isVisible()&&0==this.PO&&(this.PO=J().Zi("picnic-members",a.c())[0].offsetWidth)};
p.Oz=function(){var a=J(this.q().c());Oq.j().Jk(this.vb,j,a,w(function(){var a=this.q();a&&a.G&&(a.dispatchEvent(new AL(this.vb.z())),Ru(this.vb)&&a.dispatchEvent("favorite-remove"),a.close())},this))};p.q2=function(a){this.yg.L(m);var b=this.yg.H();this.yg.vc(k);"yes"==a.key&&Y.j().Jk(this.vb.z(),b)};
p.b1=function(a){var b=a.Ra();A(b,function(b){var d=b.m(),b=this.vb.z();S("Inviting "+d+" to group chat "+b+"...");if(!Ca(d)){var f=a.currentTarget.td?RF(a.currentTarget.td):k;Ss(Y.j(),b,d,function(a){kr(a)?KF(f,jr(d)):S("PicnicInviteFailureEvent",a)})}},this)};p.load=function(){Mf(this.h(),this.vb,yu,this.Az);this.vb.load();Ms(Y.j(),this.r.z(),w(this.zu,this))};
p.zu=function(a){if(kr(a)){var b=k,c=[],a=a.w("data.members",[]);A(a,function(a){var f=jr(a.member);"invite"!=a.memberType&&(c.push(f),"owner"==a.memberType&&(b=f))});this.vb.Fw(new bv(c));b&&this.vb.zr(b);(a=this.q())&&a instanceof fS&&a.Fw(this.vb.eh())}};p.Az=function(){this.q().Ge(m);this.q().HI(this.vb);vR(this);iS.g.Az.call(this)};function jS(a){a.h().e(a.vb,zu,function(){var a=this.q();a&&a.HI&&a.HI(this.vb)},h,a)}p.Jf=function(){return this.r.m()};
p.Le=function(a){return a instanceof vv||a instanceof $v?a.dh()==this.Jf():iS.g.Le.call(this,a)};
p.iC=function(a){iS.g.iC.call(this,a);A(a,function(a){if(a instanceof xv)if("memberJoin"==a.Ga()||"inviteAccepted"==a.Ga())this.ul(a.yJ);else if("memberLeft"==a.Ga())this.nr(a.yJ);else if("friendlyChange"==a.Ga()){var c=this.q(),a=a.getData();c&&t(a)&&(this.vb.update({friendly:a.newValue}),(a=c.getHeader())?a.al(c.H().R()):c.dispatchEvent("aim.chats.ui.ConversationBox.UpdatedTitle"))}else"iconChange"==a.Ga()&&(c=this.q(),a=a.getData(),c&&t(a)&&(a=c,(c=a.getHeader())?(a=a.H().Zb(),c.Sh=a,c.update()):
a.dispatchEvent("aim.chats.ui.ConversationBox.UpdatedIcon")))},this)};p.ul=function(a){a=jr(a);this.vb.eh().Zd(a);var b=this.q();b&&b.ul(a)};p.nr=function(a){a=jr(a);this.vb.eh().xg(a);var b=this.q();b&&b.nr(a)};function gS(a){ia(a)&&e(Error("Can not create controller id from null imservId"));return"aim-picnics-Controller-"+Mo(a)}p.Lo=function(a){!ia(this.vb)&&hB(a,this.vb.eh())&&(a=iB(a,this.vb.eh()),this.vb.Fw(a),this.q().NJ(a))};p.tq=function(a,b){iS.g.tq.call(this,a,b);try{this.vb.SA(x())}catch(c){S(c)}};
p.jy=function(){this.vb.SA(x())};function kS(a){function b(a){return a instanceof qv}var c=EQ(a.q()).Yl(),d=a.BF?mb(c,a.BF):ub(c,b);if(-1==d)S("should have gotten at least one IM with a group chat request...");else{var f=c[d].za,g=ub(c.slice(d+1),b),i;-1!=g&&(i=c[d+1+g].za);Ls(Y.j(),j,a.C().m(),f,i,w(a.dR,a,f))}}p.BF=k;p.zy=function(a,b){this.BF=vb(a,function(a){return a instanceof qv});iS.g.zy.call(this,a,b)};
p.dR=function(a,b){var c=b.w("data.msgs",[]),d=[];A(c,function(a){(a=zv(a))&&d.push(a)});var f=b.w("data.nToSkip");LP(EQ(this.q()),d,a);if(t(f)){var c=EQ(this.q()).Yl(),g=ub(c,function(a){return a.aj&&a.za==f}),i=ub(c.slice(g+1),function(a){return a instanceof qv});-1==g?S("didnt find index of the last returned message -- cant get more..."):(c=-1==i?h:c[i].za,Ls(Y.j(),j,this.C().m(),f,c,w(this.dR,this,f)))}else BR(this,this.vb)};
function lS(a){var b=Y.j(),c=a.vb.z(),d=r._aim_user_,a=w(a.Z0,a),c={imserv:c};d&&(c.t=d.m());$(b,"imserv","join",c,a)}p.Z0=function(a){if(84==a.na.statusDetailCode){a=new Zm(J(this.q().c()));a.zb("So many chats, so little space");a.pa(zy({action:"join"})||"");a.L(j);var b=new bn;b.Ta({caption:"Join",key:"ok"},j);b.Ta(Rm,m,j);Gm(a,b);b=UR(a);this.h().e(a,Im,ua(this.fH,a,b))}else this.Js(),this.ul(r._aim_user_.m()),kS(this)};
p.fH=function(a,b,c){"ok"==c.key&&(a=b.w(),a=kx(a),Oq.j().Jk(a,m,h,w(function(a){a&&lS(this)},this)))};

function mS(a){Sf(this,a.z());po.call(this,h);this.gp("Change Your Picture");this.Da=a;this.h().e(this.Da,"aim.picuploader.eventtype.frameuibuilt",this.vU);a=!Q("appWindow");a=new Bc(a?403:400,a?503:500);this.Ka=new Ar(a,a);this.O(this.Da)}z(mS,aA);p=mS.prototype;p.l=function(){this.K(this.ba.createElement("div"))};
p.K=function(a){mS.g.K.call(this,a);C(a,"picuploader-panel");var b;b=new W;b.append('<div class="picuploader-panel"><\!--<div class="picuploader-panel-header"></div>--\><div class="picuploader-panel-content"></div></div>');b=b.toString();a.innerHTML=b;this.Da.T(K("picuploader-panel-content",a))};p.vU=function(){K("picuploader-panel-content",this.c()).appendChild(this.Da.c())};p.n=function(){t(this.Da)&&(this.Da=k);mS.g.n.call(this)};p.vm=function(){mS.g.vm.call(this);this.cw()};
p.dw=function(){var a=Vl("picuploader-panel-defaultWidth");this.Ka.size.width=!/[^0-9]/.test(a)?Number(a):545};p.cw=function(){if(this.G){var a=this.c().offsetWidth;0<a&&(Wl("picuploader-panel-defaultWidth",a),this.Ka.size.width=a)}};

function nS(){}z(nS,bg);ga(nS);p=nS.prototype;p.la=o("goog-tab");p.sd=o("tab");p.l=function(a){var b=nS.g.l.call(this,a);(a=a.Ph())&&this.Ud(b,a);return b};p.qa=function(a,b){var b=nS.g.qa.call(this,a,b),c=this.Ph(b);c&&a.YA(c);if(a.Fk()&&(c=a.getParent())&&na(c.ip))a.ka(8,m),c.ip(a);return b};p.Ph=function(a){return a.title||""};p.Ud=function(a,b){a&&(a.title=b||"")};

function oS(a,b,c){jg.call(this,a,b||nS.j(),c);og(this,8,j);this.ti|=9}z(oS,jg);oS.prototype.Ph=n("yf");oS.prototype.Ud=function(a){this.ta.Ud(this.c(),a);this.YA(a)};oS.prototype.YA=ca("yf");gg("goog-tab",function(){return new oS(k)});

function pS(){}z(pS,wg);ga(pS);pS.prototype.la=o("goog-tab-bar");pS.prototype.sd=o("tablist");pS.prototype.xv=function(a,b,c){this.BO||(this.dx||qS(this),this.BO=Lc(this.dx));var d=this.BO[b];d?a.Vf(d):pS.g.xv.call(this,a,b,c)};pS.prototype.Hf=function(a){var b=pS.g.Hf.call(this,a);this.dx||qS(this);b.push(this.dx[a.Of]);return b};function qS(a){var b=a.la();a.dx=Oc(rS,b+"-top",sS,b+"-bottom",tS,b+"-start",uS,b+"-end")};

function vS(a,b,c){this.Vf(a||rS);Bg.call(this,this.We,b||pS.j(),c);wS(this)}z(vS,Bg);var rS="top",sS="bottom",tS="start",uS="end";p=vS.prototype;p.oU=j;p.vh=k;p.v=function(){vS.g.v.call(this);wS(this)};p.n=function(){vS.g.n.call(this);this.vh=k};p.removeChild=function(a,b){this.yn(a);return vS.g.removeChild.call(this,a,b)};p.Vf=function(a){this.yr(a==tS||a==uS?Ag:zg);this.Of=a};p.uv=function(a){vS.g.uv.call(this,a);this.oU&&xS(this,a)};p.ip=function(a){a?a.ri(j):this.vh&&this.vh.ri(m)};
function xS(a,b){a.ip(Zf(a,b))}p.yn=function(a){if(a&&a==this.vh){for(var b=ag(this,a),c=b-1;a=Zf(this,c);c--)if(a.isVisible()&&a.isEnabled()){this.ip(a);return}for(b+=1;a=Zf(this,b);b++)if(a.isVisible()&&a.isEnabled()){this.ip(a);return}this.ip(k)}};p.zX=function(a){this.vh&&this.vh!=a.target&&this.vh.ri(m);this.vh=a.target};p.AX=function(a){a.target==this.vh&&(this.vh=k)};p.xX=function(a){this.yn(a.target)};p.yX=function(a){this.yn(a.target)};p.rk=function(){Eg(this)||this.Uf(this.vh||Zf(this,0))};
function wS(a){a.h().e(a,"select",a.zX).e(a,"unselect",a.AX).e(a,"disable",a.xX).e(a,"hide",a.yX)}gg("goog-tab-bar",function(){return new vS});







function yS(a){Il.call(this,"aim.messaging.ChatSyncController");this.Lk=a;this.vn={};this.jc={};this.ik={};this.sn=k;this.Ot=m;this.Hh()}z(yS,Il);yS.prototype.Hh=function(){var a=r._aim_session_;this.h().e(a,fo,this.Vb).e(a,"conversation",this.W3)};function zS(a){var b=a.Lk.Jd();(b=b?b.C().z():k)&&AS(a,b)}
yS.prototype.Vb=function(a){switch(a.ud){case cm:R("CHATSYNC","Starting list timeout");this.d6=N(this.wP,4E3,this);break;case bm:case jo:case 1300:BS(this);this.vn={};this.Ot=m;this.sn||(this.sn=this.jc);this.jc={};this.ik={};break;case 1100:Cc(this.vn,function(a,c){AS(this,c);Be(a)},this)}};
yS.prototype.W3=function(a){var b=a.i4,a=a.cd;R("CHATSYNC",'Handling WIM conversation event: "'+b+'"',a);switch(b){case "list":for(var b=Uv.j(),b=b.Tj+"."+r._aim_session_.m()+"."+b.yw,b=Vl(b)||{},c=0;c<a.length;c++){var d=a[c].getKey();b[d]&&delete b[d]}for(d in b)a.push(px(jr(d)));if(this.Ot)R("CHATSYNC",'List was already loaded. Using "list" as an "update".'),CS(this,a);else{R("CHATSYNC","++++++++++++++start of server list ++++++++++++++++++++ ");for(d=0;d<a.length;d++)R("CHATSYNC","COUNT: "+nx(a[d])+
" NAME: '"+a[d].R()+"' LASTIM: '"+a[d].Ld()+"'");R("CHATSYNC","++++++++++++++end of server list ++++++++++++++++++++ ");DS(this.jc,a);ES(this)?(BS(this),this.wP()):R("CHATSYNC","WARN: No useful conversations are present. So let's hope the next LIST event has good data.")}if(this.sn){a=[];if(this.sn&&this.jc)for(var f in this.sn)this.jc[f]||(this.sn[f].dh()?a.push(gS(f)):a.push(OR(f)));this.sn=k;FS(this.Lk,a)}break;case "add":case "update":CS(this,a);break;case "delete":GS(this,a)}};
function GS(a,b){a.Ot?(R("CHATSYNC","Delete op handling ",b),A(b,function(a){qx.j().remove(a);var b=a.getKey();b in this.jc&&(delete this.jc[b],this.Lk.qn(a.C()));delete this.ik[b]},a)):R("CHATSYNC","Skipping DELETE operation. List not loaded yet.")}
function CS(a,b){a.Ot?ob(b,function(a){var b=a.getKey(),f=a.C();R("CHATSYNC","Got update for "+b,a);f.m()==r._aim_user_.m()?R("CHATSYNC","Ignoring conversation with thyself"):(a.Se=m,qx.j().update(a),f&&!(f.m()in this.jc)?(R("CHATSYNC","  this is a new conversation"),this.jc[b]=a,b=this.Lk,(f=a.C())&&HS(b,f,a.Se,h,a,m)):IS(this,a)&&(R("CHATSYNC","  this an existing conversation"),this.jc[b]=a,nx(a)?this.ik[b]=1:delete this.ik[b],this.Lk.EB(a)))},a):R("CHATSYNC","Skipping UPDATE operation. List not loaded yet.")}
function JS(a,b,c){var d=b.C(),f=d.m();c||(c=b.Ld(),!c&&d.m()in a.jc&&(c=a.jc[f].Ld()));c?!c.Mc()&&!sv(c)?KS(a,f,c.za):f in a.ik&&AS(a,f):AS(a,f)}function AS(a,b){R("CHATSYNC","Sending mark Read for "+b);b in a.ik&&(delete a.ik[b],Ps(Y.j(),b));cw(Uv.j(),b)}
function KS(a,b,c){if(b in a.jc){var d=a.jc[b];d.Yy!=c?(b in a.vn&&(Be(a.vn[b]),delete a.vn[b]),delete a.ik[b],a.vn[b]=N(function(){R("CHATSYNC","Sending mark Read for "+b+" with lastReadMsgId for "+c);delete this.vn[b];Ps(Y.j(),b);d.Yy=c;this.jc[b]=d},1500,a)):R("CHATSYNC",c+" is the lastReadMsgId for "+b)}cw(Uv.j(),b)}function LS(a,b){if(r._aim_session_.Dk()){R("CHATSYNC","ToSync Removing Conversation ",b.C().m());JS(a,b);var c=b.C().m();delete a.jc[c];Os(Y.j(),c)}}
function MS(a,b){var c,d,f;f=r._aim_session_;f=Math.round(new Date/1E3)+f.TE;la(b)&&(d=b?f:0);la(h)&&(c=0);Y.j().pp(a,c,d)}yS.prototype.wP=function(){var a=Fc(this.jc);Lb(a,ox);R("CHATSYNC","++++++++++++++start of UI list ++++++++++++++++++++ ");for(var b=0;b<a.length;b++)R("CHATSYNC","COUNT: "+nx(a[b])+" NAME: '"+a[b].R()+"' LASTIM: '"+a[b].Ld()+"'");R("CHATSYNC","++++++++++++++end of UI list ++++++++++++++++++++ ");this.Ot=j;NS(this.Lk,a)};
function ES(a){return!Ec(a.jc)?j:Dc(a.jc,function(a){return a.Ld()})}function BS(a){R("CHATSYNC","Clearing list timeout");Be(a.d6)}function DS(a,b){A(b,function(b){var d=b.getKey();d&&"undefined"!=d&&(b.Se=m,a[d]=b)})}
function IS(a,b){var c=b.getKey(),d=a.jc[c];if(!d||!d.Ld()&&b.Ld())return R("CHATSYNC","*UPDATING* UI had no lastIM data so letting this update thru ",d),j;b.Ld()||R("CHATSYNC","SYNC update has no IM Data",b);var f=d.Yy,g=b.Yy;if(f!==g)return R("CHATSYNC","*UPDATING* UI for "+c+": Last ReadID's dont match updating UI current is "+f+" updated is "+g),j;d=nx(d);f=nx(b);if(d!==f)return R("CHATSYNC","*UPDATING* UI for "+c+": Unread counts don't match updating UI current is "+d+" updated is "+f),j;R("CHATSYNC",
"*UPDATING* Dropping update for "+c+" as nothing changed.",b);return m};

function OS(a){Il.call(this,"aim.messaging.NewChatController."+(new Date).getTime());this.J=new PR(a);this.Li=k;Mf(this.h().e(this.J,"NewChat.NameChange",this.iH),this.J,"NewChat.StartChat",this.s3).e(this.J,"NewChat.StartGroupChat",this.t3).e(this.J,RR,this.n_).e(r._aim_session_,fo,this.Vb)}z(OS,Il);p=OS.prototype;p.n=function(){OS.g.n.call(this);this.J.o();delete this.J;this.Li&&delete this.Li};function PS(a){var b=a.R();b.match(/[\u0080-\uffff]/)&&(b=a.z());return b}
function QS(a){if(0<a.length){var b=PS(r._aim_user_),c=PS(a[0]),b=Po(b),c=Po(c);35<b.length+c.length&&(b=b.split(/\b/)[0],c=c.split(/\b/)[0]);a=1<a.length?bb(b,", ",c," and more"):bb(b," and ",c)}else a=bb(b," and more");return 64<a.length?bb(b.substring(0,55)," and more"):a}p.iH=function(a){this.Li&&((a=a.Ra())&&1<a.length?this.Li.Ex(QS(a)):this.Li.Ti())};p.s3=function(a){this.h().M(this.J,"NewChat.NameChange",this.iH);try{this.J.o()}catch(b){}this.dispatchEvent(new RS(a.C(),a.ef))};
p.t3=function(a){var b="";this.Li&&(b=this.Li.w());b||(b=QS(a.Ra()));3>b.length?(a=J(this.J.c()),a=new Zm(a),a.zb("Error"),a.pa(yy()||""),Gm(a,Wm()),a.L(j)):Qs(Y.j(),b,w(this.JG,this,a.Ra(),a.ef))};p.n_=function(){this.dispatchEvent(SS)};p.Vb=function(){QR(this.q())};p.q=n("J");
p.JG=function(a,b,c){if(kr(c)){var d=c.w("data.group"),f=c.w("data.imserv");this.h().M(this.J,"NewChat.NameChange",this.iH);this.Li&&this.Li.Ti();0<a.length&&A(a,w(function(a){if(!a.aa())if(wr(a)){var b=J(this.J.c()),b=new Zm(b);b.zb("Invalid user");a=a.R()+" is an AIM bot and could not be invited to this group chat.";b.pa(a);Gm(b,Wm());b.L(j)}else Ss(Y.j(),f,a.m())},this));a=kx(f);a.update({friendly:d});this.J.o();this.dispatchEvent(new RS(a,b))}else b=c.w("statusDetailCode"),16==b?d=ZL():33==b&&
(d=$L()),d=d||"Unable to create group chat.",b=J(this.J.c()),b=new Zm(b),b.zb("Error"),b.pa(d),Gm(b,Wm()),b.L(j)};var SS="NewChatController.Close";function RS(a,b){L.call(this,"NewChatController.StartChat");this.r=a;this.ef=b||new gy}z(RS,L);RS.prototype.C=n("r");RS.prototype.Ma=function(){return this.ef.Ma()};

function TS(a){Il.call(this,a||"aim.messaging.MessagingController");this.cd={};this.cr=[];this.NR="";this.tl=new yS(this);var a=6E5,b=Yh(new Ih(window.location.href));b.Dd("chatcleanupinterval")&&(a=1E3*parseInt(b.get("chatcleanupinterval"),10));this.px=new ye(a);this.GX=Uv.j();a=Jl();this.h().e(this.px,Ae,this.JY).e(a,EA,this.S1).e(a,"im",this.Q0).e(a,"offlineIM",this.E1).e(a,"sentIM",this.R2).e(a,"typing",this.H3).e(a,"dataIM",this.A_).e(a,"clientError",this.h_).e(a,"sentDataIM",this.q$).e(a,US,
this.U4).e(a,"picnics.Avatarupload",this.NZ).e(a,"imserv",this.W0).e(a,"urlInfo",this.O3).e(a,fo,this.Vb,j).e(fv.j(),[gv,mv,lv,kv,jv],this.JZ).e(a,"preference",this.xm).e(a,"userAddedToBuddyList",this.G0);this.h().e(mp(),"key",this.cH);this.HK();mu(pu.j(),"conversation_data",this.y_,this);a.xa()==cm&&this.Vb(new FA(0,cm))}z(TS,Il);p=TS.prototype;p.Za=k;p.jF=m;p.fb=fa;p.Oe=function(a){return this.cd[a]};function VS(a){return a.aa()?gS(a.z()):OR(a.m())}function WS(a,b){return a.Oe(VS(b))}
p.Jd=function(){var a=k;Cc(this.cd,function(b){b instanceof rR&&b.q()&&DM(b.q())&&(a=b)});return a};p.Dw=function(a){this.cd[a.z()]=a;XS(this,a)};function YS(a){Cc(a.cd,function(a){if(a.qe){var c=a.z();(a instanceof iS||a instanceof NR)&&!BD(Jl())&&!CD(Jl())&&LS(this.tl,a);delete this.cd[c]}},a)}function FS(a,b){A(b||[],function(a){ZS(this,this.Oe(a))},a);YS(a)}
function $S(a,b){var c=k;if(b.Ak())c=b.dh()&&gS(b.dh());else{var d=b.m();t(d)&&(c=b.m()&&OR(d))}var d=b.bj(),f=b.Gg(),g=k;aT(a,d,function(a){g=b.Ak()?new iS(a,c,f):new NR(a,c,f);g.qg=m;return g});return g}function bT(a,b){var c=k,d=b.m();t(d)&&(c=b.m()&&OR(d));var f=b.Gg(),g=b.bj(),i=k;aT(a,g,function(){i=new NR(g,c,f);i.qg=m;return i});return i}
function cT(a,b){var c=k;if(b.Ak()){var d=b.Ll.z();d!=k&&(c=gS(d))}else d=b.Ll.m(),d!=k&&(c=OR(d));var f;aT(a,b.Ll,function(a){return f=b.Ak()?new iS(a,c):new NR(a,c)})}
function HS(a,b,c,d,f,g,i){if(!a.OE){a.OE=j;try{var l=WS(a,b);l?(c&&dT(a,l.q(),d),f&&a.EB(f)):aT(a,b,function(a){l=a.aa()?new iS(a,h):new NR(a,h);l.qg=!g;return l},c,d,f);if(i){i.UI()?(l.q().da.Lm(i.Ma()),l.q().da.mn(),CR(l,l.q().da.Ts())):GR(l,i.Ma());var q=i.getFile();q&&DR(l,q)}l.q().da.wr(b.w("maxIMSize",Du))}catch(s){a.OE=m,e(s)}a.OE=m}}function eT(a,b,c){a.cd&&A(Fc(a.cd),b,c)}
function fT(a,b,c,d,f,g){var i;if(!(i=c))a:{if(!b.aa()&&b&&!b.aa())if(b.Dk())if(!xb(b.et(),"507027c0b88a11e0a4dd0800200c9a66")&&xb(b.et(),"5b1ebdcd899a40ffb695d4c0a9e2dead"))i=b.R()+" is on a mobile device and can\u2019t video chat right now.",(new dn(i)).L(j);else{i=j;break a}else i=b.R()+" is offline and can\u2019t video chat right now.",(new dn(i)).L(j);i=m}if(i){var l=k;a.Za&&(l=a.Za.C());i=j;t(l)&&b.Kc(l)&&(i=m);!a.Za||!a.Za.lq()?(c=j,i||(c=m),gT(a,c),a.Za=a.IL(b,f?"1":"0",d,g),a.h().e(a.Za,
"aim.av.CloseVideoChat",a.um),a.h().e(a.Za,"aim.av.DeclineInvitation",a.B_),d=a.Za.q(),WS(a,b),b=t(d)?d.Df:"",b=hT(iT(window.App),b),!b&&d&&(b=new VQ(d,d.C()),a.Rw=b),b&&(b.Vf(ro),b.show())):c&&g?(a.cr.push({user:b,inviteCookie:g,opt_data:d,opt_context:f}),jT(a)):i&&a.Za.SC(b,d,f)}}
function gT(a,b){if(!a.jF&&t(a.Za)){a.jF=j;var c=k;b&&(c=a.Za.C());t(c)&&bF(a.Za,c);a.h().M(a.Za,"aim.av.CloseVideoChat",a.um);a.Za.o();a.Za=k;a.Za===TS.prototype.Za&&delete a.Za;t(a.Rw)&&(a.Rw.close(),a.Rw=k);delete a.jF}}p.um=function(){gT(this,j)};p.B_=function(){jT(this)};
function jT(a){if(a.Za.lq()&&0<a.cr.length){var b=a.cr.shift();if(t(b)){var a=a.Za,c=b.user,d=b.opt_data,f=b.opt_context;a.J&&(a.xk=b.inviteCookie,b=a.J,b.Fo=UE(c,d,f),b.pg||VE(b,b.Fo.user),a.Ym[c.m()]="aim.av.invitationState.pending")}}}
p.U4=function(a){var b={av:"<HTML><BODY>@sender@ would like to video chat with you"},c={av:'. <A href="@url@">Accept</A></BODY></HTML>'},d={av:" at @url@</BODY></HTML>"},f=r._aim_user_,f=f?f.R():Jl().m();b[a.Dy]&&(b=b[a.Dy],b="aim"==a.AC.cj()?b+c[a.Dy]:b+d[a.Dy],b=b.replace(/@sender@/,f),a.url&&(b=b.replace(/@url@/,a.url)),c=this.Oe(OR(a.AC.m())),t(c)?FR(c,b):Y.j().MA(a.AC.m(),b))};
function aT(a,b,c,d,f,g){var i=WS(a,b);i||(i=c(b));i||e(Error("No controller for this box was found."));b.load();g&&i instanceof rR&&(b=i,b.pA=g,b.r.aa()&&(g.oo()?b.Ar(jr(g.iF)):b.Js()));a.Dw(i);d&&dT(a,i.q(),f)}p.n=function(){gT(this,j);TS.g.n.call(this);this.h().o();Cc(this.cd,function(a){a.o()},this);delete this.cd;this.tl.o();this.px.o()};p.S1=function(a){var b=a.M4;S("The platform returned a non-200 status code:",a);"imserv"==b.uW()&&S("Error in an imserv request: TODO -- find the imserv from the response and uncomment the removal block here.")};
p.cH=function(a){a.Qu&&(38==a.keyCode?window.App.fb().move(-1):40==a.keyCode&&window.App.fb().move(1))};p.HK=function(){var a=J(),a=yx(a);this.h().e(a,Bx,this.Yq)};p.Yq=function(){zS(this.tl)};
p.Q0=function(a){if(!u(a.si)||!u(a.si.declinedInvitation)){var b=k,c=a.Gg();Dc(this.cd,function(c){return c.Le(a)?(b=c,j):m})||(b=$S(this,a),b.Wj(c),R("onIMEvent Message is ",c));b&&(c=a.kl(),kT(this,b,c),this.tq(b,a));try{var d=a.bj(),f=d.aa(),g=a.Gg();if(g.no()){var i=a.YM,l=a.OW;i&&l&&(s=i+" has invited you to the "+l+" group chat.  To respond, open the group chat from the contacts list.")}else{var q=g.C(),s="";f&&(s+="in the "+d.R()+" group chat, ");var s=s+(q.R()+" said, "+ik(g.Ma())),B=Jx(this.fb(),
d);B&&(s+=", "+B+" unread messages")}s&&qp(rp.j(),s)}catch(E){}}};function lT(a,b){var c=b.Gg(),d=c.C();if(!d)return S("can't get group chat for invitation",c),k;d.load();var f=WS(a,d);f||(c={active:0,imserv:d.z(),displayId:d.R(),lastIM:"Group Chat Invite"},c=new Dv(c),aT(a,d,function(a){return f=new iS(a)},h,h,c),f.q().Bi());a.Ar(f,jr(b.YM));return f}p.Ar=function(a,b){a&&b&&(a.Ar(b),this.h().e(a.q(),["picnics.InviteAccepted","picnics.InviteDeclined"],this.$0))};
p.E1=function(a){S("Offline event received");var b=k;Dc(this.cd,function(c){return c.Le(a)?(b=c,j):m})||(b=bT(this,a));b&&this.lN(b,a)};p.R2=function(a){var b=k;Dc(this.cd,function(c){return c.Le(a)?(b=c,j):m})||(b=cT(this,a));if(!ia(b)){var c=a.kl();kT(this,b,c);this.jy(b,a)}};p.r3=function(a){(a=a?a.C():k)&&fT(this,a,m)};function mT(a,b){var c=a.Za;c.J&&c.xk==b&&YE(c.J);for(c=a.cr.length;c--;)b==a.cr[c].inviteCookie&&a.cr.splice(c,1)}
p.A_=function(a){var b=jr(a.bj().aimId),c=a.TL,d={};if(t(c))try{d=Ml(c)}catch(f){}switch(a.UL){case "invite":fT(this,b,j,d.inviteUrl,j,a.Np);break;case "accept":this.Za&&(a=this.Za,-1!=a.mo&&Be(a.mo),a.mo=-1,Vs(Y.j(),b.m(),Ol({avStatus:"started"}),"data",a.Im));break;case "deny":this.Za&&"aim.av.state.ended"!=this.Za.ov&&(this.Za.Im=k,cF(this.Za));break;case "data":a=d.avStatus;("started"==a||"cancelled"==a)&&this.Za&&"aim.av.invitationState.accepted"!=(t(b)?this.Za.Ym[b.m()]:k)&&!this.Za.lq()&&gT(this,
m);break;case "end":b&&this.Za&&this.Za.C().Kc(b)&&"aim.av.state.declined"!=this.Za.ov?(this.Za.Im=k,this.Za.dB(b)):mT(this,a.Np)}};p.h_=function(a){this.Za&&"aim.av.state.ended"!=this.Za.ov&&(a.$X&&a.Np==(this.Za.Im||this.Za.xk)?cF(this.Za,jr(a.bj().aimId)):mT(this,a.Np))};p.IL=function(a,b,c,d){return new aF(a,c,b,d)};p.H3=function(a){Dc(this.cd,function(b){b.Le(a)&&b.PJ(a)})};p.NZ=function(a){var b=a.dh(),a=a.g$(),b=this.Oe(gS(b)).q();BM(b).src=a};
p.W0=function(a){A(a.C4,function(a){var c=Av(a.activities,a.imserv);if(0==c.length)return m;if(a=this.Oe(gS(a.imserv)))a.iC(c),this.dN(a,c)},this)};p.dN=ba();
p.O3=function(a){var b=ru(a.za),c=Ll.j().q(b),d=Ll.j().H(b),b=j,f=k;if(a.aa())f=this.Oe(gS(a.ng));else{var g=a.ct;g==this.NR&&(g=a.CJ);(f=this.Oe(OR(g)))&&(b=uR(f))}b&&c?((b=K("playground-preview",c.c()))||(b=K("playground-hidden",c.c())),b||A(a.Ie,function(a){var b=a.url;d&&b&&(a.uInfo.scaling_url=uv(d,b));a=oP(new Ih(b),a.uInfo);if(!ia(a)&&(YM(c,a),(b=f.q())&&b.G))a.Av=b.nc.c()})):f&&!ia(f.Tk)&&(f.Tk[a.za]=a.Ie);S("aim.messaging.MessagingController.prototype.onUrlInfoEvent_",f,a);nT(f,a)};
p.Vb=function(a){R("messaging.MessagingController::onSessionStateChange_");var a=a.ud,b=Jl();switch(a){case cm:this.NR=b.m()||"";this.px.start();break;case bm:this.px.stop()}};function oT(a,b,c){var d;d=new W;d.append("Yes, clear chat history");d=d.toString();a.Fs=new gn(d||"Yes",UM,{userName:b.R()},c)}p.c3=function(a){var b=a.Ra(),c=a.nk();A(b,function(a){HS(this,a,m,m);CR(this.Oe(a.aa()?gS(a.z()):OR(a.m())),c.me.toString())},this)};
p.JY=function(){Cc(this.cd,function(a){a.gL&&a.gL()&&this.rs(a)},this)};p.qn=function(a){ZS(this,WS(this,a))};p.$0=function(a){var b=a.ng,c=WS(this,kx(b));if("picnics.InviteAccepted"==a.type){var d=c.pA;d&&(d.QN=m);lS(c)}if("picnics.InviteDeclined"==a.type){if(c){var d=window.App.fb(),f=c.C(),g=Kx(d,f);g&&(f.na.invited=m,g.message="",g.om=Bq,d.De())}c.Js();this.qn(c.C());Ts(Y.j(),b)}r._aim_session_.dispatchEvent(a)};
p.oR=function(a){var b=new sC;b.VR();b.pi("None selected");ix(Oq.j().am,function(a){b.Ad(new vC(a.R()))});a=K("groupchat-maxed-groups-combo",a.c());b.T(a);new wC(b.ua());this.h().e(b.c(),"keydown",function(a){27==a.keyCode&&b.ua().isVisible()&&(b.Ml(),a.stopPropagation())},j)};p.y_=function(a,b){t(b)&&(S("Got CONVERSATION_DATA event: ",a,b),pT(this,b))};
function qT(a,b){var c=a.tl;if(r._aim_session_.Dk()){var d=c.Lk.Jd(),d=d?d.z():k;if(b){R("CHATSYNC","selectConv to "+b.C().m());d=b.C();d.m();if(!(d.m()in c.jc)){var f;R("CHATSYNC","ToSync Adding New Conversation ",d.m());f||(f=px(d));c.jc[f.getKey()]=f}R("CHATSYNC","ToSync Marking Conv as Active ",b.C().m());f=b.C();var d=f.m(),g=c.Lk.Jd();if(g=(g=g?g.z():k)?c.jc[g]:k)g.Se=m;c.jc[f.m()].Se=j;JS(c,b);MS(d,j)}else d&&(R("CHATSYNC","selectConv was "+d),d in c.jc&&(c.jc[d].Se=m))}}
function kT(a,b,c){R("CHATSYNC","ToSync Update Conversation ",b.C().m());a=a.tl;R("CHATSYNC","ToSync Updating Conv ",b.C().m());if(r._aim_session_.Dk()){var d=b.C(),f=d.m();d.m()in a.jc||MS(f);var d=b.z(),g=c.Ld();if(!g||sv(g))d=0;else var g=(g=a.Lk.Jd())?g.z():k,i=yx(J(b.q().c())),d=g==d&&i.isActive();d===j?JS(a,b,c.Ld()):d===m&&(a.ik[f]=1)}}function NS(a,b){ob(b,function(a){var b=a.C();b&&(a.oo()?ku(Oq.j(),b.m(),w(function(){HS(this,b,a.Se,h,a,j)},this)):HS(this,b,a.Se,h,a,j))},a);a.fb().wu()}
p.EB=function(a){pT(this,a)};p.rs=function(a){a&&(delete this.cd[a.z()],a.o())};p.JZ=function(a){var b=a.D5;if((b=b?b.ff:k)&&"A"==b.tagName)jv==a.type?F(b,"loading")||F(b,"ready")?(b.x_unableToPlay=j,b.click()):Tb(b,["loading","playing","paused"],"ready"):Tb(b,["loading","playing","paused","ready"],a.type.replace(/[^_]*_+(.*)/,"$1"))};p.xm=function(a){a=a.w("viewIMTimestampsRelative");u(a)&&(Ll.j().get("other","preferences").viewIMTimestampsRelative=a,Io())};
p.G0=function(a){if("google"!=a.ub())S("event not for a google chat invite, so bailing");else{var b=k,c=a.m()||"";t(c)&&(b=a.m()&&OR(c));var d=a.R(),d=new ju(c,{displayId:c,displayAIMId:d,friendly:d.replace(/\@gmail\.com\.ghat/,""),service:"google"}),f=new qv("[Google Chat Invite]",d,x().toString()),g=WS(this,d);if(!g){var a={active:0,aimId:c,displayId:a.R(),lastIM:"[Google Chat Invite]",source:"google",type:"google-invite"},a=new Dv(a,f),i=this.h(),l=this.g_;aT(this,d,function(a){g=new NR(a,b,f);
g.Yn=j;i.e(g,"aim.messaging.ClearMessageCount",l);return g},h,h,a)}}};p.g_=function(a){var b=a.C();WS(this,b)&&(a=new qv("[Invite Accepted]",b,x().toString()),b={active:1,aimId:b.m(),displayId:b.R(),lastIM:"[Invite Accepted]",source:"google",type:Bq},Xx(this.fb(),new Dv(b,a)))};var US="sendInvite";function dF(a,b,c){L.call(this,US);this.AC=a;this.Dy=b;this.url=c}z(dF,L);

function rT(){TS.call(this,"aim.client.ChatController");this.Rw=this.Hc=this.mj=this.Y=k;this.eg={};this.HS=new Date;this.wk()}z(rT,TS);p=rT.prototype;p.je=k;p.wk=function(){this.Gh();WO=54};
p.Gh=function(){var a=r._aim_session_;this.h().e(window.App,"aim.client.OpenChat",this.Ko).e(window.App,["aim.client.ChatInviteEvent","aim.client.ChatInviteGroupEvent","aim.client.ChatInviteSMSEvent"],this.e_).e(Ai(window.App),"aim.ui.CommandController.QueryUpdate",this.Io).e(Ai(window.App),"aim.ui.CommandController.Action",this.Pk,j).e(a,"presence",this.Lo).e(En.j(),Fn,this.Eu);mu(pu.j(),"start_chat",this.rD,this)};
p.HK=function(){var a=k;a=window.App.xb()?(a=(a=cy())?a.c():k)?J(a):k:J();a&&(a=yx(a),this.h().e(a,Bx,this.Yq))};p.n=function(){rT.g.n.call(this);ou(pu.j(),this.rD,this)};p.Vb=function(a){R("client.ChatController::onSessionStateChange_");rT.g.Vb.call(this,a);switch(a.ud){case cm:sT(this);this.aU||(this.aU=j,(a=this.Jd())&&dT(this,a.q()),this.Ao());break;case bm:tT(this)}};function fy(a){if(t(a.Y)){var b=a.Jd();b&&(a.mj=b,uT(a,k))}}p.Lo=function(a){this.Y&&this.Y.C().m()==a.C().m()&&this.Y.update()};
p.Jd=function(){var a=k;if(this.Y){var b=VS(this.Y.C());b&&(a=this.Oe(b))}return a};p.Ko=function(a){a.stopPropagation();var b=a.C();b?(this.mj=k,Ca(a.Ma())||a.Ma(),HS(this,b,j,{JM:a.cW},h,m,a.ef)):ey(this)};p.e_=function(a){var b=fu;"aim.client.ChatInviteGroupEvent"==a.type?b="aim.ui.AimList.NewGroupChat":"aim.client.ChatInviteSMSEvent"==a.type&&(b=gu);ey(this,b)};p.DQ=function(a){this.Ko(new dy(a.C()))};p.fb=function(){return window.App.fb()};
function XS(a,b){var c=b.q();c&&(c=new SQ(c,b.C()),Mf(Mf(a.h().e(c,"aim.playgrounds.EventType.SHARE",a.c3),c,"aim.client.ui.ChatPanel.Close",a.j_).e(c,"aim.client.ui.ChatPanel.Minimize",a.t1).e(c,Kr,a.f_).e(c,"picnics.StartIm",a.DQ).e(r._aim_session_,"picnics.StartIm",a.DQ).e(c,"picnics.StartAv",a.r3).e(c,"picnics.Leave",a.j1),c,qo,function(){ZS(this,b)}).e(c,"aim.messaging.CreatePlayground",a.z_).e(c,"aim.messaging.PicnicEditIcon",a.CP).e(c,"aim.messaging.PicnicViewMembers",a.mT),b instanceof rR&&
b.pA&&(Nx(window.App.fb(),b.C(),b.pA),sT(a)))}p.EB=function(a){R("Updating conversation from sync. Deciding whether to  activate or not..."+a.Se,a);if(a.Se){var b=WS(this,a.C());b&&(R("CHATSYNC","Activating Chat ",a),iT(window.App).oF(this.Y)&&(b=b.q(),b.jh||dT(this,b)))}rT.g.EB.call(this,a)};p.j_=function(a){this.qn(a.C())};p.qn=function(a){ZS(this,WS(this,a))};p.t1=function(a){this.Y&&this.Y.C()==a.C()&&uT(this,k)};
p.f_=function(a){N(function(){var b=a.target;if(!b.isVisible()&&(b=b.C())&&!Hx(window.App.fb(),b)){var c=j,d=WS(this,b);d&&(d=d.q())&&d.G&&(c=d.da.wb());c&&this.qn(b)}},0,this)};function pT(a,b){var c=b.C();b.Ld();c.load();window.App.fb().pp(b);c=b.WC?b.wy:nx(b);t(c)&&sT(a)}
function ZS(a,b){if(b){var c=b.C(),d=c.z();d in a.eg&&(d=a.eg[d],iT(window.App).fj(d));MP(EQ(b.q()));if(d=hT(iT(window.App),b.q().z()))a.Y&&a.Y.z()==d.z()&&uT(a,k),d.o();a.mj&&a.mj.z()==b.z()&&(a.mj=k);Qx(window.App.fb(),c);b.qe||(c=b.z(),d=a.cd[c],(d instanceof iS||d instanceof NR)&&!BD(Jl())&&!CD(Jl())&&LS(a.tl,d),a.cd[c].o(),delete a.cd[c],b.o());YS(a)}sT(a)}
p.rs=function(a){if(a){var b=hT(iT(window.App),a.q().z());b&&(b.hE()&&uT(this,k),re(b,qo),b.o());if((b=a.C().z())&&b in this.eg)b=this.eg[b],iT(window.App).fj(b);MP(EQ(a.q()))}rT.g.rs.call(this,a)};function tT(a){Gx(window.App.fb(),k);eT(a,function(a){ZS(this,a)},a);a.Hc&&delete a.Hc;a.je&&(a.je.o(),delete a.je)}
function vT(a,b,c){var d=t(b)?b.Df:"",f=hT(iT(window.App),d);!f&&b&&(f=new mS(b),a.fA=f,a.h().e(f,qo,a.jQ));if(f)if(f.Vf(ro),f.show(),G)var g=0,g=window.setInterval(function(){var a=Co(f);if(a){window.clearInterval(g);var d=a.va().document;try{var q=d.body,s=403-q.offsetWidth,B=503-q.offsetHeight;(s||B)&&a.va().resizeBy(s,B)}catch(E){}Uf(b,d);c&&c()}},250);else c()}function wT(a){a=a.fA;if(t(a)&&(a=Co(a))){var b=a.va();N(function(){b.close()},0,window)}}
p.jQ=function(){t(this.fA)&&(this.h().M(this.fA,qo,this.jQ),nR.j().zn(m),this.fA=k,S("ChatController.onPicUploaderPanelDisposed"))};function uT(a,b,c){if(b){var d=window.App.fb(),f=b.C();xT(a,b,c,j);window.App.xb()||Gx(d,f);a.Y=hT(iT(window.App),b.q().z());sT(a)}else yT(a)}function yT(a){Gx(window.App.fb(),k);a.Y&&(a.Y.hf(),a.Y.Ib(),a.Y=k,qT(a))}
function xT(a,b,c,d){if(b){var f=b.q(),g=b.q().z(),g=hT(iT(window.App),g);!g&&b&&f&&(g=new SQ(f,b.C()));g.Vf(window.App.xb()?4:yr);a.Y!=g&&d&&(window.App.fb().ix(),a.Y&&a.Y.G&&a.Y.hf());d&&(a.Y=g,a.mj=k);!cy()&&a.h().e(g,Ir,function(){var a=cy();if(a=a?a.c():k)a=J(a),a=yx(a),this.h().e(a,Bx,this.Yq)});g.show();window.App.xb()&&c&&c.JM&&(a=zT())&&a.bringToForeground();d&&window.App.xb()&&AT(cy(),b.C());zM(b.q())&&b.load();d&&(b.q().Yd(),d=window.App.fb(),b=b.C(),window.App.xb()&&Gx(d,b))}else yT(a)}
function dT(a,b,c){var d=a.Oe(b.Df);b.XN=j;var b=window.App.fb(),f=d.C();Hx(b,f)?(c&&c.JM&&qT(a,d),uT(a,d,c)):(xT(a,d,c,j),window.App.xb()||Gx(b,f))}
p.tq=function(a,b){var c=b.Gg();if(t(c)){var d;d=a.C();var f=m;d&&(f=Vl("chat-mutedChats")||"",d="`"+d.m()+"`",f=Ta(f,d));d=f;f=a&&a.q()&&DM(a.q());window.App.fb().pp(b.kl(),f);window.App.xb()&&xT(this,a);if(b instanceof vv&&b.no()){if(c=lT(this,b))c=c.C(),Px(window.App.fb(),c)}else{var g=Co(a.q()),g=g&&g.isActive();!d&&(!g||!f)?(d=c.C().R(),b.Ak()&&(f=b.dh())&&(d+=" (in "+jr(f).R()+")"),f="",(g=c.ai)&&0<g.length&&(f=g[0].isKnownImage?"[image]":"[file]"),c.Ma()&&(f+=" "+c.Ma()),!window.App.xb()&&
Q("appWindow")&&"Win32"==navigator.platform&&(window.appWindow.isVisible=j),HF(GF.j(),a.z(),d,f,w(this.R0,this),k,j)):f&&g&&qT(this,a);sT(this)}}};p.R0=function(a){if(a&&(a=this.Oe(a.target.replaceId)))HS(this,a.C(),j),window.App.xb()||Gx(window.App.fb(),a.C()),Co(a.q()).bringToForeground()};p.lN=function(a,b){var c=b.Gg();t(c)&&(window.App.fb().pp(b.kl(),a&&a.q()&&DM(a.q())),sT(this))};p.jy=function(a,b){var c=b.Gg();t(c)&&window.App.fb().pp(b.kl());sT(this)};
function nT(a,b){var c;c=b.za;var d=EQ(a.q()).Yl();0==d.length?c=k:(d=d[d.length-1],c=c==d.za?d:k);ia(c)||(c=b.kl(c),window.App.fb().pp(c))}
function ey(a,b){var c=gu==b;fy(a);a.je&&(a.h().M(a.je,"NewChatController.StartChat",a.fQ).M(a.je,SS,a.cQ).M(a.Hc,Hr,a.dQ).M(a.Hc,qo,a.eQ),a.je.o());a.Hc&&!a.Hc.qe&&a.Hc.o();a.je=new OS(b);var d=a.je.q();a.Hc=new YQ("new_chat",d,j);d=c?P("common/images/mobile_icon.png"):P("messaging/images/new_chat.png");switch(b||""){case "aim.ui.AimList.NewGroupChat":c="New Group Chat";break;case gu:c="New SMS";break;default:c="New Chat"}a.Hc.al(new Wz(d,c,k,c,m,m,m,m,j,m));a.Hc.uL=m;d=a.Hc.getHeader();a.je.Li=
d||k;window.App.xb()?a.Hc.Vf(4):a.Hc.Ki="contacts";a.Hc.gp(c);Mf(Mf(Mf(Mf(a.h(),a.je,"NewChatController.StartChat",a.fQ),a.je,SS,a.cQ),a.Hc,Hr,a.dQ),a.Hc,qo,a.eQ);a.Hc.show();window.App.xb()&&(BT(cy(),"_blank"),zT().bringToForeground())}p.fQ=function(a){this.rD(a.C(),a.ef);var a=iT(window.App),b=this.Hc,b=b?b.z():"";!Ca(b)&&t(a.aA[b])&&this.Hc.close();delete this.Hc;this.je.o();delete this.je};p.rD=function(a,b){window.App.dispatchEvent(new dy(a,b))};
p.cQ=function(a){this.Hc.close();this.Hc.dispatchEvent(Hr);a.stopPropagation()};p.dQ=function(){delete this.Hc;t(this.mj)&&(uT(this,this.mj),this.mj=k);this.je.o();delete this.je};p.eQ=function(){this.mj=k};
p.Io=function(a){a=a.getItem();switch(a.tag){case 1100:var b=CT(window.App);if(b){var c=this.Y;a.checked=c&&c.Of==ro}a.enabled=b;break;case 1063:this.Y&&(b=this.Y.C())&&WS(this,b)&&(a.title=Ku(b)?zz.title:yz.title);a.enabled=j;break;case 1067:this.Y&&(b=this.Y.C())&&(a.title=b.Mc()?Fz.title:Ez.title);a.enabled=j;break;case 1073:case 1075:case 1134:case 1050:case 1066:c=m;this.Y&&Mr(this.Y)&&(b=this.Y.C())&&(c=b.Wh());a.enabled=c;break;case 1057:var d=r._aim_session_.m(),c=window.app&&window.app.AIMLogger&&
"true"!=Vl(d+"local-logging");case 1058:d=m;if(window.app&&window.app.AIMLogger&&(b=this.Y.C())){var d=r._aim_session_.m(),f=b.m();b.aa()&&(f=b.we());d=window.app.AIMLogger.hasLog(d,f)}a.enabled=d||c;break;case 1065:this.Y&&Mr(this.Y)&&((b=this.Y.C())&&(a.title=Ru(b)?Bz.title:Az.title),a.enabled=CT(window.App)&&t(this.Y));break;case 1070:this.Y&&Mr(this.Y)&&(b=br(),a.enabled=CT(window.App)&&b);break;case 1074:this.Y&&Mr(this.Y)&&((b=this.Y.C())&&(a.title=Ru(b)?Hz.title:Gz.title),a.enabled=CT(window.App)&&
t(this.Y));break;case 1080:case 1071:a.enabled=CT(window.App)&&t(this.Y);break;case 1072:a.enabled=CT(window.App);break;case 1132:a.enabled=CT(window.App);break;case 1105:case 1064:case 1121:a.enabled=m;break;case 1068:c=m,this.Y&&Mr(this.Y)&&(b=this.Y.C())&&(c=b.Wh()&&!Dq(b)),a.enabled=c}};p.IL=function(a,b,c,d){return new eF(a,c,b,d)};
p.Pk=function(a){var b=a.getItem();switch(b.tag){case 1062:if(a=this.Jd())fT(this,a.C(),m,h,j),b.reported||pt(yt);break;case 1100:t(this.Y)&&(b=this.Y.C(),this.Y.Vf(this.Y.Of!=ro?ro:yr),this.Y.show());break;case 1050:if(this.Y&&(J(this.Y.c()),b=K("file-uploader",this.Y.c())))b.click(),pt(Ht);break;case 1051:if(a=this.Jd())a.q().dispatchEvent("camera-upload"),pt(zt);break;case 1073:this.mT();pt(Jt);break;case 1077:var b=k,a="",c=this.Jd();c&&(b=c.C(),a=b.z());b&&a&&this.CP(new ly(a));pt(Kt);break;
case 1075:DT(this);b.reported||pt(It);break;case 1134:WL(this.Y.getHeader());pt(Kt);break;case 1060:window.App.dispatchEvent("aim.client.ChatInviteEvent");break;case gr:window.App.dispatchEvent("aim.client.ChatInviteGroupEvent");break;case 1061:window.App.dispatchEvent("aim.client.ChatInviteSMSEvent");break;case 1130:if(this.Y&&(a=this.Y.C()))b=Vl("chat-mutedChats")||"",a="`"+a.m()+"`",c=k,Ta(b,a)?(a=RegExp(Za(a),""),b=b.replace(a,""),c=new $Q(P("desktop/images/sound-notmuted.png"),"Unmuted")):(b+=
a,c=new $Q(P("desktop/images/sound-muted.png"),"Muted")),ia(c)||this.Y.O(c,j),Wl("chat-mutedChats",b);break;case 1066:(b=this.Jd())&&b.cI(j);break;case 1057:b=r._aim_session_.m();window.app&&window.app.AIMLogger&&"true"!=Vl(b+"local-logging")?window.app&&window.app.AIMLogger&&(b=r._aim_session_.m(),c=this.Y.C(),a=c.m(),c.aa()&&(a=c.we()),c=new gn("Save",h,h,J(Co(this.Y).va())),c.pa(y("Chats are not being saved on this computer.  Start saving chats?",{})),this.h().e(c,Im,w(this.p1,this,b,a,c)),c.L(j)):
ET(this);break;case 1058:if(window.app&&window.app.AIMLogger){b=r._aim_session_.m();a=this.Y.C();c=a.m();a.aa()&&(c=a.we());var d=new gn("Remove",h,h,J(Co(this.Y).va()));d.pa(y("Are you sure you want to delete the log file for <b>{$chatName}</b>?",{chatName:a.R()}));this.h().e(d,Im,w(this.n2,this,b,c,d));d.L(j)}break;case 1063:this.Y&&(b=WS(this,this.Y.C()))&&yR(b);pt(Ft);break;case 1069:b=this.Y.C();Oq.j();Rx(new Sx(b));break;case 1068:this.Y&&(b=WS(this,this.Y.C()))&&b.sQ();pt(Gt);break;case 1067:b=
this.Y.C();b.Mc()?this.Jd().NP():this.Jd().MP();b=b.Mc()?Ct:Dt;pt(b);break;case 1065:case 1074:a.stopPropagation();if(this.Y&&Mr(this.Y)&&(a=Oq.j(),b=this.Y.C()))Ru(b)?(this.Y&&this.Y.O(new $Q(P("desktop/images/bookmark_heart_broken.png"),"Removed from Favorites"),j),Sq(a,b),pt(Bt)):(this.Y&&this.Y.O(new $Q(P("desktop/images/bookmark_heart.png"),"Added to Favorites"),j),IC(a,b),pt(At));break;case 1070:if(b=(a=this.Jd())?a.C():k)a=this.Y?J(this.Y.c()):k,(new Pq(h,a)).Di(b);break;case 1132:FT(this);
pt(Et);break;case 1072:if(a=this.Jd())a.Oz(),pt(Mt);break;case 4001:(b=this.Vx())?b.isActive?0==this.Rh?this.Rh=1:1==this.Rh?(this.Rh=2,b.center()):(a=window.app.system.displays,this.Rh-2>=a.length&&(this.Rh=2),b.center(a[this.Rh-2].id),++this.Rh):(this.Rh=1,b.isMiniaturized=m,b.isActive=j):this.Rh=0;break;case 4002:(b=this.Vx())?("Win32"==navigator.platform&&(b.isMiniaturized=j),b.isActive=m):this.Rh=0}};
function GT(a){var b=a.Y;if(window.App.xb())b=a.Y,Cc(a.cd,function(a){this.rs(a)},a);else{var c=cy();if(c=c?c.c():k){var c=J(c),d=yx(c);a.h().M(d,Bx,a.Yq);zx(c)}c=J();d=yx(c);a.h().e(d,Bx,a.Yq);(c=zT())&&c.close()}b&&b.C()&&HS(a,b.C(),j)}
p.mT=function(){var a=k,b="",c=this.Jd();c&&(a=c.C(),b=a.z());if(a&&b)if(b in this.eg)iT(window.App).wf(this.eg[b]);else{var c=new eS(a),d=new Zz(a.Zb(),a.R(),y("Members"),a.R(),j,m,m,m,m);d.dl(FF);var f=new ZQ("member_list",c.q(),j);f.al(d);f.gp("Members - "+a.R());this.eg[b]=f;this.h().e(f,qo,function(){Ic(this.eg,b)});this.h().e(f,"picnics.RemoveUser",w(this.nH,this,a));this.h().e(f,"picnics.InitializeIm",this.WG);iT(window.App).Am(f,w(c.load,c))}};p.CP=function(a){r._aim_session_.dispatchEvent(a)};
p.WG=function(a){this.Ko(new dy(a.C()))};p.p1=function(a,b,c,d){c.L(m);"yes"==d.key&&Wl(a+"local-logging","true");window.app.AIMLogger.hasLog(a,b)&&ET(this)};function ET(a){if(window.app&&window.app.AIMLogger){var b=r._aim_session_.m(),a=a.Y.C(),c=a.m();a.aa()&&(c=a.we());window.app.AIMLogger.openLog(b,c)}}p.n2=function(a,b,c,d){c.L(m);"yes"==d.key&&window.app.AIMLogger.deleteLog(a,b)};
function DT(a){var b;a.Y&&Mr(a.Y)&&(b=Co(a.Y));b&&b.isActive()?HT(a,a.Y,a.Y.C().z()):rb(Gc(a.eg),function(a){var b=this.eg[a];if(b.hE())return HT(this,b,a),j},a)}function HT(a,b,c){var d=b.Ev();d.rd();a.h().e(d,"aim.picnics.ui.InviteUser.InviteUserEvent",function(a){Ca(a.m())||Ss(Y.j(),c,a.m(),function(b){kr(b)?KF(d,jr(a.m())):S("PicnicInviteFailureEvent",b)})}).e(d,"aim.picnics.ui.InviteUser.CloseEvent",function(){b.qy()})}p.j1=function(a){var b=this.Oe(gS(a.dh()));N(function(){ZS(this,b)},0,this)};
p.nH=function(a,b){var c=b.C();if(c.m()!=r._aim_user_.m()){var d=a.z();d in this.eg&&(d=new gn("Remove",h,h,J(Co(this.eg[d]).va())),d.pa(y("Are you sure you want to remove <b>{$member}</b> from <b>{$groupChat}</b> group chat?",{member:c.R(),groupChat:a.R()})),this.h().e(d,Im,w(this.p2,this,c,a,d)),d.L(j))}};p.p2=function(a,b,c,d){c.L(m);"yes"==d.key&&Y.j().Jk(b.z(),a,w(function(a){a.w("data.results.0.resultCode",0)},this))};p.z_=function(a){bx(a.ok())||(a=a.nk(),Ci(a.me.toString()))};
p.dN=function(a,b){A(b,function(b){if(b instanceof xv){var d=b.yJ,d=d?jr(d):k,f=this.eg[a.C().z()];d&&(("memberJoin"==b.Ga()||"inviteAccepted"==b.Ga())&&f&&f.Yb().ul(d),"memberLeft"==b.Ga()&&f&&f.Yb().nr(d))}},this)};p.IC=function(){for(var a=ay(),b=0;b<a.length;b++){var c=a[b];if(c&&(c=this.Oe(VS(c))))R("CHATSYNC","ToSync Clear Conversation Unread Count",c.C().m()),JS(this.tl,c)}sT(this)};p.Yq=function(){sT(this);zS(this.tl)};
function sT(a){if(r._aim_session_.xa()==cm){var b=window.App.fb(),c=IT(),d=c?c.isActive():m,f=window.App.xb(),g=a.Jd();g&&d&&Vx(b,g.C(),0);d=Zx(b);iT(window.App).XA("contacts",d);Q("app.dockIcon")&&(window.app.dockIcon.unreadCount=d);window.App.Hy()&&(si?JT(window.App,!!d):c&&c.va().appWindow.signal(0<d?j:m));f&&(b=$x(b),Cc(b,function(a,b){var c=vu(oi(b));(c=c?WS(this,c):k)&&xT(this,c)},a),(a=cy())&&KT(a,b))}}function IT(){var a=LT(iT(window.App));window.App.xb()&&(a=(a=cy())?Co(a):k);return a}
function FT(a){oT(a,a.Y.C(),J(a.Y.c()));a.h().e(a.Fs,Im,function(a){if("no"!=a.key){a=this.Y.C();S("delete chat history for: "+a.m());var c=Y.j(),d=a.m();$(c,"imlog","deleteConversations",{t:d},h);var c=this.GX,d=a.m(),f=Vv(c,d);if(f){for(var g=f.lastIndex,f=f.firstIndex;f<=g;f++)Yl(Wv(c,d,f));Yl(Wv(c,d,c.ww));for(var i=(g=aw(c))?g.chats:[],l=r._aim_session_.m(),f=0;f<i.length;f++){var q=i[f];if(q.sessionAimId==l&&q.chatAimId==d){Bb(i,f,1);Wl(c.Tj+"."+c.QB,g);break}}}c=this.fb();a&&a.m&&(d=c.Bd[a.m()]||
{},d.message="",d.kq=m,d.count=0,c.De());(a=VS(a))&&this.Oe(a).JC()}this.Fs.o();delete this.Fs});$m(a.Fs,"clear-history-confirm");a.Fs.L(j)}
p.Ao=function(){var a=En.j().xa("selected-chat");if(window.App.xb()){var b=En.j().xa("open-chat-tabs");if(b&&b.length)for(var c=b.length-1;0<=c;c--){var d=b[c].id,f=b[c].isGroupChat,g=f?kx(d):jr(d),i=VS(g),l=WS(this,g);l||(l=g.aa()?new iS(g,i):new NR(g,i),this.Dw(l));l.qg=m;xT(this,l,h,u(a)&&d==a.id)}}else a&&(g=(f=a.isGroupChat)?kx(a.id):jr(a.id),l=WS(this,g),l||(l=f?new iS(g,i):new NR(g,i),this.Dw(l)),l.qg=m,xT(this,l,h,j))};
p.Eu=function(){if(window.App.xb()){var a=cy();a&&(a=MT(a),a.length&&En.j().ka("open-chat-tabs",a))}if(a=this.Jd()){var a=a.C().z(),b=vu(oi(a)),a={id:a,isGroupChat:b.aa()};En.j().ka("selected-chat",a)}};p.Vx=function(){if(window.App.xb()){var a=zT();if(a&&(a=a.va())&&"appWindow"in a)return a.appWindow}else if("appWindow"in window)return window.appWindow;return k};p.Rh=0;




function NT(a,b){L.call(this,"aim.hey.action-taken");this.fn=a;this.ca=b}z(NT,L);function OT(a,b){return tb(a.fn.OC,function(a){return a.Ga()==b})}NT.prototype.ec=n("ca");NT.prototype.ve=function(){return this.ca.z()};function PT(a){L.call(this,"aim.hey.picnic-accepted");this.co=a}z(PT,L);PT.prototype.dh=n("co");function QT(a){L.call(this,"aim.hey.activity-delete");this.ca=a}z(QT,L);QT.prototype.ec=n("ca");

function RT(a,b){V.call(this);this.fn=a;this.ca=b}z(RT,V);RT.prototype.l=function(){var a=this.fn.Sa();Gl(this,ST,a)};RT.prototype.v=function(){this.h().e(this.c(),"click",this.Kb)};RT.prototype.Kb=function(a){this.dispatchEvent(new NT(this.fn,this.ca));a.preventDefault();a.stopPropagation()};



function TT(){V.call(this)}z(TT,V);TT.prototype.l=function(){Gl(this,UT)};TT.prototype.Xe=function(){Xf(this,ba(),this)};

function VT(a){Il.call(this,a||"hey-controller-"+Math.random());this.h().e(Jl(),"lifestream",this.wm)}z(VT,Il);VT.prototype.fx=function(a){this.q().Xe(a)};

function WT(){this.J=new TT;this.J.T();this.FJ=[];VT.call(this);this.h().e(this.q(),"aim.hey.popup-clicked",this.U1)}z(WT,VT);p=WT.prototype;p.n=function(){A(this.FJ,function(a){a.o()});delete this.FJ;this.J.o();delete this.J;WT.g.n.call(this)};p.q=n("J");p.wm=function(a){a.ec()};p.U1=function(a){a=a.ec();this.q().Xe(a)};p.fx=function(a,b){this.q().Xe(a,b)};p.UC=function(a){var b=m;A(this.FJ,function(c){c.ec()==a&&(b=j)});return b};

function XT(a,b){Rg.call(this,gk(YT),b);this.Ea=a}z(XT,Rg);XT.prototype.ak=-1;XT.prototype.YI=function(){delete this.ak;this.D().pR(gk(ZT,{rb:this.Ea}),this.sa().firstChild)};XT.prototype.v=function(){XT.g.v.call(this);this.ak=N(w(this.YI,this),1E4)};XT.prototype.n=function(){XT.g.n.call(this);-1<this.ak&&(Be(this.ak),delete this.ak)};

function $T(a,b){this.Ha=a;Ug.call(this,b,new aU)}z($T,Ug);p=$T.prototype;p.v=function(){$T.g.v.call(this);C(this.c(),"hey-menu r "+this.Ha)};p.gd=function(a){$T.g.gd.call(this,a);var b=Eg(this);ia(b)||(a=this.ta.lv,b=cf(b.c(),a,m),a.scrollLeft=b.x,a.scrollTop=b.y)};p.FK=function(a,b){bU(this);var c=new cU(a);b===j?this.bg(c,0):this.O(c);c.fp(j);b===j&&t(this.ta.lv.firstChild)?Wf(c,this.ta.lv.firstChild):c.T(this.ta.lv);dU(this,c.c())};p.Xe=function(a){S("removing activity ",a);eU(this,a.z())};
function eU(a,b){Xf(a,function(a){a instanceof cU&&a.ve()==b&&this.removeChild(a,j)},a);fU(a,Xm(a.Ha))}p.eC=function(a){A(a,this.FK,this)};p.clear=function(){this.YH()};function gU(a){var b=m;Xf(a,function(a){a instanceof cU&&(b=j)},a);return b}function hU(a){var b=m;Xf(a,function(a){a instanceof XT&&(b=j)},a);return b}function bU(a){Xf(a,function(a){a instanceof XT&&this.removeChild(a,j)},a)}function dU(a,b){var c=Md(a.D(),"a",k,b);A(c,function(a){a.target="_new"})}
p.RF=function(){Xf(this,function(a){a instanceof cU&&a.RF()},this)};p.Zu=function(){Xf(this,function(a){a instanceof cU&&a.Zu()},this)};function fU(a,b){gU(a)||hU(a)||a.O(new XT(b),j)}function aU(){}z(aU,Sg);aU.prototype.l=function(a){this.lv=a.D().l("div","styled-scrollable activities");a=aU.g.l.call(this,a);a.appendChild(this.lv);return a};

function iU(a){return a*a*a}function jU(a){return 1-Math.pow(1-a,3)}function kU(a){return 3*a*a-2*a*a*a};

function lU(a,b,c,d,f){function g(a){a&&(a.tabIndex=0,Ce(a,i.sd()),C(a,"goog-zippy-header"),mU(i,a),a&&i.jO.e(a,"keydown",i.Jz))}this.ba=f||J();this.Bn=this.ba.c(a)||k;this.Fx=this.ba.c(d||k);this.qd=(this.IF=na(b)?b:k)||!b?k:this.ba.c(b);this.gq=c==j;this.jO=new Kf(this);this.dG=new Kf(this);var i=this;g(this.Bn);g(this.Fx);this.RA(this.gq)}z(lU,xe);p=lU.prototype;p.uq=j;p.kX=j;p.n=function(){lU.g.n.call(this);Rd(this.jO);Rd(this.dG)};p.sd=o("tab");p.sa=n("qd");p.collapse=function(){this.RA(m)};
p.toggle=function(){this.RA(!this.gq)};p.RA=function(a){this.qd?O(this.qd,a):a&&this.IF&&(this.qd=this.IF());this.qd&&C(this.qd,"goog-zippy-content");this.Fx?(O(this.Bn,!a),O(this.Fx,a)):nU(this,a);this.gq=a;this.dispatchEvent(new oU("toggle",this,this.gq))};p.lm=n("gq");function nU(a,b){a.Bn&&(Ub(a.Bn,"goog-zippy-expanded",b),Ub(a.Bn,"goog-zippy-collapsed",!b),De(a.Bn,"expanded",b))}p.ZN=n("kX");p.fp=function(a){this.uq!=a&&((this.uq=a)?(mU(this,this.Bn),mU(this,this.Fx)):this.dG.Rd())};
function mU(a,b){b&&a.dG.e(b,"click",a.Iz)}p.Jz=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new L("action",this)),a.preventDefault(),a.stopPropagation()};p.Iz=function(){this.toggle();this.dispatchEvent(new L("action",this))};function oU(a,b,c){L.call(this,a,b);this.Lx=c}z(oU,L);

function pU(a,b,c){var b=Sc(b),d=(new Qc(b.ownerDocument)).l("div",{style:"overflow:hidden"});b.parentNode.replaceChild(d,b);d.appendChild(b);this.Gx=d;this.Fi=k;lU.call(this,a,b,c);a=this.lm();this.Gx.style.display=a?"":"none";nU(this,a)}z(pU,lU);p=pU.prototype;p.fU=500;p.eU=jU;
p.RA=function(a){if(this.lm()!=a||this.Fi){"none"==this.Gx.style.display&&(this.Gx.style.display="");var b=this.sa().offsetHeight,c=0;this.Fi?(a=this.lm(),re(this.Fi),this.Fi.stop(m),c=parseInt(this.sa().style.marginTop,10),c=b-Math.abs(c)):c=a?0:b;nU(this,a);this.Fi=new Lp([0,c],[0,a?b:0],this.fU,this.eU);M(this.Fi,["begin","animate","end"],this.EZ,m,this);M(this.Fi,"end",w(this.FZ,this,a));this.Fi.play(m)}};p.EZ=function(a){var b=this.sa();b.style.marginTop=a.y-b.offsetHeight+"px"};
p.FZ=function(a){a&&(this.sa().style.marginTop="0");re(this.Fi);this.gq=a;this.Fi=k;a||(this.Gx.style.display="none");this.dispatchEvent(new oU("toggle",this,a))};

va("aim.settings.ui.EventType",{H8:"settings.ui.NotificationClicked",u7:"settings.ui.DeleteClicked",Q6:"settings.ui.AddClicked",I7:"settings.ui.RemoveFavoriteClicked",I8:"settings.ui.OauthClosed",y8:"settings.ui.RemoveMuteClicked",k9:"settings.ui.SettingsCloseClicked",C8:"settings.ui.LeftNavItemClicked",P8:"settings.ui.PanelActivated",O6:"settings.ui.AddAssociatedService",s7:"settings.ui.DelAssociatedService",S6:"settings.ui.AssociatedServiceAttributeClicked",P6:"settings.ui.AddGtalkClicked",V8:"settings.ui.MessagingButtonClicked",
W8:"settings.ui.MessagingPreferenceClicked",d9:"settings.ui.ResetPasswordClicked",j9:"settings.ui.SendCodeClicked",v7:"settings.ui.DeleteDeviceClicked",T9:"settings.ui.WriteDeviceClicked",U9:"settings.ui.WriteServiceClicked",c9:"settings.ui.RegisterClicked",l7:"settings.ui.ConfirmCodeClicked",l9:"settings.ui.SetPrivacyClicked",i9:"settings.ui.SendMessageClicked",T6:"settings.ui.AssociatedServicesFetched",f7:"settings.ui.BuddyOnlyGroupChat",P7:"settings.ui.GlobalOTR",l8:"settings.ui.LocalLogging",
x8:"settings.ui.MultiWindowMode",P9:"settings.ui.UpdatesPrivacy",k7:"settings.ui.CommentsPrivacy",X8:"settings.ui.UploadFile",V7:"settings.ui.HistoryBubblesPref",W7:"settings.ui.HistoryTimestampPref",Q9:"settings.ui.UserPrefsLoaded"});function qU(a){L.call(this,"settings.ui.OauthClosed");this.Ea=a}z(qU,L);qU.prototype.ub=n("Ea");function rU(a){L.call(this,"settings.ui.PanelActivated");this.EH=a}z(rU,L);function sU(a){L.call(this,"settings.ui.ResetPasswordClicked");this.Zc=a}z(sU,L);

function tU(a){this.vg;this.jf;this.setData(a)}va("aim.settings.NotificationsModel",tU);tU.prototype.xe=function(a){return this.vg[a]?j:m};tU.prototype.setData=function(a){this.vg=a.notificationFilter};tU.prototype.getData=n("vg");
tU.prototype.Sa=function(a){var b={qu:j};if(t(this.vg[a]))switch(a){case "aim":a=this.vg.aim;b={cc:r._aim_session_.m(),alert:a.alert,Y9:a.chatInvite,d$:a.following,X9:a.buddylistAdd,p$:a.offlineIm};break;case "aolmail":a=this.vg.aolmail;b={Cj:this.jf.getAttribute("aolmail","aimId"),Pa:this.jf.getAttribute("aolmail","displayName"),kG:a.newMail};break;case "gmail":a=this.vg.gmail;b={Cj:this.jf.getAttribute("gmail","displayName"),Em:this.jf.getAttribute("gmail","requiresReauth")||m,kG:a.newMail};break;
case "facebook":a=this.vg.facebook;b={Cj:this.jf.getAttribute("facebook","displayName"),Em:this.jf.getAttribute("facebook","requiresReauth")||m,Y5:a.tags,B6:a.wallPost,iD:a.directMessage,kW:a.friendRequest,us:a.comment,JF:a.like};break;case "twitter":a=this.vg.twitter;b={Cj:this.jf.getAttribute("twitter","serviceUserName"),Em:this.jf.getAttribute("twitter","requiresReauth")||m,eW:a.follower,O4:a.retweet,iD:a.directMessage,RY:a.mentioned};break;case "instagram":a=this.vg.instagram;b={Cj:this.jf.getAttribute("instagram",
"serviceUserName"),Em:this.jf.getAttribute("instagram","requiresReauth")||m,JF:a.like,us:a.comment};break;case "youtube":a=this.vg.youtube,b={Cj:this.jf.getAttribute("youtube","displayName"),Em:this.jf.getAttribute("youtube","requiresReauth")||m,c$:a.favorite}}return b};

function uU(){this.Ob={};this.Ob.facebook={serviceDisplayName:"Facebook Friends",xe:m,rz:m,imgName:"service-facebook.png"};this.Ob.google={serviceDisplayName:"Google Talk Contacts",xe:m,rz:m,imgName:"service-gtalk.png"};this.MR=0;this.g5=2;this.dJ={facebook:m,google:m}}va("aim.settings.AssociatedServicesModel",uU);p=uU.prototype;p.setData=ba();p.getData=n("Ob");p.xe=function(a){return this.Ob[a].isAssociated};
p.Sa=function(a,b){return{yb:a,BI:this.Ob[a].serviceDisplayName,xe:this.Ob[a].isAssociated,YK:this.Ob[a].autoLogin,Jn:this.Ob[a].friendlyName,rz:this.Ob[a].notAuthorized,f5:b,MX:"settings/images/servicelogos/"+this.Ob[a].imgName}};p.getAttribute=function(a,b){return this.Ob[a][b]};

function vU(a,b,c,d,f){V.call(this);this.Ea=a;this.Eg=b;this.vc(c);this.kc=d;this.Wb=f;this.uT}z(vU,V);p=vU.prototype;p.setData=function(a){this.vc(a)};p.l=function(){vU.g.l.call(this);var a=m;this.Ea==this.kc&&(a=j);Gl(this,this.Eg,{dc:this.H().Sa(this.Ea),f5:a})};p.K=function(a){vU.g.K.call(this,a)};
p.v=function(){vU.g.v.call(this);for(var a=Gc(this.H().getData()[this.Ea]),b,c=this.h(),d=0;d<a.length;d++){var f=this.Ea+"-"+a[d];b=this.D().P(f,this.c());"aim-alert"!=f&&"aim-buddylistAdd"!=f&&"aim-offlineIm"!=f&&(b?c.e(b,"click",ua(this.Sz,a[d])):S("Could not set listener on object with id of "+f))}a=this.D().P(this.Ea+"-delete",this.c());t(a)&&c.e(a,"click",ua(this.LG));a=this.D().P(this.Ea+"-add",this.c());t(a)&&c.e(a,"click",ua(this.Uq));this.H().xe(this.Ea)&&(c=m,this.Ea==this.kc&&(c=j),a=
K(this.Ea+"-z",this.c()),b=K(this.Ea+"-n",this.c()),this.uT=new pU(a,b,c))};p.n=function(){vU.g.n.call(this)};p.Sz=function(a,b){var c="true",d=this.H().getData(),f=d[this.Ea][a];f&&(c="false");d[this.Ea][a]=!f;d={notificationFilter:d};this.H().setData(d);"checkbox"!=b.target.type&&(d=K("checkbox",b.target),d.checked=!d.checked);this.dispatchEvent(new wU(this.Ea,a,c));var g=this.D().P("saved",this.c());C(g,"success");setTimeout(function(){D(g,"success")},3E3)};
p.LG=function(a){a.preventDefault();this.dispatchEvent(new xU(this.Ea,this.H().Sa(this.Ea).Cj))};p.Uq=function(a){a.preventDefault();this.dispatchEvent(new yU(this.Ea))};

function zU(a,b,c){V.call(this);this.kc=b;this.Wb=c;this.vc(a)}z(zU,V);
zU.prototype.K=function(a){zU.g.K.call(this,a);t(this.XT)&&this.XT.o();t(this.Lw)&&this.Lw.o();t(this.dy)&&this.dy.o();t(this.Nx)&&this.Nx.o();t(this.xB)&&this.xB.o();t(this.By)&&this.By.o();a=this.H().Sa("facebook");!t(a.notAssociated)||!a.notAssociated||this.Ng&&this.Ng.xe("facebook");this.Nx=new vU("facebook",AU,this.H(),this.kc,this.Wb);this.O(this.Nx);this.Nx.T(K("facebook-social",this.c()));this.xB=new vU("twitter",BU,this.H(),this.kc,this.Wb);this.O(this.xB);this.xB.T(K("twitter-social",this.c()));
this.By=new vU("instagram",CU,this.H(),this.kc,this.Wb);this.O(this.By);this.By.T(K("instagram-social",this.c()));if("mobile"!=this.Wb){if(a=!this.H().jf.pK)a=!this.H().jf.ny();a&&(this.Lw=new vU("aolmail",DU,this.H(),this.kc,this.Wb),this.O(this.Lw),this.Lw.T(K("aolmail-social",this.c())));a=this.H().Sa("gmail");!t(a.notAssociated)||!a.notAssociated||this.Ng&&this.Ng.xe("google");this.dy=new vU("gmail",EU,this.H(),this.kc,this.Wb);this.O(this.dy);this.dy.T(K("google-social",this.c()))}};
zU.prototype.v=function(){zU.g.v.call(this)};zU.prototype.n=function(){zU.g.n.call(this)};function wU(a,b,c){L.call(this,"settings.ui.NotificationClicked");this.Ea=a;this.jZ=b;this.eZ=c}z(wU,L);wU.prototype.qb=n("Ea");function xU(a,b){L.call(this,"settings.ui.DeleteClicked");this.Ea=a;this.d5=b}z(xU,L);xU.prototype.qb=n("Ea");function yU(a){L.call(this,"settings.ui.AddClicked");this.Ea=a}z(yU,L);yU.prototype.qb=n("Ea");

function FU(a,b,c){this.Ha=a;this.Qq=this.bp=m;b.Ej(this);vG.call(this,"",b,GU,c);b.le(j);Vg(b,j);b.mC=j;HU(this);IU(this);this.rc("hey-icon-"+this.Ha)}z(FU,vG);FU.prototype.Bo=-1;var GU=new LH;p=FU.prototype;p.nl=0;p.Ba=0;p.v=function(){FU.g.v.call(this);this.h().e(window,"keyup",this.Qf);this.zb(JU(this))};
p.hh=function(a){if(this.Qq)return a=jn(this.Ha),Mf(this.h(),a,Im,function(a){"remove"==a.key?KU(this,this.Ha):a.key!=Jm&&this.dispatchEvent(new yU(this.Ha))}),m;return!this.bp&&!(this instanceof LU)?(this.dispatchEvent(new yU(this.Ha)),j):FU.g.hh.call(this,a)?j:m};
p.mg=function(a){this.Qq?(a=jn(this.Ha),Mf(this.h(),a,Im,function(a){"remove"==a.key?KU(this,this.Ha):a.key!=Jm&&this.dispatchEvent(new yU(this.Ha))})):!this.bp&&!(this instanceof LU)?this.dispatchEvent(new yU(this.Ha)):FU.g.mg.call(this,a)};function KU(a,b){var c=Xm(b),c=new gn("Yes, remove "+c,MU,{yb:c});$m(c,"confirm-remove-service");c.L(j);Mf(a.h(),c,Im,function(a){"yes"==a.key&&this.dispatchEvent(new xU(b,""))})}
function NU(a,b,c){a.nl=b;a.nl==FU.prototype.nl&&delete a.nl;a.Ba=c;a.Ba===FU.prototype.Ba&&delete a.Ba;IU(a);HU(a)}function OU(a){a.bp=j;a.rc("hey-active-icon-"+a.Ha);a.zb(JU(a))}function PU(a){a.Qq=j;a.rc("needs-reauth");a.zb(JU(a))}function QU(a){a.Qq=m;lg(a,"needs-reauth");a.zb(JU(a))}function IU(a){var b=j;if(0<a.Ba)b=j;else{var c;if(c=a.ua()instanceof $T)c=a.ua(),c=gU(c)||hU(c);c?b=j:RU?b=j:"options"==a.Ha&&(b=j)}a.L(b,j)}var RU=m;
function HU(a){var b=JU(a);a.pa(gd(SU({target:a.Ha,JJ:a.nl,h6:b})));a.zb(b)}p=FU.prototype;p.Xe=function(a){return this.ua().Xe(a)};p.clear=function(){delete this.nl;delete this.Ba;this.ua().Zu();IU(this);HU(this)};p.reset=function(){this.bp=m;lg(this,"hey-active-icon-"+this.Ha);this.zb(JU(this));QU(this);this.clear()};p.aM=function(){-1!=this.Bo&&(Be(this.Bo),delete this.Bo);this.dispatchEvent("aim.hey.activities-read")};
p.mb=function(a){var a=a&&this.bp,b=this.ua().isVisible();FU.g.mb.call(this,a);this.ua()instanceof $T&&(a?(this.ua().RF(),0!=this.nl&&(-1!=this.Bo&&(Be(this.Bo),delete this.Bo),a=Math.min(25E3,Math.max(5E3,3E3*this.nl)),this.Bo=N(w(this.aM,this,""),a))):b&&0!=this.nl&&this.aM())};
p.Qf=function(a){if(27==a.keyCode&&this.ua().isVisible())this.mb(m),this.c().focus();else if((13==a.keyCode||40==a.keyCode||32==a.keyCode)&&a.target==this.c())this.Qq?(a=jn(this.Ha),Mf(this.h(),a,Im,function(a){"remove"==a.key?KU(this,this.Ha):a.key!=Jm&&this.dispatchEvent(new yU(this.Ha))})):!this.bp&&!(this instanceof LU)?this.dispatchEvent(new yU(this.Ha)):this.mb(j)};p.zb=function(a){var b=K("hey-icon",this.c());t(b)&&(b.setAttribute("title",a),this.c().setAttribute("aria-label",a+" "))};
function JU(a){return"CONNECT"==a.Ha?"Connect services":a.bp?a.Qq?"Error. Reconnect "+Xm(a.Ha):Xm(a.Ha):"Connect "+Xm(a.Ha)};

function TU(a){this.Ha=a;this.ra=[];this.mu=new $T(a);this.mu.T();this.Md=new FU(this.Ha,this.ua());VT.call(this,"aim-hey-targetController-"+a);this.h().e(this.Md,"aim.hey.activities-read",this.rZ);this.h().e(this.ua(),"aim.hey.activity-delete",this.sZ)}z(TU,VT);p=TU.prototype;p.n=function(){TU.g.n.call(this);this.mu.o();delete this.mu;this.Md.o();delete this.Md};p.Ba=0;p.Rj=k;p.n6=k;p.ua=n("mu");p.Le=function(a){return a instanceof aC&&a.Pt()&&(a.Lt()||a.Pt())&&a.ca.ub()==this.Ha?j:m};
p.wm=function(a){this.Le(a)&&UU(this,a.ec())};p.IO=function(){et(Y.j(),k,this.Ha);this.Md.clear();this.Fj(0)};function VU(a){delete a.Ba;a.ra=[];delete a.Rj;a.mu.clear();a.Md.reset()}p.q=n("Md");p.Xe=function(a){eU(this.ua(),a);this.Ba--;WU(this)};function UU(a,b){rb(a.ra,function(a){return a.z()==b.z()})||(a.ra.unshift(b),a.ua().FK(b,j),a.Ba++,a.Fj(++a.Rj))}
p.eC=function(a){var b=[],c=0;A(a,function(a){rb(this.ra,function(b){return b.z()==a.z()})||(b.push(a),this.ra.push(a),a.qo&&c++)},this);this.ua().eC(b);this.Ba+=b.length;this.Fj(this.Rj+c);return b.length};p.Fj=function(a){this.Rj=a;WU(this)};function WU(a){var b=a.Ba+a.n6||0;NU(a.Md,0<a.Rj&&rb(a.ra,function(a){return a.qo&&"client_upgrade"==a.Ga()})?"NEW":a.Rj||0,b)}p.rZ=function(){this.IO()};p.sZ=function(a){this.ua().Xe(a.ec());this.Md.Tu();dt(Y.j(),a.ec().z())};

function XU(a){this.ra={};A(a,function(a){this.io(a)},this)}function YU(a,b){return(b in a.ra?a.ra[b]:h)||[]}p=XU.prototype;p.io=function(a,b){var c=a.ub();xb(Gc(this.ra),c)||Jc(this.ra,c,[]);if(this.UC(a))return m;t(b)?Ab(YU(this,c),a,b):zb(YU(this,c),a);return xb(YU(this,c),a)};p.Xe=function(a){var b=YU(this,a.ub());t(b)&&Cb(b,a)};p.UC=function(a){var b=YU(this,a.ub()),c=m;t(b)&&A(b,function(b){b.z()==a.z()&&(c=j)});return c};function ZU(a,b){A(b,function(a){this.io(a)},a)}
function $U(a,b){var c=YU(a,b);t(c)&&A(c,function(a){a.ca.isRead=j;a.qo=m})}p.Xj=function(a){a in this.ra||(this.ra[a]=[])};p.Wk=function(a){Ic(this.ra,a)};function aV(a,b){var c=0;A(YU(a,b),function(a){a.qo&&c++});return c};

function bV(a){TU.call(this,a)}z(bV,TU);bV.prototype.IO=function(){var a=Y.j();et(a,k,h,this.Ha,h);this.Md.clear();this.Fj(0)};


function cV(a,b,c,d,f){Lp.call(this,[c.left,c.top],[c.right,c.bottom],d,f);this.F=a;this.wd=b}z(cV,Lp);cV.prototype.ru=function(){this.F.style.backgroundPosition=-Math.floor(this.coords[0]/this.wd.width)*this.wd.width+"px "+-Math.floor(this.coords[1]/this.wd.height)*this.wd.height+"px";cV.g.ru.call(this)};cV.prototype.QG=function(){this.play(j);cV.g.QG.call(this)};cV.prototype.n=function(){cV.g.n.call(this);this.F=k};

function dV(a,b){this.vd(a,b);this.ql=this.ge=60;this.pS=P("settings/images/piggy.png");this.F=cd("div");Pe(this.F,"position","fixed");Pe(this.F,"background-image","url("+this.pS+")");Pe(this.F,"z-index",999999);this.vd(a,b);this.Cg(this.ge,this.ql);var c=this;M(mp(),"key",function(a){37==a.keyCode?eV(c,-80):39==a.keyCode?eV(c,80):38==a.keyCode?fV(c):40==a.keyCode&&Pe(c.F,"background-position","-366px 0px")});return this}dV.prototype.F;dV.prototype.ge;dV.prototype.ql;dV.prototype.pS;p=dV.prototype;
p.W=0;p.vd=function(a,b){this.F&&(Pe(this.F,"top",a+"px"),Pe(this.F,"left",b+"px"))};p.Cg=function(a){this.F&&(Pe(this.F,"height",a+"px"),Pe(this.F,"width",a+"px"))};p.blink=function(a){if(1!=this.W){var b=new cV(this.F,new Bc(61,60),new Ne(0,360,60,190),a||200);b.play();M(b,"finish",function(){b.stop()})}};
function gV(a,b){a.DM=0<b?j:m;0<b?(Pe(a.F,"-moz-transform","scaleX(-1)"),Pe(a.F,"-o-transform","scaleX(-1)"),Pe(a.F,"-webkit-transform","scaleX(-1)"),Pe(a.F,"transform","scaleX(-1)"),Pe(a.F,"filter","FlipH"),Pe(a.F,"-ms-filter",'"FlipH"')):(Pe(a.F,"-moz-transform",""),Pe(a.F,"-o-transform",""),Pe(a.F,"-webkit-transform",""),Pe(a.F,"transform",""),Pe(a.F,"filter",""),Pe(a.F,"-ms-filter",""))}
function fV(a){if(2!=a.W){a.W=2;Pe(a.F,"background-position","-60px 0px");var b=a.F.offsetLeft,c=a.F.offsetTop,d=new Wp(a.F,[b,c],[a.DM?b+=100:b-=100,c-30],300,jU),f=new Wp(a.F,[b,c-30],[a.DM?b+=10:b-=10,c],300,iU);d.play();M(d,"finish",function(){f.play()});M(f,"finish",function(){a.stop();a.blink()})}}p.c=n("F");p.stop=function(){0!=this.W&&(this.W=0,Pe(this.F,"background-position","0px 0px"))};
function eV(a,b){var c;if(1!=a.W){a.W=1;b=b||0;c=c||0;gV(a,b);var d=a.F.offsetLeft,f=a.F.offsetTop;(new Wp(a.F,[d,f],[d+b,f+c],300,kU)).play();var g=new cV(a.F,new Bc(60,60),new Ne(0,180,0,0),300);g.play();M(g,"finish",function(){g.stop();a.stop()})}};

function hV(a,b,c){this.me=a||k;this.FQ=b||fa;this.FP=c||fa;this.me&&Rn(this.me.toString(),w(this.Vq,this),"GET")}z(hV,xe);
hV.prototype.Vq=function(a){var a=a.target,b=k;try{a.ro()||e(a.On()),S("aim.udr.Request.prototype.onComplete_"),S(a.On()),b=a.nf(),S(b),0==b.response.statusCode&&(0==b.response.data.errorCode||7==b.response.data.errorCode||8==b.response.data.errorCode)?(S("aim.udr.Request.prototype.onComplete_ - onSuccess_"),this.Gu(b)):(S("aim.udr.Request.prototype.onComplete_ - onError_"),this.ei(b))}catch(c){S(c),this.ei({response:{statusCode:5,statusText:c}})}};
hV.prototype.ei=function(a){this.FP&&this.FP(a);this.dispatchEvent(new iV(a))};hV.prototype.Gu=function(a){this.FQ&&this.FQ(a,this);this.dispatchEvent(new jV(a))};function jV(a){L.call(this,"success");this.jI=a}z(jV,L);jV.prototype.Oh=n("jI");function iV(a){L.call(this,"error");this.jI=a}z(iV,L);iV.prototype.Oh=n("jI");

function kV(a,b,c){hV.call(this,this.$k(a),b,c)}z(kV,hV);kV.prototype.$k=function(a){var b=new Ih(Ul.API_UDR_DEVICE_READ);a&&Zh(b,"phone",a);return b};

function lV(a,b,c){hV.call(this,this.$k(a),b,c)}z(lV,hV);lV.prototype.$k=function(a){var b=new Ih(Ul.API_UDR_DEVICE_DELETE);a&&Zh(b,"phone",a);return b};

function mV(a,b,c){hV.call(this,this.dt(a),b,c)}z(mV,hV);mV.prototype.dt=function(a){var b=new Ih(Ul.API_UDR_SEND_CODE);a&&Zh(b,"phone",a);return b};

function nV(a,b,c,d){hV.call(this,this.dt(a,b),c,d)}z(nV,hV);nV.prototype.dt=function(a,b){var c=new Ih(Ul.API_UDR_CONFIRM_CODE);a&&Zh(c,"code",a);b&&Zh(c,"phone",b);return c};

function oV(a,b,c){hV.call(this,this.$k(a),b,c)}z(oV,hV);oV.prototype.$k=function(a,b,c){var d=new Ih(Ul.API_UDR_DEVICE_WRITE),b=b||0,c=c||0;a&&Zh(d,"phone",a);b&&Zh(d,"carrierId",b);c&&Zh(d,"model",c);Zh(d,"scc","0");return d};

function pV(a,b,c,d,f){hV.call(this,this.$k(a,b,c),d,f)}z(pV,hV);pV.prototype.$k=function(a,b,c){var d=new Ih(Ul.API_UDR_SERVICE_WRITE);a&&Zh(d,"deviceId",a);b&&Zh(d,"type",b);c&&Zh(d,"flags",c);return d};

function qV(a,b){hV.call(this,new Ih(Ul.API_UDR_GET_PRIVACY),a,b)}z(qV,hV);

function rV(a,b,c){hV.call(this,this.dt(a),b,c)}z(rV,hV);rV.prototype.dt=function(a){var b=new Ih(Ul.API_UDR_SET_PRIVACY);a&&Zh(b,"mprivacy",a);return b};

function sV(a,b,c,d){hV.call(this,this.$k(a,b),c,d)}z(sV,hV);sV.prototype.$k=function(a,b){var c=new Ih(Ul.API_UDR_SMS_DEVICE);a&&Zh(c,"phone",a&&"1"!=a.charAt(0)?"1"+a:a);b&&Zh(c,"body",b);return c};

function tV(a){this.$a=[];var b=new tg(a.l("div",k,"General"),cP.j());b.ga("general");b.rc("general");this.$a.push(b);b=new tg(a.l("div",k,"Third Party Accounts"),cP.j());b.ga("accounts");b.rc("accounts");this.$a.push(b);b=new tg(a.l("div",k,"Sounds"),cP.j());b.ga("messaging");b.rc("messaging");this.$a.push(b);b=new tg(a.l("div",k,"Chat Display Style"),cP.j());b.ga("chat-style");b.rc("chat-style");this.$a.push(b);b=new tg(a.l("div",k,"Privacy"),cP.j());b.ga("advanced");b.rc("advanced");this.$a.push(b);
b=new tg(a.l("div",k,"Text Messaging"),cP.j());b.ga("mobile");b.rc("mobile");this.$a.push(b)}function uV(a){return a.$a};

function vV(){V.call(this);this.$a=[]}z(vV,V);p=vV.prototype;p.l=function(){vV.g.l.call(this)};p.K=function(a){vV.g.K.call(this,a);this.$a=uV(new tV(this.ba));A(this.$a,function(b){this.O(b);b.T(a);this.h().e(b,"action",ua(this.Kb,b.w()))},this)};p.v=function(){vV.g.v.call(this)};p.n=function(){vV.g.n.call(this)};function wV(a,b){"notifications"==b||"hey"==b?b="accounts":"privacy"==b&&(b="advanced");A(a.$a,function(a){a.w()==b?a.rc("active"):lg(a,"active")})}
p.Kb=function(a,b){b.preventDefault();this.dispatchEvent(new xV(a))};function xV(a){L.call(this,"settings.ui.LeftNavItemClicked");this.lY=a}z(xV,L);

function yV(a){this.jw;this.NA={};this.ES=this.pK=m;this.setData(a)}va("aim.settings.UserDetailsModel",yV);yV.prototype.setData=function(a){this.jw=a.userDetails;for(a=0;a<this.jw.services.length;a++)this.NA[this.jw.services[a].service]=this.jw.services[a];t(this.NA.thirdparty)&&(this.ES=j);this.ny()||(a=this.NA.aim,t(a)&&-1<a.aimId.search(/\@/)&&(this.pK=j))};yV.prototype.getData=n("jw");yV.prototype.getAttribute=function(a,b){return this.NA[a][b]};yV.prototype.ny=n("ES");

function zV(a,b,c){V.call(this);this.Ea=a;this.vc(b);this.kc=c;this.L6}z(zV,V);p=zV.prototype;p.setData=function(a){this.vc(a)};p.l=function(){zV.g.l.call(this);var a=m;this.Ea==this.kc&&(a=j);Gl(this,AV,this.H().Sa(this.Ea,a))};p.K=function(a){zV.g.K.call(this,a)};
p.v=function(){zV.g.v.call(this);this.h().e(this.D().P("service-header",this.c()),"click",ua(this.Uq));if(this.H().xe(this.Ea)){var a=K(this.Ea+"List-z",this.c()),b=K(this.Ea+"List-n",this.c()),c=m;this.Ea==this.kc&&(c=j);this.L6=new pU(a,b,c);this.h().e(this.D().P("account-settings",this.c()),"click",ua(this.pZ));this.h().e(this.D().P("remove",this.c()),"click",ua(this.l2));try{this.h().e(this.D().P("reAuth",this.c()),"click",ua(this.Uq))}catch(d){}}};p.n=function(){zV.g.n.call(this)};
p.Uq=function(a){a.stopPropagation();var b=a.target.getAttribute("serviceName");t(b)||(a=Ld(a.target,"reAuth"),t(a)&&(b=a.getAttribute("serviceName")));t(b)&&this.dispatchEvent(new BV(b))};p.pZ=function(a){var b=a.target.getAttribute("serviceName"),c=a.target.getAttribute("accountOption"),d=a.target.getAttribute("value");a.stopPropagation();t(b)&&this.dispatchEvent(new CV(b,c,d))};
p.l2=function(a){var b=a.target.getAttribute("serviceName");a.stopPropagation();t(b)&&(a=this.H().Sa(this.Ea).Jn,this.dispatchEvent(new DV(b,a)))};function EV(a){var b=K("friendly-name",a.c());t(b)&&(b.innerHTML=a.H().Sa(a.Ea).Jn)}function BV(a){L.call(this,"settings.ui.AddAssociatedService");this.Ea=a}z(BV,L);BV.prototype.qb=n("Ea");function DV(a,b){L.call(this,"settings.ui.DelAssociatedService");this.Ea=a;this.w6=b}z(DV,L);DV.prototype.qb=n("Ea");
function CV(a,b,c){L.call(this,"settings.ui.AssociatedServiceAttributeClicked");this.Ea=a;this.kU=b;this.md=c}z(CV,L);CV.prototype.qb=n("Ea");CV.prototype.getAttribute=n("kU");CV.prototype.MM=n("md");


function FV(){this.Do={};this.Do.Sounds={};this.LR={}}p=FV.prototype;p.getData=n("Do");p.setData=function(a){this.LR=a.data};p.getAttribute=function(a){return this.Do[a]};p.setAttribute=function(a,b,c,d){var f={};f.type=a;f.key=b;f.vo=c;f.value=d;this.Do[a][b]=f};p.Sa=function(a){var b=[],c;for(c in this.Do[a])b.push(this.Do[a][c]);1==b.length?(a=b[0],a.items=b):a={items:b};return a};

function GV(a,b){Of.call(this,b);this.fL=a;this.ms=k;this.Aj=new oQ;this.tO=0}z(GV,V);p=GV.prototype;p.l=function(){GV.g.l.call(this);this.K(this.c())};
p.K=function(a){GV.g.K.call(this,a);C(a,"progress-with-cancel");var b;b=new W;b.append('<div class="file-progress hidden"><div class="progressLabel">',"Uploading:",'</div><div class="progress-area"></div><div class="cancel-button close"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="Cancel" /></div></div><div class="file-error hidden"><div class="error-label"></div><div class="close-button close"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="Close" /></div></div>');b=b.toString();
a.innerHTML=b;a=this.c();this.Aj.yr("horizontal");this.Aj.T(K("progress-area",a));this.h().e(K("cancel-button",a),"click",this.qP).e(K("close-button",a),"click",this.Ib)};p.$=function(){GV.g.$.call(this);var a=this.c();this.h().M(K("cancel-button",a),"click",this.qP).M(K("close-button",a),"click",this.Ib)};p.SR=function(a,b){this.Om(m);b&&(a<b?(this.tO!=b&&(this.Aj.UA(b),this.tO=b),this.Aj.ga(a),HV(this,j)):(HV(this,m),this.ms=k))};function IV(a,b,c){a=K(b,a.c());c?D(a,"hidden"):C(a,"hidden")}
function HV(a,b){IV(a,"file-progress",b)}p.Om=function(a){IV(this,"file-error",a)};p.Ib=function(){HV(this,m);this.Om(m)};p.qP=function(){this.ms&&(this.ms(),this.ms=k);this.fL&&this.fL();this.Ib()};

function JV(a,b){V.call(this);this.DK=b;this.ea=a;this.eT=new GV}z(JV,V);p=JV.prototype;p.l=function(){JV.g.l.call(this);Gl(this,KV,{type:"Sounds"});this.eT.T(Tc("div","progress-container",this.c())[0])};p.K=function(a){JV.g.K.call(this,a);a=Bp(Q()?LV:MV,this.ea.Sa("Sounds"),new Qc(a.ownerDocument));K("prefsNamesList",this.c()).appendChild(a)};
p.v=function(){JV.g.v.call(this);var a=this.D().Zi("prefKey",this.c()),b=this.h();A(a,function(a){b.e(a,"click",ua(this.Kb))},this);(a=this.D().P("delete-file-button",this.c()))&&b.e(a,"click",ua(this.m0));b.e(this.c(),"change",ua(this.l0));a=m;"Sounds"==this.DK&&(a=j);var c=K("SoundsList-z",this.c()),d=K("SoundsList-n",this.c());this.uT=new pU(c,d,a)};p.n=function(){JV.g.n.call(this)};
p.Kb=function(a){var b=a.target.getAttribute("category"),c,d;if("INPUT"==a.target.tagName)switch(a.target.type){case "radio":a.target.checked&&(c=a.target.name,d=a.target.value);break;case "checkbox":c=a.target.getAttribute("id");d="true"==a.target.getAttribute("prefValue")?"false":"true";break;case "button":var f=new NV(a.target.id);this.dispatchEvent(f);a.stopPropagation()}t(c)&&t(d)&&(f=new OV(b,c,d),this.dispatchEvent(f),a.stopPropagation())};
p.m0=function(a){this.dispatchEvent(new NV(a.target.parentElement.id));a.stopPropagation()};p.aJ=function(){var a=K("saved",this.c());C(a,"success");setTimeout(function(){D(a,"success")},3E3)};p.l0=function(a){"INPUT"==a.target.tagName&&"file"==a.target.type.toLowerCase()&&this.dispatchEvent(new PV(a.target,this.eT))};
function QV(a,b){RV(a);var c=b&&b.length,d=a.D().P("file-display",a.c());c?D(d,"disabled"):C(d,"disabled");var f=a.D().Zi("showForFile",d);A(f,function(a){c?D(a,"disabled"):C(a,"disabled")});if(f=a.D().P("current-file-name",d)){var g=/.*?&fileName=([^&]*).*/,g=c?decodeURIComponent(b.replace(g,"$1").replace(/\+/g,"%20")):"";f.innerHTML=il(g);f.title=g}f=a.D().Zi("prefKey",d);A(f,function(a){a.disabled=!c});c||(d=a.D().P("useSoundFileRadio",a.c()))&&d.checked&&a.D().P("useNewSoundRadio",a.c()).click()}
function RV(a){a.D().P("file",a.c()).value=""}function NV(a){L.call(this,"settings.ui.MessagingButtonClicked");this.ya=a}z(NV,L);NV.prototype.z=n("ya");function OV(a,b,c){L.call(this,"settings.ui.MessagingPreferenceClicked");this.Cb=a;this.Ub=b;this.md=c}z(OV,L);function PV(a,b){L.call(this,"settings.ui.UploadFile");this.wM=a;this.u4=b}z(PV,L);

function SV(a){V.call(this);this.DK=a;this.bt=new WH}z(SV,V);var TV="+fontName,+fontSize,+bold,+italic,+underline,+foreColor,+backColor".split(",");p=SV.prototype;p.l=function(){SV.g.l.call(this);Gl(this,UV)};p.K=function(a){SV.g.K.call(this,a)};p.v=function(){SV.g.v.call(this);var a=K("pref-fontbar",this.c());this.WD=K("pref-sample",this.c());a&&(this.Xa=NH(TV,a),this.h().e(this.Xa,"action",this.yE),this.bt.OJ(this.Xa),YH(this.bt,this.WD))};
p.n=function(){SV.g.n.call(this);this.bt=this.Xa=this.WD=k};p.yE=function(a){var b=this.bt,c=a.target.z(),a=a.target.w();b.ue[c]=a?a:!b.ue[c];Wl(b.KM,b.ue);YH(this.bt,this.WD);this.aJ()};p.aJ=function(){var a=K("saved",this.c());C(a,"success");setTimeout(function(){D(a,"success")},3E3)};

function VV(a){V.call(this);this.EH=a}z(VV,V);VV.prototype.v=function(){VV.g.v.call(this);this.dispatchEvent(new rU(this.EH))};function WV(a){var b=K("saved",a.parentNode);b&&(C(b,"success"),setTimeout(function(){D(b,"success")},3E3))};

function XV(a){VV.call(this,"general");this.Wb=a;this.bZ=Vl("multi-window-mode-current")?"tabbed":"main"}z(XV,VV);XV.prototype.l=function(){XV.g.l.call(this);var a=this.Wb;if("client"==this.Wb&&(!window.appWindow||!window.appWindow.menu))a="web";a={y6:a,kZ:Vl("notifications")||"true",KV:Vl("exit-on-close")||"false",t5:window.app&&window.app.info&&-1<window.app.info.name.indexOf("Chromely")};Gl(this,YV,a)};
XV.prototype.v=function(){XV.g.v.call(this);A(Vc("multiwindow-mode-input",this.c()),function(a){a.value.toString()==this.bZ&&(a.checked=j);this.h().e(a,"change",this.z1)},this);var a=Vc("multiwindow-zippy-header",this.c()),b=Vc("multiwindow-zippy-content",this.c()),c=a.length||0;if(c==(b.length||0))for(var d=0;d<c;d++)new pU(a[d],b[d],m)};XV.prototype.z1=function(a){a=a.target.value;t(a)&&this.dispatchEvent(new ZV(a))};function ZV(a){L.call(this,"settings.ui.MultiWindowMode");this.XY=a}z(ZV,L);


function $V(){VV.call(this,"hey")}z($V,VV);$V.prototype.l=function(){$V.g.l.call(this);Gl(this,aW)};

function bW(){VV.call(this,"messaging")}z(bW,VV);bW.prototype.l=function(){bW.g.l.call(this);Gl(this,cW)};

function dW(){VV.call(this,"chat-style");this.iA={bubbles:m,y$:m}}z(dW,VV);p=dW.prototype;p.l=function(){dW.g.l.call(this);Gl(this,eW,{V:r._aim_user_.Sa()});this.h().e(this.c(),"change",this.oQ).e(r._aim_session_,"settings.ui.UserPrefsLoaded",this.d2).e(r._aim_user_,zu,this.Q3)};p.v=function(){dW.g.v.call(this);fW(this,"viewIMsInBubbles");fW(this,"viewIMTimestampsRelative");if(!G||!I(9))for(var a=Md(this.ba,"input",k),b=0;a&&b<a.length;b++)this.h().e(a[b],"click",this.oQ)};
p.oQ=function(a){var a=a.target,b=F(a,"pref-enabled");F(a,"viewIMsInBubbles")?(this.dispatchEvent(new gW(b)),this.iA.bubbles=j,K("history-style-pref",this.c())):F(a,"viewIMTimestampsRelative")&&(this.dispatchEvent(new hW(b)),this.iA.timestamp=j)};function fW(a,b){var c=Ll.j().get("other","preferences");if(t(c)){var d=1==c[b];A(Vc(b,a.c()),function(a){a.checked=d?F(a,"pref-enabled"):F(a,"pref-disabled")},a)}}
p.d2=function(){this.G&&(this.iA.bubbles||fW(this,"viewIMsInBubbles"),this.iA.timestamp||fW(this,"viewIMTimestampsRelative"))};p.Q3=function(){if(this.G){var a=r._aim_user_.Zb();A(Vc("me-icon",this.c()),function(b){b.src=a;b.onerror=function(){qr(b)}},this)}};function gW(a){L.call(this,"settings.ui.HistoryBubblesPref");this.Qb=a}z(gW,L);function hW(a){L.call(this,"settings.ui.HistoryTimestampPref");this.Qb=a}z(hW,L);

function iW(){VV.call(this,"advanced")}z(iW,VV);iW.prototype.l=function(){iW.g.l.call(this);Gl(this,jW)};

function kW(a){VV.call(this,"mobile");this.ou=a;this.Xy=k}z(kW,VV);p=kW.prototype;p.l=function(){kW.g.l.call(this);Gl(this,lW,{VO:this.ou})};
p.v=function(){kW.g.v.call(this);var a=K("mobile-settings",this.c()),b=Vc("mobile-zippy-header",a),a=Vc("mobile-zippy-content",a),c=b.length||0;if(c==(a.length||0))for(var d=0;d<c;d++){var f=new pU(b[d],a[d],m);this.h().e(f,"toggle",this.g4)}var g=K("number-to-register",this.c()),b=this.h();g&&(this.Xy=new Ie(g),b.e(this.Xy,"key",this.sj));this.h().e(this.D().P("write-device",this.c()),"click",ua(this.a4));g=this.D().P("get-the-app",this.c());b.e(g,"click",function(){var a=g.getAttribute("message");
t(a)&&this.dispatchEvent(new mW(a,""))})};p.n=function(){kW.g.n.call(this);this.Xy&&this.Xy.o();this.h().Rd()};p.g4=function(a){a.Lx&&(a=K("number-to-register",this.c()))&&a.focus()};p.sj=function(a){if(!a.ctrlKey&&!(!a.shiftKey&&!a.altKey&&48<=a.keyCode&&57>=a.keyCode||96<=a.keyCode&&105>=a.keyCode)){switch(a.keyCode){case 46:case 8:case 9:return}a.preventDefault()}};p.a4=function(){var a=this.D().P("number-to-register",this.c()).value;t(a)&&this.dispatchEvent(new nW(a))};
function nW(a){L.call(this,"settings.ui.WriteDeviceClicked");this.rm=a}z(nW,L);function mW(a,b){L.call(this,"settings.ui.SendMessageClicked");this.$h=a;this.rm=b}z(mW,L);mW.prototype.pq=n("$h");

function oW(a){V.call(this);this.ea=a}z(oW,V);p=oW.prototype;p.l=function(){oW.g.l.call(this);Gl(this,pW)};
p.K=function(a){oW.g.K.call(this,a);a=(a=this.ea.response.data)?a.devices:k;t(a)&&A(a,function(a){var c=m,d=m;if("1"==a.deviceFlags&&t(a.services))for(var f=a.services,g=f.length,i=0;i<g;i++)2==f[i].type&&2==f[i].flags?c=j:8==f[i].type&&2==f[i].flags&&(d=j);a=Bp(qW,{qG:a.deviceNumber.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"),pG:a.deviceNumber,DI:a.services,jW:c,sU:d,RJ:a.dateUpdated,VU:a.dateCreated,Rx:a.deviceFlags,id:a.deviceId},this.ba);K("mobile-list",this.c()).appendChild(a)},this)};
p.v=function(){oW.g.v.call(this);var a=this.h(),b=K("mobile-list",this.c());A(Vc("write-service",b),function(b){a.e(b,"click",this.c4)},this);A(Vc("delete-device",b),function(b){a.e(b,"click",this.E_)},this);A(Vc("send-code-to-device",b),function(b){a.e(b,"click",this.M2)},this);var c=Vc("device-zippy-header",b),b=Vc("device-zippy-content",b),d=c.length||0;if(d==(b.length||0))for(var f=0;f<d;f++)new pU(c[f],b[f],m)};p.n=function(){oW.g.n.call(this)};
p.E_=function(a){a=a.target.getAttribute("number");t(a)&&this.dispatchEvent(new rW(a))};p.M2=function(a){a=a.target.getAttribute("number");t(a)&&this.dispatchEvent(new sW(a))};p.c4=function(a){var b=a.target.getAttribute("deviceId"),c=a.target.getAttribute("serviceType"),a=a.target.checked?2:4;t(b)&&t(c)&&t(a)&&this.dispatchEvent(new tW(b,c,a))};function uW(a){return v(a)?a.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):a}function vW(a){return a&&v(a)&&a.match("([2-9][0-8]\\d)([2-9]\\d{6})")?j:m}
function rW(a){L.call(this,"settings.ui.DeleteDeviceClicked");this.rm=a}z(rW,L);function tW(a,b,c){L.call(this,"settings.ui.WriteServiceClicked");this.jV=a;this.Cb=b;this.VV=c}z(tW,L);tW.prototype.Ga=n("Cb");function sW(a){L.call(this,"settings.ui.SendCodeClicked");this.rm=a}z(sW,L);

va("aim.settings.ui.MobilePrivacyFlag",{S8:1,T8:7});function wW(a){V.call(this);this.OH=a}z(wW,V);p=wW.prototype;p.l=function(){wW.g.l.call(this);Gl(this,xW)};p.K=function(a){wW.g.K.call(this,a)};
p.v=function(){wW.g.v.call(this);var a=this.h();A(Vc("mobile-privacy",this.c()),function(b){b.value.toString()==this.OH&&(b.checked=j);a.e(b,"change",this.V2)},this);var b=new pU(Vc("privacy-zippy-header",this.c())[0],Vc("privacy-zippy-content",this.c())[0],m);this.h().e(b,"toggle",function(a){a.Lx&&(a=K("mobile-privacy",this.c()))&&a.focus()})};p.n=function(){wW.g.n.call(this)};p.V2=function(a){a=a.target.value;t(a)&&this.dispatchEvent(new yW(a))};
function yW(a){L.call(this,"settings.ui.SetPrivacyClicked");this.OH=a}z(yW,L);

function zW(a,b,c,d){V.call(this);c="mobile"===c;this.Ea=b;this.Ec=0;this.So=k;a=a+"/.oauth/begin/"+b;c&&(a+="?origin=mobile");t(d)&&(a=d(a));c?(S("Using the same window for mobile OAuth"),window.location.href=a):(S("Popping new window for OAuth"),this.So=window.open(a,"oauthpop","status=0,toolbar=0,menubar=0,location=0,directories=0,scrollbars=1,height=500,width=750"),this.Ec=N(this.rP,200,this))}z(zW,V);zW.prototype.n=function(){zW.g.n.call(this);Be(this.Ec);this.So=k};
zW.prototype.rP=function(){this.So==k||this.So.closed?(this.So=k,this.dispatchEvent(new qU(this.Ea))):this.Ec=N(this.rP,200,this)};zW.prototype.mm=function(){S("this.popupWindow_",this.So);return this.So!=k};

function AW(a,b){V.call(this);this.ea=a.data;this.DX=b||m;this.vs=this.hw="public"}z(AW,V);p=AW.prototype;p.l=function(){AW.g.l.call(this);Gl(this,BW,{CX:this.DX})};p.K=function(a){AW.g.K.call(this,a);this.D().P("current-updates-pref",this.c());this.D().P("current-comments-pref",this.c())};
p.v=function(){AW.g.v.call(this);var a=this.D();this.h().e(a.P("pd-list-container",this.c()),"click",this.Kb).e(a.P("buddyOnlyGroupChat",this.c()),"change",ua(this.yG)).e(a.P("like-pref",this.c()),"click",ua(this.k1)).e(a.P("comment-pref",this.c()),"click",ua(this.u_)).e(this.Pe(),"key",this.yu);var b=a.P("globalOTR",this.c());b&&this.h().e(b,"change",ua(this.SG));(b=a.P("localLogging",this.c()))&&this.h().e(b,"change",ua(this.eH));this.h().e(a.P("updates-public",this.c()),"click",ua(this.yH)).e(a.P("updates-buddies",
this.c()),"click",ua(this.yH)).e(a.P("updates-private",this.c()),"click",ua(this.yH)).e(a.P("comments-public",this.c()),"click",ua(this.GG)).e(a.P("comments-buddies",this.c()),"click",ua(this.GG)).e(a.P("comments-private",this.c()),"click",ua(this.GG)).e(r._aim_session_,"permitDeny",this.Q1);var c=this.ea.pdMode;A(Vc("pd-radio",this.c()),function(a){a.value.toString()==c&&(a.checked=j);this.h().e(a,"change",this.P1)},this);CW(this,c)};p.n=function(){AW.g.n.call(this)};
p.Q1=function(a){this.ea=a.na;CW(this,this.ea.pdMode)};
function CW(a,b){var c=K("pd-list-container",a.c());if("permitSome"==b||"denySome"==b){O(c,j);var c=K("pd-list-container",a.c()),d=[],f=k;"permitSome"==b?f=a.ea.allows:"denySome"==b&&(f=a.ea.blocks);f&&A(f,function(a){d.push(jr(a).Sa())},a);ty(c,{x6:d,hZ:"denySome"==b?"Wow! You like everyone!":"No one is allowed to contact you",wN:"denySome"==b?"Block List":"Allow List",ST:"denySome"==b?"Block":"Allow",aV:"denySome"==b?"Unblock":"Disallow"})}else O(c,m)}
p.yH=function(){var a;A(this.D().Zi("updates-pref",this.c()),function(b){b.checked&&(a=b.value)},this);a!=this.hw&&(this.hw=a,this.dispatchEvent(new DW(a)))};p.GG=function(){var a;A(this.D().Zi("comments-pref",this.c()),function(b){b.checked&&(a=b.value)},this);a!=this.vs&&(this.vs=a,this.dispatchEvent(new EW(a)))};p.P1=function(a){a=a.target.value;this.ea.pdMode=a;CW(this,a);Ws(Y.j(),h,h,a);FW(this)};p.yu=function(a){13==a.keyCode&&F(a.target,"pd-list-additem-input")&&GW(this)};
p.Kb=function(a){a.stopPropagation();var b=a.target;F(b,"pd-list-remove")?(b=a.target.getAttribute("aimId"),this.D().removeNode(a.target.parentNode),b&&(a={},"denySome"==this.ea.pdMode?(a.Ro=b,Cb(this.ea.blocks,b)):(a.Qo=b,Cb(this.ea.allows,b)),Ws(Y.j(),{},a),CW(this,this.ea.pdMode))):F(b,"pd-list-additem-btn")&&GW(this)};
function GW(a){var b=K("pd-list-additem-input",a.c());if((b=b.value)&&2<b.length){var c={};if("denySome"==a.ea.pdMode){c.Ro=b;var d=a.ea.blocks||(a.ea.blocks=[])}else c.Qo=b,d=a.ea.allows||(a.ea.allows=[]);xb(d,b)||Ab(d,b,0);Ws(Y.j(),c,{});CW(a,a.ea.pdMode);b=K("pd-list-additem-input",a.c());b.focus()}}p.yG=function(a){this.dispatchEvent(new HW(a.target.checked))};function FW(a){var b=a.D().P("whoCanChatSaved",a.c());C(b,"success");setTimeout(function(){D(b,"success")},3E3)}
p.SG=function(a){this.dispatchEvent(new IW(!a.target.checked));var b=K("localLogging",this.c());b&&(b.disabled=!a.target.checked)};p.eH=function(a){this.dispatchEvent(new JW(a.target.checked));var b=this.D().P("localLoggingSaved",this.c());b&&(C(b,"success"),setTimeout(function(){D(b,"success")},3E3))};function KW(a){var b=a.D().P("globalOTRSaved",a.c());b&&(C(b,"success"),setTimeout(function(){D(b,"success")},3E3))}
function LW(a){var b=a.D().P("updatesPrivacySaved",a.c());b&&(C(b,"success"),setTimeout(function(){D(b,"success")},3E3))}function MW(a){var b=a.D().P("commentsPrivacySaved",a.c());b&&(C(b,"success"),setTimeout(function(){D(b,"success")},3E3))}p.k1=function(){var a=K("like-pref",this.c()).checked;this.dispatchEvent(new wU("aim","like",a.toString()));var b=this.D().P("notificationsSaved",this.c());C(b,"success");setTimeout(function(){D(b,"success")},3E3)};
p.u_=function(){var a=K("comment-pref",this.c()).checked;this.dispatchEvent(new wU("aim","comment",a.toString()));var b=this.D().P("notificationsSaved",this.c());C(b,"success");setTimeout(function(){D(b,"success")},3E3)};function HW(a){L.call(this,"settings.ui.BuddyOnlyGroupChat");this.Qb=a}z(HW,L);function IW(a){L.call(this,"settings.ui.GlobalOTR");this.Qb=a}z(IW,L);function JW(a){L.call(this,"settings.ui.LocalLogging");this.Qb=a}z(JW,L);
function DW(a){L.call(this,"settings.ui.UpdatesPrivacy");this.md=a}z(DW,L);DW.prototype.w=n("md");function EW(a){L.call(this,"settings.ui.CommentsPrivacy");this.md=a}z(EW,L);EW.prototype.w=n("md");

function NW(a,b,c,d){Zm.call(this,d);this.Eg=a;this.xx=b||k;this.xs=c||k;this.pn=k;$m(this,"settings-dialog");C(this.Yi(),"settings-dialog-bg")}z(NW,Zm);NW.prototype.L=function(a){NW.g.L.call(this,a);this.isVisible()?this.dispatchEvent({type:"DIALOG_SHOWN",dialogId:this.xx,dialogTemplate:this.Eg}):this.dispatchEvent({type:"DIALOG_HIDDEN",dialogId:this.xx,dialogTemplate:this.Eg})};

var OW={deleteServiceConfirmation:{content:"<p>Are you sure you want to remove:</p>         <div>{serviceIconImg}{userName}</div>",dismissable:m,modal:j,title:"Delete service",hideTitleElement:j,buttonSet:[{key:"delete",caption:"Yes, remove this account",isDefault:m,isCancel:m},{key:"cancel",caption:"Cancel",isDefault:j,isCancel:j}]},mobileDeleteDevice:{content:"<p>Delete settings for {phone}?</p>",dismissable:m,modal:j,title:"Delete Device",hideTitleElement:m,buttonSet:[{key:"delete",caption:"Yes, vaporize \u2019em.",
isDefault:m,isCancel:j},{key:"cancel",caption:"Cancel",isDefault:j,isCancel:j}]},confirmCode:{content:'<p>The code was sent to {phone}.</p>        <div>Please enter it here: <input type="text" class="confirmation-code" maxlength="4" size="4"></div>',dismissable:j,modal:j,title:"Confirm Code",hideTitleElement:m,buttonSet:[{key:"confirm",caption:"Confirm",isDefault:j,isCancel:m},{key:"cancel",caption:"Cancel",isDefault:m,isCancel:j}]},retryConfirmCode:{content:'<p>Sorry, <b>{code}</b> didn\u2019t seem to work.</p>        <div>Please try again: <input type="text" class="confirmation-code" maxlength="4" size="4"></div>',
dismissable:j,modal:j,title:"Confirm Code",hideTitleElement:m,buttonSet:[{key:"confirm",caption:"Confirm",isDefault:j,isCancel:m},{key:"cancel",caption:"Cancel",isDefault:m,isCancel:j}]},deviceReadFailed:{content:"<p>Sorry, there was a problem getting your device list.</p><div>{details}</div>",dismissable:j,modal:j,title:"Oh Snap!",hideTitleElement:m,buttonSet:[{key:"cancel",caption:"Dang, I\u2019ll try again later.",isDefault:j,isCancel:j}]},deviceExists:{content:"<p>Sorry, it looks like that device already exists.</p>",
dismissable:j,modal:j,title:"Device Exists",hideTitleElement:m,buttonSet:[{key:"cancel",caption:"Ok, I get it.",isDefault:j,isCancel:j}]},getPrivacyFailed:{content:"<p>Sorry, we failed to get your privacy settings.</p>",dismissable:j,modal:j,title:"Oh Snap!",hideTitleElement:m,buttonSet:[{key:"cancel",caption:"OK, I\u2019ll try again later.",isDefault:j,isCancel:j}]},getApp:{content:'<p>Enter your mobile number. We\u2019ll do the rest.</p>         <div>+1 <input type="text" class="app-phone-number" maxlength="10" size="10" value="{phone}"></div>',
dismissable:j,modal:j,title:"Get AIM for your mobile phone!",hideTitleElement:m,buttonSet:[{key:"confirm",caption:"Great! Text me the link.",isDefault:j,isCancel:m},{key:"cancel",caption:"Cancel",isDefault:m,isCancel:j}]}},PW={_default_:"butt buttMarketing",cancel:"butt button-light","delete":"butt danger"};



function QW(a,b,c,d){Il.call(this,a);b&&(this.Ry=b);this.Wb=c||k;d&&(this.Hp=d);this.IU=AD(r._aim_session_,"SNS");this.JU=bb(this.IU,"/_cqr/opr/opr.psp?loginId=",r._aim_session_.m());this.Ry||this.bw();this.QK={facebook:0,google:0};this.FY=2}z(QW,Il);va("aim.settings.Controller",QW);p=QW.prototype;p.EN="";p.ou="http://aol.it/qYsN6g";p.Hp=k;p.sm=k;p.Ry=m;p.Wb=k;p.$Q=m;p.kc=k;p.Tp={};
p.oc=function(a){"mobile"!=this.Wb?(this.du&&this.du.o(),this.du=new vV,this.gS(this.du),this.h().e(this.du,"settings.ui.LeftNavItemClicked",this.B1)):C(document.body,"mobile");"mobile"!=this.Wb&&"client"!=this.Wb&&this.h().e(K("settings-closer"),"click",this.DG);RW(this,a);r._aim_view_=this.Wb;if("mobile"!=this.Wb&&(a=K("proscenium-container"))){var b=new dV(120,-360);a.appendChild(b.c())}};p.gS=function(a){a.qa(K("settingsSectionChoicesList"))};p.B1=function(a){RW(this,a.lY)};
function RW(a,b){"mobile"!=a.Wb&&wV(a.du,b||"");var c;switch(b){case "accounts":case "notifications":case "hey":c=new $V;break;case "messaging":c=new bW;break;case "fonts":case "chat-style":c=new dW;break;case "advanced":case "privacy":c=new iW;break;case "mobile":c=new kW(a.ou);break;default:c=new XV(a.Wb||"")}a.wf(c)}p.wf=function(a){this.Ed&&this.Ed.o();this.Ed=a;this.h().e(this.Ed,"settings.ui.PanelActivated",this.hQ);this.Ed.T(K("rightPanel"))};
p.hQ=function(a){this.kc=k;switch(a.EH){case "general":this.XR();break;case "accounts":case "hey":SW(this);break;case "messaging":this.kz=new FV;if("client"==this.Wb&&"app"in window)a=Vl("soundToPlay"),a||(a="false"==Vl("playIMSound")?"0":"1",Yl("playIMSound"),Wl("soundToPlay",a)),this.kz.setAttribute("Sounds","soundToPlay","The selected IM sound",a);else{var a=Y.j(),b=w(this.h4,this);$(a,"preference","get",h,b)}TW(this);break;case "fonts":case "chat-style":this.$s&&this.$s.o();this.$s=new SV(this.kc);
this.$s.T(K("font-editor",this.Ed.c()));this.h().e(this.Ed,"settings.ui.HistoryBubblesPref",this.K0).e(this.Ed,"settings.ui.HistoryTimestampPref",this.O0);break;case "advanced":case "privacy":a=Y.j();b=w(this.B0,this);$(a,"preference","getPermitDeny",h,b);break;case "mobile":this.TM()}};p.DG=function(){window.location.href="/"};function UW(a){a.EN=window.location.protocol+"//"+window.location.host}
function VW(a,b,c){var d=OW[b]||{content:b,dismissable:m,modal:j,title:b},f=k;if(a.Tp[b])f=a.Tp[b];else if(d.modal){f=new NW(d,b,c,a.OM());a.Tp[b]=f;f.pn!=PW&&(f.pn=PW);d=f;zm(d).id=d.xx;d.pa(d.Eg.content);d.zb(d.Eg.title);d.At=d.Eg.dismissable;d.yi&&O(d.yi,d.At);Am(d,0.7);d.uD=m;Bm(d,m);Ub(K("modal-dialog-title",zm(d)),"draggable",d.uD);var g=d.Eg.buttonSet;if("object"==typeof g&&0<g.length){for(var i=new Cm,l=0;l<g.length;l++){var q=g[l];i.Ta({key:q.key,caption:q.caption},q.isDefault,q.isCancel)}Gm(d,
i)}else"string"==typeof g&&"none"==g&&C(ym(d),"hidden");if(d.pn!=k&&"object"==typeof d.pn){g=d.pn._default_||k;i=Tc("button",k,ym(d));for(l=0;l<i.length;l++)q=i[l].name,"undefined"!=typeof d.pn[q]?C(i[l],d.pn[q]):g&&C(i[l],g)}d.xs&&d.pa(d.xs);"undefined"!=typeof d.Eg.hideTitleElement&&d.Eg.hideTitleElement==j&&(d=d.XM(),C(d,"hidden"))}f&&(c&&f.xs!=c&&(f.xs=c,f.pa(f.xs)),a.gf=a.Tp[b],a.gf.L(j),a.gf.focus())}p.OM=function(){return J()};
p.zm=function(){S("dialog cleanup called");if(t(this.gf)){var a=this.gf.xx;t(a)&&(this.Tp[a].o(),this.gf=this.Tp[a]=k)}};p.XR=function(){this.h().e(K("general-panel"),"click",ua(this.KP))};
p.KP=function(a){var b=a.target;switch(b?b.getAttribute("dest"):""){case "changePassWord":b=this.JU;"client"==this.Wb?this.dispatchEvent(new sU(b)):window.open(b);a.stopPropagation();break;case "notifications":Wl("notifications",b.checked.toString());this.Ed&&WV(b);break;case "exitOnClose":Wl("exit-on-close",b.checked.toString()),this.Ed&&WV(b)}};
p.C0=function(a){var b=this.Ng,c=a.na;if(601==c.statusCode)S("The Failed response right above this is OK");else if(408==c.statusCode)S("The Failed response right above this is NOT OK - it timed out");else{var d=c.data,c=d.serviceName;b.Ob[c].isAssociated=j;b.Ob[c].autoLogin=d.autoLogin;b.dJ[c]=m;1==d.notAuthorized?(b.Ob[c].friendlyName="Reauthorization Required",b.Ob[c].notAuthorized=j):t(d.myFriendlyName)?(b.Ob[c].friendlyName=d.myFriendlyName,"google"==c&&t(d.myServiceName)&&"mobile"!=r._aim_view_&&
(d=d.myServiceName.replace(d.domainSuffix,""),b.Ob[c].friendlyName+=" ("+d+")")):(b.Ob[c].friendlyName="Connecting...",b.dJ[c]=j)}b.MR++;b=this.Ng;c=m;b.MR==b.g5&&(c=j);if(c&&(t(this.oh)&&(b=this.oh,b.Ng=this.Ng,t(b.tt)&&b.tt.o(),t(b.Us)&&b.Us.o(),b.G&&(b.Us=new zV("facebook",b.Ng,b.kc),b.O(b.Us),b.Us.T(K("facebook-chat",b.c())),b.tt=new zV("google",b.Ng,b.kc),b.O(b.tt),b.tt.T(K("google-chat",b.c()))),this.h().e(this.oh,"settings.ui.AddAssociatedService",this.wZ).e(this.oh,"settings.ui.DelAssociatedService",
this.KG).e(this.oh,"settings.ui.AssociatedServiceAttributeClicked",this.HZ)),a=a.w("data.serviceName"),this.Ng.dJ[a]))if(this.QK[a]++<this.FY)S("service "+a+" is showing connecting message, so retry associated service for friendly name"),setTimeout(w(this.bw,this),1E3);else{S("still showing connecting message after a couple retries, so update "+a+" to connected");b=this.oh;b.Ng.Ob[a].friendlyName="Connected";switch(a){case "google":EV(b.tt);break;case "facebook":EV(b.Us)}this.QK[a]=0}};
p.wZ=function(a){a.preventDefault();this.Ci(a.qb())};p.Ci=function(a){this.kc=a;var b="",c=500;"google"==a?(b="gtalk",c="500"):"facebook"==a&&(b="facebook",c="750");a=Jj()?"http://":"https://";a=a+window.location.host+"/.associate/"+b+"?origin="+this.Wb;this.Hp&&(a=this.Hp(a));"mobile"!=this.Wb?(this.pl=window.open(a,"verifier","status=0,toolbar=0,menubar=0,location=1,directories=0,scrollbars=1,height=575,width="+c),setTimeout(w(this.lT,this),750)):window.location.href=a};
p.KG=function(a){a.preventDefault();var b=OW.deleteServiceConfirmation.content,c='<img src="'+P("desktop/images/service-")+a.qb()+'.png" class="service-icon"/>',b=b.replace("{serviceIconImg}",c),b=b.replace("{userName}",a.w6);VW(this,"deleteServiceConfirmation",b);this.h().e(this.gf,Im,ua(this.$U,a.qb()),m,this)};p.$U=function(a,b){this.zm();b.key!=Jm&&$s(Y.j(),a,w(this.xP,this))};p.xP=function(){this.bw()};
p.bw=function(){this.Ng=new uU;var a=w(this.C0,this);Zs(Y.j(),"facebook",a);Zs(Y.j(),"google",a)};p.HZ=function(a){a.preventDefault();this.kc=a.qb();var b=a.MM(),b="0"==b?"1":"0",c=Y.j(),d=a.qb(),a=a.getAttribute(),f=w(this.IZ,this),d={serviceName:d};d[a]=b;$(c,"service","setAttributes",d,f)};p.IZ=function(){this.bw()};p.lT=function(){this.pl==k||this.pl.closed?setTimeout(w(this.xP,this),3E3):setTimeout(w(this.lT,this),750)};
function SW(a){at(Y.j(),w(function(a){bt(Y.j(),w(this.k0,this,new yV(a.w("data"))))},a))}function WW(a){at(Y.j(),w(function(a){bt(Y.j(),w(this.R3,this,new yV(a.w("data"))))},a))}p.j0=function(a){if(t(this.Oc)){var b=this.Oc,a=a.w("data");try{var c=a.notificationFilter.aim;if(t(c)){var d=K("like-pref",b.c()),f=K("comment-pref",b.c());t(d)&&(d.checked=c.like);t(f)&&(f.checked=c.comment)}}catch(g){S("problems setting aim notification prefs",g)}}};
p.k0=function(a,b){var c=b.w("data");this.sz?this.sz.setData(c):this.sz=new tU(c);this.sz.jf=a;this.oh&&this.oh.o();this.oh=new zU(this.sz,this.kc,this.Wb);this.bw();this.h().e(this.oh,"settings.ui.NotificationClicked",this.Sz).e(this.oh,"settings.ui.DeleteClicked",this.LG).e(this.oh,"settings.ui.AddClicked",this.Uq);this.jS(this.oh);c=-1!=cc().toLowerCase().search("chrome");!this.Ry&&!this.$Q&&!c&&(c=window.location.hash,0<c.length&&(c=c.substring(1).split(":"),"reauth"===c[0]&&(this.$Q=j,this.Xj(c[1]))));
"mobile"!=this.Wb&&"client"!=this.Wb&&(c=new tg("Close settings"),c.Ud("Close settings"),c.ga("closeSettings"),c.rc("tbutton"),c.rc("blue"),c.rc("closeButton"),this.h().e(c,Fc(Qf),this.DG),this.dS(c))};p.Sz=function(a){var b=a.qb(),c=a.jZ,a=a.eZ;this.kc=b;var d=Y.j(),f=w(this.U2,this);$(d,"lifestream","setNotificationFilter",{service:b,name:c,value:a},f)};p.Uq=function(a){a.preventDefault();this.kc=a.qb();this.Xj(a.qb())};
p.LG=function(a){var b=OW.deleteServiceConfirmation.content,c='<img src="'+P("desktop/images/service-")+a.qb()+'.png"/>',b=b.replace("{serviceIconImg}",c),b=b.replace("{userName}",a.d5);VW(this,"deleteServiceConfirmation",b);this.h().e(this.gf,Im,ua(this.J_,a.qb()),m,this)};p.J_=function(a,b){b&&"deleteServiceConfirmation"==zm(b.target).id&&"delete"==b.key&&this.Wk(a);this.zm()};p.jS=function(a){Sc("serviceListContainer")&&a.qa(Sc("serviceListContainer"))};p.dS=function(a){a.T(K("services"))};
p.Wk=function(a){Y.j().Wk(a,w(this.o2,this))};p.Xj=function(a){this.sm?S("cant have two oauth windows at once man!"):(this.sm=new zW(this.EN,a,this.Wb,this.Hp),this.sm.mm()?this.h().e(this.sm,"settings.ui.OauthClosed",this.D1):(this.sm.o(),this.sm=k))};p.D1=function(a){this.sm.o();this.sm=k;this.Ry?this.dispatchEvent(a):SW(this)};p.o2=function(){this.kc=k;SW(this)};p.U2=ba();
p.h4=function(a){this.kz.setData(a.na);var a=this.kz,b={type:"Sounds",key:"playIMSound",vo:"Play a sound for incoming messages"};1===a.LR.playIMSound?b.value="true":b.value="false";a.Do.Sounds.playIMSound=b;TW(this)};function TW(a){a.mh&&a.mh.o();a.mh=new JV(a.kz,a.kc);a.h().e(a.mh,"settings.ui.MessagingButtonClicked",a.l3).e(a.mh,"settings.ui.MessagingPreferenceClicked",a.m3).e(a.mh,"settings.ui.UploadFile",a.n3);a.hS(a.mh);"client"==a.Wb&&"app"in window&&(a.yh=Vl("soundFile"),QV(a.mh,a.yh))}
p.l3=function(a){a=a.z();switch(a){case "useNewSoundPreview":ov(fv.j(),P("common/sound/voom.mp3"));break;case "useClassicSoundPreview":ov(fv.j(),P("common/sound/imrcv_new.mp3"));break;case "useFileSoundPreview":this.yh&&this.yh.length&&ov(fv.j(),this.yh);break;case "deleteSoundFile":this.yh&&(Wl("soundFile",""),a=this.yh.replace(/.*?&fileId=([^&]*).*/,"$1"),lt(Y.j(),a),this.yh="",QV(this.mh,this.yh))}};
p.m3=function(a){this.kc=a.Cb;"client"==this.Wb&&"app"in window?(Wl(a.Ub,a.md),this.iS()):Ys(Y.j(),a.Ub,a.md,w(this.iS,this))};p.n3=function(a){var b=a.u4;this.SD=new dR(r._aim_session_,w(this.p3,this,b),w(this.CQ,this,b),w(this.o3,this,b));var c=w(this.SD.abort,this.SD);b.ms=c;this.SD.upload(a.wM,a.wM.files[0].name)};
p.p3=function(a,b){var c=b.currentTarget.nf();if("response"in c)var d=c.response.data.url;if(d){Wl("soundFile",d);if(this.yh){var f=/.*?&fileId=([^&]*).*/,c=this.yh.replace(f,"$1"),f=d.replace(f,"$1");c!=f&&lt(Y.j(),c)}this.yh=d;QV(this.mh,d);ov(fv.j(),this.yh)}else this.CQ(a,b)};
p.CQ=function(a,b){RV(this.mh);var c=b.currentTarget,d="Unable to upload.";try{if(c){var f=u(c.nf)?VH(c.nf()):VH(c);f&&(d=f)}else d=VH(b)}catch(g){}(c=d)?(K("error-label",a.c()).innerHTML=il(c),a.Om(j)):(K("error-label",a.c()).innerHTML="",a.Ib())};p.o3=function(a,b){var c=b.currentTarget;u(c.VM)&&a.SR(100*c.mA,100)};p.hS=function(a){a.T(K("pref-list"))};p.iS=function(){this.mh&&this.mh.aJ()};
p.B0=function(a){this.Oc&&this.Oc.o();this.Oc=new AW(a.na,window.app&&window.app.AIMLogger);var a=Y.j(),b=w(this.a3,this);$(a,"preference","get",h,b);bt(Y.j(),w(this.j0,this));this.h().e(this.Oc,"settings.ui.BuddyOnlyGroupChat",this.yG).e(this.Oc,"settings.ui.GlobalOTR",this.SG).e(this.Oc,"settings.ui.LocalLogging",this.eH).e(this.Oc,"settings.ui.UpdatesPrivacy",this.L3).e(this.Oc,"settings.ui.CommentsPrivacy",this.x_).e(this.Oc,"settings.ui.NotificationClicked",this.Sz);this.kS(this.Oc);WW(this)};
p.a3=function(a){if(this.Oc){var b=this.Oc;if(a=a.na.data){b.D().P("buddyOnlyGroupChat",b.c()).checked=1==a.imblastInviteFromBuddyOnly;var c=b.D().P("globalOTR",b.c());c&&(c.checked=0==a.globalOTR)}if(b=b.D().P("localLogging",b.c()))a=r._aim_session_.m(),b.checked="true"==Vl(a+"local-logging"),b.disabled=!c.checked}};p.yG=function(a){Ys(Y.j(),"imblastInviteFromBuddyOnly",a.Qb?"true":"false",w(this.VZ,this))};p.VZ=function(){t(this.Oc)&&FW(this.Oc)};
p.SG=function(a){Ys(Y.j(),"globalOTR",a.Qb?"true":"false",w(this.F0,this))};p.eH=function(a){var b=r._aim_session_.m();Wl(b+"local-logging",a.Qb?"true":"false")};p.L3=function(a){kt(Y.j(),"viewPrivacy",a.w(),w(this.K3,this))};p.x_=function(a){kt(Y.j(),"commentPrivacy",a.w(),w(this.w_,this))};p.F0=function(){this.Oc&&KW(this.Oc)};p.K3=function(){this.Oc&&LW(this.Oc)};p.w_=function(){this.Oc&&MW(this.Oc)};p.kS=function(a){a.T(K("prefs-list"))};
function XW(a,b){var c=a.WY.response.data.devices,d=k;c&&A(c,function(a){a.deviceNumber==b&&(d=a)});return d}
p.y0=function(a){if(!t(a)||0!=a.response.statusCode)VW(this,"deviceReadFailed",OW.deviceReadFailed.content.replace("{details}",a.response.statusText)),Mf(this.h(),this.gf,Im,this.zm);this.WY=a;this.Oq&&this.Oq.o();this.Oq=new oW(a);this.h().e(this.Ed,"settings.ui.WriteDeviceClicked",this.b4).e(this.Oq,"settings.ui.DeleteDeviceClicked",this.F_).e(this.Oq,"settings.ui.SendCodeClicked",this.uQ).e(this.Oq,"settings.ui.WriteServiceClicked",this.d4);this.XI(this.Oq);this.ou&&this.h().e(this.Ed,"settings.ui.SendMessageClicked",
this.L2);new qV(w(this.A0,this),w(this.z0,this))};p.L2=function(a){var b=a.rm;VW(this,"getApp",OW.getApp.content.replace("{phone}",b?b:""));Mf(this.h(),this.gf,Im,ua(function(a,b){if("confirm"==b.key){var f=K("app-phone-number",this.gf.c());if(!vW(f.value)){f.value=k;return}new sV(f.value,a)}this.zm()},a.pq()),m,this)};p.XI=function(a){a.T(K("mobile-device-list"))};p.TM=function(){new kV(k,w(this.y0,this))};
p.A0=function(a){a=a.response.data.value;this.mz&&this.mz.o();this.mz=new wW(a);this.XI(this.mz);this.h().e(this.mz,"settings.ui.SetPrivacyClicked",this.W2)};p.z0=function(){VW(this,"getPrivacyFailed",OW.getPrivacyFailed.content);Mf(this.h(),this.gf,Im,this.zm)};p.F_=function(a){VW(this,"mobileDeleteDevice",OW.mobileDeleteDevice.content.replace("{phone}",uW(a.rm)));Mf(this.h(),this.gf,Im,ua(this.G_,a.rm),m,this)};
p.G_=function(a,b){b&&("mobileDeleteDevice"==zm(b.target).id&&"delete"==b.key&&new lV(a),setTimeout(w(this.TM,this),750));this.zm()};p.W2=function(a){new rV(a.OH)};p.d4=function(a){new pV(a.jV,a.Ga(),a.VV)};p.b4=function(a){var b=a.rm;vW(b)&&(XW(this,b)?(VW(this,"deviceExists",OW.deviceExists.content),Mf(this.h(),this.gf,Im,this.zm)):new oV(b,w(function(){this.uQ(new sW(b))},this)))};p.uQ=function(a){var b=a.rm;new mV(b,w(function(){YW(this,b)},this))};
function YW(a,b,c){var d=c?"retryConfirmCode":"confirmCode",f=OW[d].content,f=c?f.replace("{code}",c):f.replace("{phone}",uW(b));VW(a,d,f);var g=K("confirmation-code",a.gf.c());g.focus();Mf(a.h(),a.gf,Im,ua(function(c,d){"confirm"==d.key&&g&&g.value&&new nV(g.value,b,function(){new kV(b,function(c){(c=c.response.data.devices[0])&&c.deviceNumber==b&&new pV(c.deviceId,2,2,function(){a.wf(new kW(a.ou))})})},function(){YW(a,b,g.value)});this.zm()},b),m,a)}
p.R3=function(a){if(t(this.Oc)){var b=this.Oc,a=a.getData();if(t(a)){var c=b.D();b.hw=a.privacySettings;if(t(b.hw))switch(b.hw){case "public":c.P("updates-public",b.c()).checked=j;break;case "buddies":c.P("updates-buddies",b.c()).checked=j;break;case "private":c.P("updates-private",b.c()).checked=j}b.vs=a.commentingPrivacy;if(t(b.vs))switch(b.vs){case "public":c.P("comments-public",b.c()).checked=j;break;case "buddies":c.P("comments-buddies",b.c()).checked=j;break;case "private":c.P("comments-private",
b.c()).checked=j}}}};p.K0=function(a){Ys(Y.j(),"viewIMsInBubbles",a.Qb.toString(),w(this.L0,this))};p.L0=function(){t(this.$s)&&WV(K("historyStyleSaved",this.Ed.c()))};p.O0=function(a){Ys(Y.j(),"viewIMTimestampsRelative",a.Qb.toString(),w(this.P0,this))};p.P0=function(){t(this.$s)&&WV(K("timestampStyleSaved",this.Ed.c()))};

function ZW(a,b){V.call(this,b);this.Xa=new sG;this.Xa.le(m);this.Xa.mC=m;this.Xa.Ej(this);this.Xa.QQ=m;A(a,function(a){this.Xa.O(a,j)},this)}z(ZW,V);ZW.prototype.T=function(a){ZW.g.T.call(this,a);this.Xa.T(a);a=this.Xa.sa();C(a,"hey-toolbar")};



function cU(a,b){this.Bb=new Kf(this);this.ca=a;this.Ha=a.Ha;if(this.VB=t(this.ca.as))this.ca.eB=m;var c=gk(this.by(),this.ca.Sa());Rg.call(this,c,this.ca,b);this.ca.qo&&this.rc("new-activity");this.Aa=new Eo;$W(this)}z(cU,Rg);p=cU.prototype;p.WB=k;function $W(a){a.VB=t(a.ca.as);a.WB=a.D().P("actions",a.sa());if(a.VB){var b="";switch(a.ca.as){case "deny":b="Declined";break;case "confirm":b="Accepted"}a.WB.appendChild(gk(aX,{type:a.ca.as,label:b}))}else A(a.ca.CK,a.dC,a)}
p.dC=function(a){a=new RT(a,this.ca);this.O(a);a.T(this.WB)};p.v=function(){cU.g.v.call(this);this.Ha&&C(this.c(),this.Ha);this.Aa.qa(K("hey-timestamp",this.c()));this.Aa.setTime(this.ca.Lg)};p.n=function(){cU.g.n.call(this);this.Bb.o();Rd(this.Aa)};p.ec=function(){return this.H()};p.ve=function(){return this.ec().z()};p.fm=ba();
p.RF=function(){var a=Md(this.D(),"a","nlink",this.c());A(a,function(a){var b=a.getAttribute("service"),f=a.getAttribute("chatservice");(t(b)||t(f))&&this.h().e(a,"click",w(function(g){t(b)?this.dispatchEvent(new yU(b)):this.dispatchEvent(new BV(f.toLowerCase()));a.href="#";g.preventDefault();g.stopPropagation()},this))},this);a=this.D().P("delete",this.c());t(a)&&this.h().e(a,"click",w(function(a){this.dispatchEvent(new QT(this.ca));a.preventDefault();a.stopPropagation()},this));if("aim"==this.ca.ub()){var a=
this.D().P("userIcon",this.c()),b=this.D().P("userName",this.c()),a=[Md(this.D(),"a",k,a)[0],Md(this.D(),"a",k,b)[0]];A(a,function(a){a&&this.ca.Un()&&this.h().e(a,"click",w(function(a){r._aim_session_.dispatchEvent(new zL(jr(this.ca.Un())));a.preventDefault();a.stopPropagation()},this))},this)}};p.Zu=function(){lg(this,"new-activity")};p.by=function(){var a;if("tag"==HB(this.ca))a=bX;else switch(this.ca.ub()){case "gmail":case "aolmail":a=cX;break;default:a=dX}return a};


function LU(a){FU.call(this,"CONNECT",new eX(a),a);OU(this)}z(LU,FU);function eX(a){Ug.call(this,a);this.Ob=[];this.O(new fX,j);this.h().e(this,"action",this.Pk)}z(eX,Ug);eX.prototype.Pk=function(a){a=a.target;a instanceof fX&&(window.location.href=Ul.SETTINGS+"/notifications");a instanceof gX&&this.dispatchEvent(new yU(a.rb))};function hX(a,b){a.Ob=b;iX(a)}eX.prototype.Ci=function(a){zb(this.Ob,a);iX(this)};
function iX(a){a.D().YH(a.c());A(Ym,function(a){0>ub(this.Ob,function(c){return c.service==a})&&this.O(new gX(a),j)},a);a.O(new fX,j)}eX.prototype.v=function(){eX.g.v.call(this);C(this.c(),"hey-menu r hey-options")};function fX(){Rg.call(this,y("Edit your social notifications"))}z(fX,Rg);fX.prototype.v=function(){fX.g.v.call(this);C(this.c(),"edit-services")};function gX(a){Rg.call(this,y("Add "+Xm(a)));this.rb=a}z(gX,Rg);

function jX(a){Il.call(this,"aim-hey-controller-"+x());this.W5=a||m;this.Dg={};this.gr=new WT;A(Ym,function(a){var c=new bV(a);this.Dg[a]=c},this);this.cF()}z(jX,Il);ga(jX);p=jX.prototype;p.gi=k;p.pw=k;p.Le=function(a){return a instanceof aC?rb(Fc(this.Dg),function(b){return b.Le(a)}):m};p.start=function(){this.q().T(Sc("aim-hey-widget"));kX(this,w(this.RG,this));var a=Y.j(),b=w(this.wz,this);ct(a,b)};
p.cF=function(){this.h().e(Jl(),"lifestream",this.wm,j).e(Jl(),"notification",this.kH,j).e(this.q(),"settings.ui.AddClicked",this.uG).e(this.q(),"settings.ui.DeleteClicked",this.I_).e(this.q(),"settings.ui.AddAssociatedService",this.tG)};function lX(a){a.gi=new LU;return a.gi}p.n=function(){jX.g.n.call(this);Cc(this.Dg,function(a){a.o()},this);this.gr.o();delete this.gr;this.xh&&(this.xh.o(),delete this.xh);this.gi&&(this.gi.o(),delete this.gi)};
p.q=function(){if(ia(this.pw)){var a=[];this.W5||a.push(lX(this));A(Fc(this.Dg),function(b){a.push(b.Md)});this.pw=new ZW(a);this.h().e(this.pw,"aim.hey.action-taken",this.qZ);this.gr.q().Ej(this.pw)}return this.pw};function mX(a,b){A(Fc(a.Dg),b,a)}p.fx=function(a){mX(this,function(b){S("clearing from: ",b);b.Xe(a.z())});this.gr.fx(a);var b=a.Ha;S("clearing activity: ",a);t(b)&&et(Y.j(),a.z(),b)};
p.qZ=function(a){if(OT(a,"gotoPicnic")){a.preventDefault();a.stopPropagation();var b=a.ec(),c=a.fn.Ul();ia(c)?S("no imservId found with the group chat accept event!!"):ia(b)?S("no activity found with the group chat accept event!!"):this.q().dispatchEvent(new PT(c))}else OT(a,"rejectPicnic")?(a.preventDefault(),a.stopPropagation(),b=a.ec(),ia(b)&&e("Cant reject a groupp chat without an activity!!"),b.z(),b=a.fn.Ul(),ia(b)?S("no imservId found with the group chat reject event!!"):Ts(Y.j(),b)):S("Unrecognized action command type");
if(t(a.ec())){b=a.ec();a=a.fn.Ga();b.as=a;GB(b);b.eB=m;if(this.gr.UC(b))this.gr.fx(b,this.Dg.aim.ua());else if(c=nX(this,b),t(c)){var d=c.sa(),f=c.ca.Sa();d.innerHTML=c.by()(f);$W(c)}t(a)&&"unknown"!=a&&(c=Y.j(),b=b.z(),$(c,"lifestream","heyTakeAction",{id:b,action:a},h))}};p.kH=function(a){var b=a.ub(),c=this.Dg[b];t(c)&&(a.Ga()===Qr.rw?(fU(c.ua(),Xm(b)),IU(c.Md),ia(this.gi)||this.gi.ua().Ci(b)):a.Ga()===Qr.uw&&(VU(c),ia(this.gi)||(a=this.gi.ua(),Cb(a.Ob,b),iX(a))),delete this.Ob)};
function nX(a,b){var c=k;A(Fc(a.Dg),function(a){Xf(a.ua(),function(a){a instanceof cU&&a.ve()==b.z()&&(c=a)})});return c}p.C1=function(){kX(this,w(this.RG,this));var a=Y.j(),b=w(this.wz,this);ct(a,b)};function kX(a,b){u(a.Ob)?b(a.Ob):at(Y.j(),w(a.LP,a,b))}p.LP=function(a,b){this.Ob=[];if(kr(b))try{A(b.w("data.userDetails.services"),function(a){this.Ob.push(a)},this)}catch(c){S(c)}a(this.Ob)};
p.RG=function(a){var b=m;try{A(a,function(a){var c=a.service;b=b||"aim"==c;var d=this.Dg[c];t(d)&&(fU(d.ua(),Xm(c)),OU(d.Md),IU(d.Md),j===a.requiresReauth?PU(d.Md):QU(d.Md))},this)}catch(c){S(c)}if(!b){var d=this.Dg.aim;d&&(fU(d.ua(),Xm("aim")),OU(d.Md),IU(d.Md))}ia(this.gi)||hX(this.gi.ua(),a)};p.uG=function(a){a=a.qb();"aim"!=a&&(this.Re().Xj(a),Mf(this.h(),this.Re(),"settings.ui.OauthClosed",this.C1,j))};
p.I_=function(a){a=a.qb();VU(this.Dg[a]);this.Re().Wk(a);at(Y.j(),w(this.LP,this,w(this.RG,this)))};p.tG=function(a){this.Re().Ci(a.qb())};p.wz=function(a){var a=a.w("data.activities"),a=qb(a,function(a){return LB(Ol(a))}),b=new XU(a);A(Gc(b.ra),function(a){xb(Ym,a)&&this.Dg[a].eC(YU(b,a))},this)};p.Re=function(){return t(this.xh)?this.xh:this.xh=new QW("web-hey-settings-controller",j)};p.wm=function(a){a=KB(a.ec());t(a)&&(a=this.Dg[a],t(a)&&(PU(a.Md),HU(a.Md)))};




function oX(){jg.call(this,"")}z(oX,jg);p=oX.prototype;p.l=function(){var a=new W;this.KS(a);this.K(gd(a.toString()))};p.v=function(){oX.g.v.call(this);this.h().e(this.c(),"mousedown",w(this.Au,this)).e(this.c(),"dblclick",w(this.AP,this));this.Fk()?this.rc("selected"):lg(this,"selected")};p.$=function(){oX.g.$.call(this);this.h().M(this.c(),"mousedown",w(this.Au,this)).M(this.c(),"dblclick",w(this.AP,this));lg(this,"selected")};
p.Au=function(a){this.isEnabled()&&(this.ri(j),a.stopPropagation(),a.preventDefault(),this.dispatchEvent(pX))};p.AP=function(){this.isEnabled()&&this.dispatchEvent(qX)};p.Fk=function(){var a=this.getParent();return t(a)&&a.of()==this};p.update=ba();p.ri=function(a){rX(this,a);a&&!this.Fk()?this.dispatchEvent("select"):!a&&this.Fk()&&this.dispatchEvent("unselect")};function rX(a,b){b&&!a.Fk()?a.rc("selected"):!b&&a.Fk()&&lg(a,"selected")}p.ez=o(j);var pX="aim.client.ui.ListItem.MouseDown",qX="aim.client.ui.ListItem.DoubleClick";

function sX(a){jg.call(this,"");this.ca=a;this.Aa=new Eo;this.cp(j)}z(sX,oX);p=sX.prototype;
p.v=function(){sX.g.v.call(this);var a=this.D().P("delete",this.c());t(a)&&this.h().e(a,"click",w(function(a){this.dispatchEvent(new tX(this.ca));a.preventDefault();a.stopPropagation()},this));this.Aa.qa(K("hey-timestamp",this.c()));this.Aa.setTime(this.ca.Lg);if("aim"==this.ca.ub()){var a=this.D().P("userIcon",this.c()),b=this.D().P("userName",this.c()),a=[Md(this.D(),"a",k,a)[0],Md(this.D(),"a",k,b)[0]];A(a,function(a){a&&this.ca.Un()&&this.h().e(a,"click",w(function(a){r._aim_session_.dispatchEvent(new zL(jr(this.ca.Un())));
a.preventDefault();a.stopPropagation()},this))},this);a=Md(this.D(),"a","nlink",this.c());A(a,function(a){var b=a.getAttribute("service"),f=a.getAttribute("chatservice");(t(b)||t(f))&&this.h().e(a,"click",w(function(g){t(b)?this.dispatchEvent(new yU(b)):this.dispatchEvent(new BV(f.toLowerCase()));a.href="#";g.preventDefault();g.stopPropagation()},this))},this)}};p.n=function(){sX.g.n.call(this);Rd(this.Aa)};
p.KS=function(a){var b=this.ca.Sa();(b=gd(this.by()(b)).outerHTML)&&(b=b.replace(/(^|>)\s+(<|$)/g,"$1$2"));a.append(b)};p.Au=ba();p.ec=n("ca");p.by=function(){var a;if("tag"==HB(this.ca))a=bX;else switch(this.ca.ub()){case "gmail":case "aolmail":a=cX;break;default:a=dX}return a};function uX(a){A(Tc("a",k,a.c()),function(a){a.target="_blank"})}p.Zu=function(){lg(this,"new-hey-activity")};p.Kc=function(a){return t(a)&&a instanceof sX&&a.ec().z()==this.ec().z()};
function tX(a){L.call(this,"aim.client.ui.HeyServiceListPanel.DeleteActivityEvent");this.ca=a}z(tX,L);tX.prototype.ec=n("ca");

function vX(a){jg.call(this,"");this.Ea=a;this.ak=-1}z(vX,oX);p=vX.prototype;p.v=function(){vX.g.v.call(this)};p.$=function(){vX.g.$.call(this)};p.n=function(){vX.g.n.call(this);-1<this.ak&&Be(this.ak)};p.KS=function(a){a.append(gd(YT()).outerHTML);this.ak=N(w(this.YI,this),3E3)};p.YI=function(){this.D().pR(gk(ZT,{rb:this.Ea}),this.sa())};

function wX(){}z(wX,wg);ga(wX);wX.prototype.la=o("aimlist");wX.prototype.sd=o("listbox");wX.prototype.xv=function(a,b,c){wX.g.xv.call(this,a,b,c)};wX.prototype.Hf=function(a){return wX.g.Hf.call(this,a)};

function xX(a,b){Bg.call(this,h,a||wX.j(),b);this.Sb=k;this.Ag="";this.Gh()}z(xX,Bg);p=xX.prototype;p.nU=j;p.Sb=k;p.v=function(){xX.g.v.call(this);this.Ye(this.Sb)};p.n=function(){xX.g.n.call(this);this.Sb=k;this.Ri()};p.Gh=function(){this.h().e(this,"select",this.gN).e(this,"unselect",this.hN).e(this,"disable",this.eN).e(this,"hide",this.fN)};p.Ri=function(){this.Sb=k;this.h().M(this,"select",this.gN).M(this,"unselect",this.hN).M(this,"disable",this.eN).M(this,"hide",this.fN)};
p.removeChild=function(a,b){this.Sb==a&&(this.Sb=k);this.yn(a);a.Uf(m);return xX.g.removeChild.call(this,a,b)};p.uv=function(a){xX.g.uv.call(this,a);this.nU&&this.Ye(Zf(this,a))};p.of=n("Sb");p.Ye=function(a){a?!this.Sb||this.Sb.z()!=a.z()?(a.ri(j),this.Sb=a):rX(a,j):this.Sb&&(this.Sb.ri(m),this.Sb=k)};p.Qn=function(){return ag(this,this.of())};p.yn=function(a){a&&a==this.Sb&&this.Ye(k)};p.gN=function(a){this.Sb&&this.Sb!=a.target&&rX(this.Sb,m);this.Sb=a.target};
p.hN=function(a){a.target==this.Sb&&(this.Sb=k)};p.eN=function(a){this.yn(a.target)};p.fN=function(a){this.yn(a.target)};p.rk=function(){if(!Eg(this)){var a=this.of()||Zf(this,0);a&&this.Uf(a)}};
function yX(a,b){var c=b.length;if(a.G)if(0==Yf(a))A(b,function(a){this.O(a,!a.G)},a);else{for(var d=0;d<c;d++){var f=Zf(a,d),g=f,i=m;a.WU&&a.WU.Kc(b[d])&&(f.update(),a.G&&!f.c()&&(d==c-1?f.T(a.c()):Wf(f,Zf(a,d+1).c())),i=j);if(!i&&(f=zX(a,b[d],d)))g=f,a.bg(f,d,!f.G),f.update(),i=j;i||(a.bg(b[d],d,!b[d].G),g=b[d]);a.G&&!g.c()&&(d==c-1?g.T(a.c()):Wf(g,Zf(a,d+1).c()))}for(;Zf(a,c);)a.removeChild(Zf(a,c),Zf(a,c).G)}}
p.GI=function(a){this.Ag=a=Sa(a);var b=k;Xf(this,function(c){var d=c.ez(a);c.L(d);d&&b?(b.L(j),b=k):(b&&b.L(m),b=c)},this);b&&b.L(m)};function zX(a,b,c){for(var d=Yf(a);c<d;c++){var f=Zf(a,c);if(b.Kc&&b.Kc(f))return f}return k}p.dk=function(){Ca(this.Ag)||(this.Ag="");this.GI(this.Ag)};gg("aimlist",function(){return new xX});

function AX(a,b,c){po.call(this,j);this.Ea=a;this.qc=b;this.ra=c||[];this.ia=new xX;this.LE=m;this.Vf(2);this.Ki=this.Ea}z(AX,aA);p=AX.prototype;p.l=function(){this.K(this.ba.createElement("div"))};
p.K=function(a){AX.g.K.call(this,a);a=this.c();a.style.height="100%";var b;b=this.Ea;var c=this.qc,d=new W;d.append('<div class="activitiespanel ',X(b),'"><div class="activitiespanel-header"><span class="activitiespanel-header-name">',X(c),'</span><\!-- <div class="activitiespanel-header-close"></div> --\></div><div class="activitiespanel-content"></div></div>');b=d.toString();a.innerHTML=b;this.O(this.ia)};
p.v=function(){AX.g.v.call(this);var a=K("activitiespanel-content",this.c());this.ia.qa(a);qf(a,m,H);BX(this)};p.$=function(){AX.g.$.call(this)};p.qb=n("Ea");function BX(a){var b=[];A(a.ra,function(a){zb(b,new sX(a))});0==b.length?(zb(b,new vX(Xm(a.Ea))),a.LE=m):a.LE=j;yX(a.ia,b);a.LE&&A(b,function(a){uX(a);a.ca.qo&&a.rc("new-hey-activity")})}p.pv=ca("ra");p.mR=function(){Xf(this.ia,function(a){a instanceof sX&&a.Zu()},this)};

function CX(){Hl.call(this);var a=DX();a&&this.h().e(a,"click",this.f1)}z(CX,Hl);CX.prototype.Xh=k;function EX(a,b){a.Xh={};A(Ym,function(a){var d=k,f=m;A(Fc(b),function(b){b.service==a?(d=b.serviceUserName||b.serviceUser,f=j===b.requiresReauth):"aim"==a&&"thirdparty"==b.service&&(d=b.displayName)},this);this.Xh[a]=new FX(a,d,f)},a);GX(a)}CX.prototype.reset=function(){this.Xh={};GX(this)};
function GX(a){var b=DX(),c=K("selected",b),d=c?c.getAttribute("sidebarId"):k,f=[],g=[];Cc(a.Xh,function(a){var b=a.lw?f:g,c=Xm(a.yb);a.Nk&&(c="Error. Reconnect "+c);b.push({id:a.lw||"",Dr:a.yb,count:a.count||"",La:c,selected:a.lw&&d&&d==a.yb?"true":"",Nk:a.Nk})});"true"==Vl("sidebar-inactive-icons-hidden")||(f=Fb(f,g));a={DI:f};b&&(b.innerHTML=bz(a))}function HX(a,b,c){a.Xh[b]&&(a.Xh[b].count=c,GX(a))}function IX(a,b){var c=a.Xh[b];return c?c.lw:""}
function JX(a,b){var c=a.Xh[b];return c?c.Nk:m}CX.prototype.f1=function(a){for(a=a.target;a.parentNode&&"button"!=a.getAttribute("role")&&"menu"!=a.getAttribute("role")&&"BUTTON"!=a.tagName;)a=a.parentNode;(a=a.getAttribute("sidebarid"))&&this.dispatchEvent(new KX(a))};function DX(){return K("client-container-sidebar-services")}function FX(a,b,c){this.yb=a;this.lw=b;this.count="";this.Nk=j===c}function KX(a){L.call(this,"ViewActivitiesEvent");this.Ea=a}z(KX,L);KX.prototype.qb=n("Ea");

function LX(){Il.call(this,"aim.client.HeyController");this.HS=new Date;this.oi=new CX;this.KJ={};this.zd=k;this.KC=-1;this.wk()}z(LX,Il);ga(LX);function MX(a,b,c){a.KJ[b]=c;var d=YU(a.ra,b),c=0<c&&rb(d,function(a){return a.qo&&"client_upgrade"==a.Ga()})?"NEW":c||0;HX(a.oi,b,c)}p=LX.prototype;
p.wk=function(){var a=Jl();this.h().e(this,"ViewActivitiesEvent",this.OQ).e(this.oi,"ViewActivitiesEvent",this.OQ).e(a,fo,this.Vb,j).e(a,"lifestream",this.wm).e(a,"notification",this.kH).e(Ai(window.App),"aim.ui.CommandController.QueryUpdate",this.Io).e(Ai(window.App),"aim.ui.CommandController.Action",this.Pk,j);a.xa()==cm&&this.Vb(new FA(0,cm))};
p.OQ=function(a){Be(this.KC);var b=a.qb();(a=IX(this.oi,b))&&!JX(this.oi,b)?(a=new AX(b,a,YU(this.ra,b)),a.show(),this.zd=a,this.KJ[b]&&(MX(this,b,0),$U(this.ra,b),NX(b),this.KC=N(this.zd.mR,5E3,this.zd)),this.h().e(this.zd,"aim.client.ui.HeyServiceListPanel.DeleteActivityEvent",this.Bz).e(this.zd,qo,this.gP).e(this.zd,"settings.ui.AddClicked",this.uG).e(this.zd,"settings.ui.AddAssociatedService",this.tG)):JX(this.oi,b)?(a=jn(b),Mf(this.h(),a,Im,function(a){"remove"==a.key?(a=Xm(b),a=new gn("Yes, remove "+
a,MU,{yb:a}),$m(a,"confirm-remove-service"),a.L(j),Mf(this.h(),a,Im,function(a){"yes"==a.key&&window.App.Re().Wk(b)})):a.key!=Jm&&(UW(window.App.Re()),window.App.Re().Xj(b))})):(UW(window.App.Re()),window.App.Re().Xj(b))};p.Bz=function(a){this.ra.Xe(a.ec());BX(this.zd);dt(Y.j(),a.ec().z())};p.gP=function(){this.zd&&(this.h().M(this.zd,"aim.client.ui.HeyServiceListPanel.DeleteActivityEvent",this.Bz).M(this.zd,qo,this.gP),this.zd=k)};
p.Vb=function(a){R("client.HeyController::onSessionStateChange_");switch(a.ud){case bm:this.ra=k;this.oi.reset();break;case cm:at(Y.j(),w(this.E0,this))}};p.cS=function(a){this.dispatchEvent(new KX(a))};
p.wm=function(a){if(a.Pt()&&(a=a.ec(),a.Lg.getTime()>this.HS.getTime()&&a.Pt()&&xb(Ym,a.Ha))){var b=m;t(this.ra)?b=this.ra.io(a,0):(this.ra=new XU([a]),b=j);if(b){t(this.zd)&&this.zd.qb()==a.ub()?(BX(this.zd),this.KC=N(this.zd.mR,5E3,this.zd),$U(this.ra,a.ub()),NX(a.ub())):(b=a.ub(),MX(this,b,(this.KJ[b]||0)+1));var b=a.Sa(),c=Xm(b.rb);""==c&&(c=b.yb||b.Pa);var d=new W;b.rb&&t(b.Pa)&&d.append(b.Pa).append(" ");d.append(gl(b.Yv));b.zl&&d.append(' \n\n"').append(gl(b.zl)).append('"');b.id&&c&&0<d.toString().length&&
HF(GF.j(),b.id,c,d.toString(),w(this.cS,this),a.ub())}b=KB(a);t(b)&&(a=this.oi,b=a.Xh[b],t(b)&&(b.Nk=j,GX(a)))}};p.E0=function(a){EX(this.oi,a.w("data.userDetails.services"));var a=Y.j(),b=w(this.wz,this);ct(a,b)};p.wz=function(a){var b=[];kr(a)&&(a=a.w("data.activities"),b=qb(a,function(a){return LB(Ol(a))}));t(this.ra)?ZU(this.ra,b):this.ra=new XU(b);A(Gc(this.ra.ra),function(a){var b=aV(this.ra,a);MX(this,a,b)},this)};function NX(a){var b=Y.j();et(b,k,h,a,fa)}
p.kH=function(a){if(a.Ga()===Qr.rw){this.ra.Xj(a.ub());var b=this.oi,c=a.ub();b.Xh[c]=new FX(c,a.tE());GX(b)}else if(a.Ga()===Qr.uw){this.ra.Wk(a.ub());b=this.oi;if(c=b.Xh[a.ub()])c.lw="",c.count="",c.Nk=m,GX(b);this.zd&&this.zd.qb()==a.ub()&&this.cS("aim")}};p.Io=function(a){a=a.getItem();if(1801==a.tag){var b="true"==Vl("sidebar-inactive-icons-hidden");a.title=b?Tz.title:Uz.title}};
p.Pk=function(a){1801==a.getItem().tag&&(a="true"==Vl("sidebar-inactive-icons-hidden"),Wl("sidebar-inactive-icons-hidden",a?"false":"true"),GX(this.oi))};p.uG=function(a){a=a.qb();"aim"!=a&&(UW(window.App.Re()),window.App.Re().Xj(a))};p.tG=function(a){UW(window.App.Re());window.App.Re().Ci(a.qb())};

function OX(a,b){V.call(this);this.vc(a);this.zk=t(b)?b:m;this.PU=new PX(this.H().z())}z(OX,V);p=OX.prototype;
p.l=function(){OX.g.l.call(this);Gl(this,Hy,this.H().Sa());var a=K("title",this.c()),b=K("body",this.c());a&&(a.innerHTML=a.innerHTML.replace(/\n/g,"<br />"));b&&(b.innerHTML=b.innerHTML.replace(/\n/g,"<br />"));this.Wg=K("activity-comments",this.c());this.MS=K("comment-control",this.c());this.DJ=K("comment-control-label",this.c());this.KF=K("like-control-section",this.c());this.tY=K("like-count",this.c());this.Aa=new Eo(this.H().Lg);this.Aa.qa(K("timestamp",this.c()));this.Oi=K("activity-comment-list",
this.c());a=SB(this.H());0<a.length&&QX(this,a);0<this.H().Jp.length&&this.O(this.PU,j);this.h().e(this.c(),"click",this.Kb)};p.v=function(){OX.g.v.call(this);RX(this,this.c());0<this.H().iz.length&&(this.GO(),this.h().e(window,"resize",w(this.GO,this)))};
function RX(a,b){if(t(b)){var c=Tc("a",k,b);A(c,function(a){if(""==a.href)pd(document.createTextNode(a.innerHTML),a);else if(F(a,"profile-url")&&F(a,"aim")){C(a,"do-chat");var b=K("user-icon",a);t(b)&&C(b,"do-chat");a=K("user-name",a);t(a)&&C(a,"do-chat")}else a.setAttribute("target","_blank")},a)}}
p.GO=function(){var a=K("media",this.c()),b=K("media-control",this.c()),c=K("content",this.c());100*this.H().iz.length>jf(c).width?t(b)||(b=this.ba.createElement("div"),C(b,"media-control"),b.title="show more",nd(a,b,0),C(a,"collapsed"),this.h().e(b,"click",w(this.NS,this))):t(b)&&(this.h().M(b,"click",w(this.NS,this)),D(a,"collapsed"),od(b))};p.NS=function(){var a=K("media",this.c()),b=K("media-control",this.c());F(a,"collapsed")?(D(a,"collapsed"),b.title="show less"):(C(a,"collapsed"),b.title="show more")};
function QX(a,b){var c=Gb(b);if(a.Oi){for(var d=2<c.length;2<c.length;)c.shift();SX(a,c,d)}}
function SX(a,b,c){a.Oi&&(kd(a.Oi),c=t(c)?c:m,3>b.length&&!c?(a.DJ.innerHTML="",C(a.MS,"hidden")):(a.DJ.innerHTML=c?Ry({count:PB(a.H())}):Sy(),D(a.MS,"hidden")),TX(a,!c),A(b,function(a){if(this.Oi){var b=gk(Qy,a);this.Oi.appendChild(b);a=new Date(1E3*a.timestamp);isNaN(a.getTime())&&(a=new Date);(new Eo(a)).qa(K("comment-time",b));RX(this,b);b=K("delete-comment",b);t(b)&&this.h().e(b,"click",this.D_)}},a));a.Oi.hasChildNodes()?D(a.Wg,"empty"):C(a.Wg,"empty")}
p.qC=function(a){this.vc(a);var b=K("activity-comment",this.c());if(t(b)){for(var c=Gb(a.fg),b=b.getAttribute("cid");c[0]&&c[0].id!=b;)c.shift();SX(this,c,c.length!=a.Fl)}else QX(this,a.fg)};p.tA=function(a){this.H().tA(a)&&(3>this.Oi.childNodes.length?QX(this,SB(this.H())):SX(this,SB(this.H()),!F(this.Wg,"show-less")))};function UX(a){a.KF.innerHTML=Jy({$f:a.H().$f()});var b=a.tY,c=a.H().$f(),d=a.H();b.innerHTML=Ky({$f:c,zo:d.nj});a.H().$f()?C(a.KF,"liked"):D(a.KF,"liked")}
p.Kb=function(a){var b=a.target;if(F(b,"comment-control")||Ld(b,"comment-control"))if(F(this.Wg,"show-less")){this.DJ.innerHTML=Ry({count:PB(this.H())});C(this.Wg,"show-all");for(D(this.Wg,"show-less");2<this.Oi.childNodes.length;)this.Oi.removeChild(this.Oi.firstChild)}else this.dispatchEvent(new VX(this.H().z())),TX(this),pt(Vt);else if(F(b,"delete-activity"))this.Bz();else if(F(b,"like-control")||Ld(b,"like-control")){var c=this.H().z();this.dispatchEvent(this.H().$f()?new WX(c):new XX(c));this.H().$f()?
pt(Rt):pt(Qt);TB(this.H(),!this.H().$f());UX(this)}else if(F(b,"likers"))this.dispatchEvent(new YX(this.H().z())),pt(St);else if(F(b,"user-icon")||F(b,"profile-url")||F(b,"comment-userName"))if(Ld(b,"activity-comment")?pt(Yt):pt(Xt),F(b,"do-chat")){a.preventDefault();a.stopPropagation();a=F(b,"profile-url")?b:Ld(b,"profile-url");try{c=a.href.split("=").pop(),r._aim_session_.dispatchEvent(new zL(jr(c)))}catch(d){S("unable to start chat from profile link",d)}}};
p.Bz=function(){t(this.Pi)&&(this.h().M(this.Pi,Im,this.uP),this.Pi.o());this.Pi=new gn("Yes, delete this update",Wy);$m(this.Pi,"confirm-delete-activity");this.Pi.L(j);this.h().e(this.Pi,Im,this.uP)};p.uP=function(a){"no"!=a.key&&(this.dispatchEvent(new ZX(this.H().z())),pt(Wt))};function TX(a,b){(t(b)?b:F(a.Wg,"show-less"))?(C(a.Wg,"show-less"),D(a.Wg,"show-all")):(C(a.Wg,"show-all"),D(a.Wg,"show-less"))}
p.D_=function(a){try{var b=Ld(a.target,"activity-comment").getAttribute("cid");S("going to delete comment "+b);this.dispatchEvent(new $X(this.H().z(),b));pt(Ut)}catch(c){S("issues trying to find activity comment to delete",c)}};function PX(a){$K.call(this,"lifestream_comment_");this.QT=a;this.pi("Write a comment...")}z(PX,$K);p=PX.prototype;p.v=function(){PX.g.v.call(this);this.fe().c().title="Write a comment"};p.l=function(){PX.g.l.call(this);Gl(this,Ty)};
p.clear=function(){PX.g.clear.call(this);var a=this.fe();a&&a.ev();this.blur()};p.iB=function(a){this.dispatchEvent(new aY(this.QT,a));this.clear();pt(Tt)};p.Zh=function(a){var b=this.fe();b.Nf||(b.ga(b.w().substr(0,1024)),PX.g.Zh.call(this,a))};p.lg=function(a){var b=this.fe();1024<b.w().length&&b.ga(b.w().substr(0,1024));PX.g.lg.call(this,a)};function VX(a){L.call(this,"LifestreamActivity.GetComments");this.ya=a}z(VX,L);VX.prototype.z=n("ya");
function aY(a,b){L.call(this,"LifestreamActivity.PostComment");this.ya=a;this.RU=b}z(aY,L);aY.prototype.z=n("ya");function $X(a,b){L.call(this,"LifestreamActivity.DeleteComment");this.ya=a;this.OU=b}z($X,L);$X.prototype.ve=n("ya");$X.prototype.bE=n("OU");function ZX(a){L.call(this,"LifestreamActivity.DeleteActivity");this.ya=a}z(ZX,L);ZX.prototype.ve=n("ya");function XX(a){L.call(this,"LifestreamActivity.LikeActivity");this.ya=a}z(XX,L);XX.prototype.ve=n("ya");
function WX(a){L.call(this,"LifestreamActivity.UnlikeActivity");this.ya=a}z(WX,L);WX.prototype.ve=n("ya");function YX(a){L.call(this,"LifestreamActivity.ShowActivityLikers");this.ya=a}z(YX,L);YX.prototype.ve=n("ya");

function bY(){$K.call(this,"lifestream_post_");this.pi("What\u2019s up?");this.Vc=[];this.eu=this.LF=m}z(bY,$K);p=bY.prototype;p.K=function(a){bY.g.K.call(this,a);this.Rk=K("posting-button",this.c())};p.l=function(){bY.g.l.call(this);Gl(this,Ny)};p.v=function(){bY.g.v.call(this);this.h().e(this.Rk,"click",this.Zh);this.fe().c().title="Compose status update"};p.Zh=function(a){var b=this.fe();b.Nf||(b.ga(b.w().substr(0,251)),bY.g.Zh.call(this,a))};
p.Sr=function(){var a=Vc("has-max-status-length",this.c());if(a){var b=this.fe(),c=!b||b.Nf?"":b.c().value,b=0;Ca(c)||(b=ps(c).length);for(c=0;c<a.length;c++){var d=a[c],f=F(d,"active"),d=K("social-posting-form-count",d);f?(f=parseInt(d.getAttribute("maxStatusLength"),10)-b,d.innerHTML=f,0>f?C(d,"negative-count"):D(d,"negative-count")):d.innerHTML=""}}};p.clear=function(){bY.g.clear.call(this);var a=this.fe();a&&a.ev();this.blur();this.Fr.innerHTML=""};
p.hp=function(a){this.Vc=a;var b=(Vl("status-crosspost-services")||"").split(","),c=gk(Oy),d=k,f=k;a&&a.length&&A(a,function(a){if(a.canPushStatus){var c=xb(b,a.service);"facebook"==a.service?d=gk(Py,{rb:a,yb:cY[a.service],selected:c}):"twitter"==a.service&&(f=gk(Py,{rb:a,yb:cY[a.service],selected:c}))}});d&&c.appendChild(d);f&&c.appendChild(f);a=this.D().P("social-crosspost-toggles",this.c());pd(c,a);A(Vc("social-crosspost-toggle",c),this.SE,this);this.NL=c;this.WS=f;this.Fr=K("status-size-counter",
this.c());dY(this)};p.SE=function(a){var b=K("crosspost-icon",a);this.h().e(b,"click",w(this.vH,this,a))};p.vH=function(a){Vb(a,"active");Vb(a,"inactive");this.zS();dY(this)};function dY(a){a.LF=t(a.WS)&&F(a.WS,"active");a.LF?eY(a):a.Fr.innerHTML=""}
p.zS=function(){var a=Vc("social-crosspost-toggle",this.NL),b=[];a&&0<a.length&&this.Vc&&0<this.Vc.length&&A(a,function(a){if(F(a,"active")){var d=a.getAttribute("data-service");rb(this.Vc,function(a){return a.service==d})&&b.push(d)}},this);Wl("status-crosspost-services",b.join(","))};p.pE=function(){var a=[];A(this.Vc,function(b){var c=K(b.service,this.NL);c&&F(c,"active")&&a.push(b)},this);return a};p.iB=function(a){this.dispatchEvent(new fY(a,this.pE()));this.clear()};p.jg=function(){return jf(this.c()).height};
p.Wn=function(a){this.eu&&13==a.keyCode?(a.stopPropagation(),a.preventDefault()):bY.g.Wn.call(this,a);this.eu=m};p.lg=function(a){var b=this.fe();251<b.w().length&&b.ga(b.w().substr(0,251));this.LF&&eY(this);bY.g.lg.call(this,a)};function eY(a){var b=140-a.w().length;D(a.Fr,"over-limit");26>b?(a.Fr.innerHTML=b,0>b&&(C(a.Fr,"over-limit"),a.eu=j)):a.Fr.innerHTML="";(a.Rk.disabled=a.eu)?C(a.Rk,"disabled"):D(a.Rk,"disabled")}function fY(a,b){L.call(this,"PostingForm.Submit");this.Gb=a;this.Vc=b||[]}
z(fY,L);fY.prototype.Ma=n("Gb");

function gY(){V.call(this);this.da=new bY}z(gY,V);p=gY.prototype;p.l=function(){gY.g.l.call(this);Gl(this,Fy,{});this.HL=K("control-bar",this.c());K("activities-container",this.c());this.cf=K("activities",this.c());this.E4=K("last-refresh-time",this.c());this.un=K("current-filter",this.c());this.iq=K("filters",this.c());O(this.iq,m);this.h().e(this.un,"keyup",this.n0)};
p.v=function(){gY.g.v.call(this);this.O(this.da);Wf(this.da,this.HL);N(function(){this.da.focus()},10,this);this.h().e(K("do-refresh",this.c()),"click",w(this.nV,this))};p.n=function(){gY.g.n.call(this);this.da.o()};p.n0=function(a){40==a.keyCode&&a.target.click()};p.hp=function(a){this.da.hp(a)};
p.yv=function(a){A(Vc("service",this.iq),function(a){od(a)},this);xb(a,"aim")||a.unshift("aim");A(a,function(a){"twitter"!=a&&this.iq.appendChild(gk(Gy,{rb:a,yb:cY[a]}))},this);a=this.un.getAttribute("filter");a=K(a,this.iq);t(a)&&C(a,"active");a=new tq;a.qa(this.iq);this.O(a);this.h().e(a,"action",this.eE)};
p.sv=function(a){var b;b="all"==a?"View all":"me"==a?"My updates":cY[a];this.un.setAttribute("filter",a);this.un.innerHTML=b;A(Vc("do-filter",this.iq),function(b){b.getAttribute("filter")==a?C(b,"active"):D(b,"active")},this)};p.pv=function(a,b){hY(this);if(0==a.length){var c={},d=this.un.getAttribute("filter");"all"!=d&&(c.serviceName=cY[d]);this.cf.innerHTML=My(c)}else this.Mw(a,b)};
function hY(a,b){for(var c=Yf(a)-1;0<=c;c--){var d=Zf(a,c);d instanceof OX&&a.removeChild(d,j)}kd(a.cf);t(b)&&b&&(c=a.ba.createElement("div"),C(c,"loading-activities"),a.cf.appendChild(c))}p.io=function(a){a=new OX(a);this.O(a);var b=K("lifestream-activity",this.cf),c=this.cf.scrollTop;t(b)?Wf(a,K("lifestream-activity",this.cf)):(kd(this.cf),a.T(this.cf));0<c&&(this.cf.scrollTop=c+jf(a.c()).height);iY(this)};
p.Mw=function(a,b){var c=t(b)?b:m;A(a,w(function(a){a=new OX(a);this.O(a);a.T(this.cf)},this));c?(t(this.fl)&&od(this.fl),this.fl=gk(Uy,{}),this.h().e(this.fl,"click",w(this.wQ,this)),this.cf.appendChild(this.fl)):t(this.fl)&&(od(this.fl),this.fl=k);iY(this)};p.$H=function(a){var b=jY(this,a.z());t(b)&&(b.vc(a),SX(b,a.fg),iY(this))};p.BB=function(a){var b=jY(this,a.z());t(b)&&(b.vc(a),F(b.Wg,"show-less")?SX(b,a.fg):QX(b,a.fg),iY(this))};p.pC=function(a){var b=jY(this,a.z());t(b)&&b.qC(a)};
p.WH=function(a,b){var c=jY(this,a);t(c)&&c.tA(b)};p.Qr=function(a){a=jY(this,a);t(a)&&(UX(a),iY(this))};p.VI=function(a){K("like-list-dialog",this.c())||(a=gk(Ly,{vY:a.wO}),this.c().appendChild(a),O(a,j),this.h().e(window,"mousedown",this.NO),this.h().e(a,"mousedown",this.MG))};p.MG=function(a){F(a.target,"do-chat")?(kY(this),a=a.target.href.split("=").pop()||"",r._aim_session_.dispatchEvent(new zL(jr(a)))):"close"==a.target.className&&kY(this)};
p.Xe=function(a){a=jY(this,a);t(a)&&(this.removeChild(a),a.o());if(!this.cf.hasChildNodes()){var a={},b=this.un.getAttribute("filter");"all"!=b&&(a.serviceName=cY[b]);this.cf.innerHTML=My(a)}};p.wQ=function(){this.dispatchEvent(new lY);this.fl.innerHTML="loading...";this.h().M(this.fl,"click",w(this.wQ,this));pt($t)};p.eE=function(a){a=a.target.c();F(a,"active")||(a=a.getAttribute("filter"),this.dispatchEvent(new mY(a)),this.sv(a),hY(this,j));this.un.focus()};
function jY(a,b){var c=k;Xf(a,function(a){a instanceof OX&&a.H().z()==b&&(c=a)},a);return c}p.nV=function(){this.dispatchEvent(new nY);pt(Zt)};function iY(a){var b=t(h)?h:new Date,c="am",d=b.getHours(),b=b.getMinutes();11<d&&(c="pm",12<d&&(d-=12));0==d&&(d=12);10>b&&(b="0"+b);c=bb(d,":",b," ",c);S("lifestream activities refresh time: "+c);a.E4.innerHTML=c}function kY(a){a.h().M(window,"mousedown",a.NO);a=K("like-list-dialog",a.c());re(a);od(a)}
p.NO=function(a){K("like-list-dialog",this.c())&&(a=a.target,F(a,"like-list-content")||Ld(a,"like-list-content")&&!F(a,"close")||kY(this))};p.bB=function(){hY(this,m);var a=this.cf,b;b=new W;b.append('<div class="no-activities load-error">Sorry, unable to retrieve your activities.</div>');b=b.toString();a.innerHTML=b};function lY(){L.call(this,"LifestreamActivityList.ShowMoreActivities")}z(lY,L);function nY(){L.call(this,"LifestreamActivityList.RefreshActivities")}z(nY,L);
function mY(a){L.call(this,"LifestreamActivityList.FilterActivities");this.mf=a}z(mY,L);

function oY(){V.call(this);this.od=new gY}z(oY,V);p=oY.prototype;p.l=function(){oY.g.l.call(this);Gl(this,Ey,{});this.O(this.od,j)};p.v=function(){oY.g.v.call(this);this.h().e(window,"resize",w(this.mi,this)).e(this.od,"PostingForm.Resized",w(this.mi,this))};p.n=function(){oY.g.n.call(this);this.od.o()};p.mi=function(){var a=this.od,b=jf(this.c().parentNode).height,c=b-jf(a.HL).height-a.da.jg();a.c().style.height=We(b+"px",j);a.cf.style.height=We(c+"px",j)};p.pv=function(a,b){this.od.pv(a,b)};
p.Mw=function(a,b){this.od.Mw(a,b)};p.io=function(a){this.od.io(a)};p.$H=function(a){t(a)&&this.od.$H(a)};p.BB=function(a){t(a)&&this.od.BB(a)};p.pC=function(a){this.od.pC(a)};p.WH=function(a,b){this.od.WH(a,b)};p.Xe=function(a){this.od.Xe(a)};p.hp=function(a){this.od.hp(a)};p.yv=function(a){this.od.yv(a)};p.Qr=function(a){this.od.Qr(a)};p.VI=function(a){this.od.VI(a)};p.sv=function(a){this.od.sv(a)};p.isVisible=function(){return t(this.od)&&this.od.isVisible()};p.bB=function(){this.od.bB()};
var cY={aim:"AIM",facebook:"Facebook",twitter:"Twitter",instagram:"Instagram",youtube:"YouTube",gmail:"Gmail",aolmail:"AOL Mail"};

function pY(){Il.call(this,"aim.LifestreamController");this.ra={};this.Ch=[];this.Vc=[];this.Ku=1;this.up="all";this.vp="me";this.be=this.up;this.vi=[];this.yB=0;this.h().e(Jl(),"lifestream",w(this.wm,this));this.zO=m}z(pY,Il);ga(pY);p=pY.prototype;p.$r=["aim","facebook","instagram"];p.Fj=ba();p.Ut=o(m);
function qY(){var a=rY();t(a.J)||(a.J=new oY);a.zO||(a.h().e(Jl(),"notification",a.S3),a.zO=j);a.sA();at(Y.j(),w(a.w3,a));a.be==a.vp&&sY(a);re(a.J);a.h().e(a.J,"LifestreamActivityList.FilterActivities",w(a.eE,a)).e(a.J,"LifestreamActivityList.ShowMoreActivities",w(a.w5,a)).e(a.J,"LifestreamActivity.ShowActivityLikers",w(a.d3,a)).e(a.J,"LifestreamActivity.LikeActivity",w(a.sY,a)).e(a.J,"LifestreamActivity.UnlikeActivity",w(a.l6,a)).e(a.J,"LifestreamActivity.DeleteActivity",w(a.eV,a)).e(a.J,"LifestreamActivity.DeleteComment",
w(a.fV,a)).e(a.J,"LifestreamActivity.PostComment",w(a.q4,a)).e(a.J,"LifestreamActivity.GetComments",w(a.vW,a)).e(a.J,"LifestreamActivityList.RefreshActivities",w(a.sA,a)).e(a.J,"PostingForm.Submit",w(a.r4,a))}p.h2=function(a){kr(a)?(0==this.Vc.length&&(this.Vc=a.w("data.servicesWithPush",[])),tY(this,a.w("data.activities")),this.J.hp(this.Vc),this.J.pv(uY(this),a.w("data.isMore"))):(this.J.bB(),S("Arg, problems fetching activitities",a))};
p.i2=function(a){kr(a)?(tY(this,a.w("data.activities")),this.J.pv(uY(this),a.w("data.isMore"))):(this.J.bB(),S("Arg, problems fetching activitities",a))};function tY(a,b,c){var d=[];t(c)&&c?A(b,w(function(a){var b=new MB(a);b.wb()?S("not adding empty activity",a):(this.ra[b.z()]=b,xb(this.Ch,b.z())||(zb(this.Ch,b.z()),zb(d,b.z())))},a)):ob(b,w(function(a){var b=new MB(a);b.wb()?S("not adding empty activity",a):(this.ra[b.z()]=b,xb(this.Ch,b.z())||(Ab(this.Ch,b.z()),zb(d,b.z())))},a));return d}
p.sA=function(){for(var a;a=this.Ch.pop();)delete this.ra[a];this.Ku=1;this.be==this.vp?jt(Y.j(),this.Ku,w(this.i2,this)):it(Y.j(),50,this.Ku,this.be,w(this.h2,this));this.yB=0;this.Fj(this.yB)};p.vW=function(a){vY(a.z(),w(this.v_,this))};p.q4=function(a){var b=Y.j(),c=a.z(),d=w(this.t_,this,a.z());$(b,"lifestream","addComment",{activityId:c,comment:a.RU},d)};p.fV=function(a){var b=Y.j(),c=a.ve(),d=w(this.s_,this,a.ve(),a.bE());$(b,"lifestream","deleteComment",{activityId:c,commentId:a.bE()},d)};
p.eV=function(a){var b=Y.j(),c=a.ve(),a=w(this.tZ,this,a.ve());$(b,"lifestream","deleteActivity",{activityId:c},a)};p.sY=function(a){var b=Y.j(),c=a.ve(),a=w(this.uZ,this,a.ve());$(b,"lifestream","addLike",{activityId:c},a)};p.l6=function(a){var b=Y.j(),c=a.ve(),a=w(this.vZ,this,a.ve());$(b,"lifestream","deleteLike",{activityId:c},a)};p.d3=function(a){vY(a.ve(),w(this.s5,this))};p.eE=function(a){this.be=a.mf;this.sA()};p.t_=function(a){vY(a,w(this.hU,this))};
p.s_=function(a,b,c){kr(c)&&this.J.WH(a,b)};p.tZ=function(a,b){kr(b)&&(Cb(this.Ch,a),delete this.ra[a],this.J.Xe(a))};p.uZ=function(a,b){kr(b)||S("problems trying to like activity",b)};p.vZ=function(a,b){kr(b)||S("problems trying to unlike activity",b)};p.hU=function(a){kr(a)&&(a=new MB(a.w("data.activity")),this.ra[a.z()]=a,this.J.pC(a))};p.s5=function(a){kr(a)&&(a=new MB(a.w("data.activity")),this.ra[a.z()]=a,this.J.VI(a))};
function vY(a,b){var c=Y.j();$(c,"lifestream","getActivity",{activityId:a},b)}p.r4=function(a){var b=a.Ma(),c=[];A(a.Vc,function(a){c.push(a.service)});Es(Y.j(),r._aim_user_,b,c,w(this.Z1,this,b))};p.Z1=function(a){S("Set status response:",a)};function uY(a,b){var c=[];A(t(b)?b:a.Ch,w(function(a){c.push(this.ra[a])},a));return c}p.v_=function(a){kr(a)&&(a=new MB(a.w("data.activity")),this.ra[a.z()]=a,this.J.$H(a))};
p.w5=function(){this.be==this.vp?jt(Y.j(),++this.Ku,w(this.YO,this)):it(Y.j(),50,++this.Ku,this.be,w(this.YO,this))};p.YO=function(a){kr(a)?this.J.Mw(uY(this,tY(this,a.w("data.activities"),j)),a.w("data.isMore")):S("Arg, problems fetching activitities",a)};p.w3=function(a){if(kr(a)){this.vi=[];try{A(a.w("data.userDetails.services"),function(a){xb(this.$r,a.service)&&this.vi.push(a.service)},this),this.be!=this.vp&&!xb(this.vi,this.be)&&(this.be=this.up),this.J.sv(this.be),this.J.yv(this.vi)}catch(b){S(b)}}};
p.wm=function(a){if(wY(this,a))if(this.Ut()){this.yB=0;var b=a.ec(),c=b.z();if(a.Lt())zb(this.Ch,c),vY(c,w(this.TX,this));else if(a.ca instanceof UB)switch(b.Ga()){case VB:Cb(this.Ch,c);delete this.ra[c];this.J.Xe(c);break;case WB:a.fO?TB(this.ra[c],j)&&(QB(this.ra[c],b.El-1),this.J.Qr(c)):(QB(this.ra[c],b.El),this.J.Qr(c));break;case XB:a.fO?TB(this.ra[c],m)&&(RB(this.ra[c],b.El-1),this.J.Qr(c)):(RB(this.ra[c],b.El),this.J.Qr(c));break;case YB:this.ra[c].qC(t(b.ea)?b.ea:[{}]);this.J.BB(this.ra[c]);
break;case ZB:A(t(b.ea)?b.ea:[{}],function(a){this.ra[c].tA(a.id)},this),this.J.BB(this.ra[c])}}else a.Lt()&&this.Fj(++this.yB);else S("not claiming this lifestream event",a)};function wY(a,b){var c=k;if(b.Lt()){if(xb(a.Ch,b.ec().z()))return S("not claiming event because we already have this activity",b.ec()),m;c=b.ec().ub()}else if(b.ca instanceof UB){var d=b.ec().z();t(a.ra[d])&&(c=a.ra[d].ub())}return!c?m:a.be==a.up&&xb(a.$r,c)||a.be==a.vp&&xb(a.$r,c)&&a.ra[b.ec().z()].St()||a.be==c?j:m}
p.TX=function(a){kr(a)&&(a=new MB(a.w("data.activity")),a.wb()?Cb(this.Ch,a.z()):(this.ra[a.z()]=a,this.J.io(a)))};p.S3=function(a){var b=a.ub();if(xb(this.$r,b))if(a.Ga()==Qr.rw){var c=Gb(this.vi);zb(c,b);this.vi=[];A(this.$r,function(a){xb(c,a)&&this.vi.push(a)},this);sY(this);this.Ut()&&this.J.yv(this.vi)}else a.Ga()==Qr.uw&&(Cb(this.Vc,b),Cb(this.vi,b),this.be!=this.vp&&this.be!=this.up&&!xb(this.vi,this.be)&&(this.be=this.up),this.Ut()&&(this.J.sv(this.be),this.J.yv(this.vi),this.Vc=[],this.sA()))};
function sY(a){it(Y.j(),10,1,a.up,w(a.y4,a))}p.y4=function(a){kr(a)?(this.Vc=a.w("data.servicesWithPush",[]),this.Ut()&&this.J.hp(this.Vc)):S("problems fetching push services",a)};

function xY(){po.call(this,h);this.Vf(2);this.Ki="commons";this.J=new oY}z(xY,aA);xY.prototype.K=function(a){xY.g.K.call(this,a);a.style.height="100%";this.O(this.J,j)};xY.prototype.show=function(){xY.g.show.call(this);this.J.mi()};xY.prototype.q=n("J");

function yY(){pY.call(this);this.Oa=new xY;this.J=this.Oa.q()}z(yY,pY);ga(yY);yY.prototype.wf=function(){this.Oa.show()};yY.prototype.Fj=function(a){iT(window.App).XA("commons",a)};yY.prototype.Ut=function(){return Mr(this.Oa)};

function zY(){V.call(this)}z(zY,V);zY.prototype.l=function(){zY.g.l.call(this);this.Eg=AY;Gl(this,this.Eg)};zY.prototype.K=function(a){zY.g.K.call(this,a)};zY.prototype.v=function(){zY.g.v.call(this)};zY.prototype.CG=function(){this.dispatchEvent("settings.ui.SettingsCloseClicked")};

function BY(a,b,c){QW.call(this,a,m,b,c);this.Ns=k}z(BY,QW);p=BY.prototype;p.q=function(){this.Ns||(this.Ns=new zY,this.h().e(this.Ns,"settings.ui.SettingsCloseClicked",this.X2));return this.Ns};p.X2=function(){this.Ns.o()};p.jS=function(a){a.qa(K("service-list-container",this.q().c()))};p.kS=function(a){a.T(K("prefs-list",this.q().c()))};p.hS=function(a){a.T(K("pref-list",this.q().c()))};p.XI=function(a){a.T(K("mobile-device-list",this.q().c()))};
p.gS=function(a){a.qa(K("settingsSectionChoicesList",this.q().c()))};p.dS=function(a){a.T(K("services",this.q().c()))};p.XR=function(){var a=K("general-panel",this.q().c());this.h().e(a,"click",ua(this.KP)).e(this.Ed,"settings.ui.MultiWindowMode",this.y1)};p.y1=function(a){this.dispatchEvent(a)};p.wf=function(a){t(this.Ed)&&this.Ed.o();this.Ed=a;this.h().e(this.Ed,"settings.ui.PanelActivated",this.hQ);this.Ed.T(K("rightPanel",this.q().c()))};p.OM=function(){var a=this.q().c();return J(a)};p.DG=ba();

function FE(){Il.call(this,"client-identitycontroller");this.UH()}z(FE,Il);ga(FE);p=FE.prototype;p.UH=function(){this.h().e(Ai(window.App),"aim.ui.CommandController.QueryUpdate",this.Io).e(Ai(window.App),"aim.ui.CommandController.Action",this.Pk).e(r._aim_session_,fo,this.Vb)};p.Y2=function(a){a.target==this.Vd&&(this.Gj=this.Vd=k)};p.w2=function(a){Ci(a.Zc)};
function CY(a,b){var c=t(b)&&t(b.preference)?b.preference:"general";if(a.Vd){var d=Co(a.Vd);if(d){var f=d.va();if(f)if(f.closed)U("Found settingsWrapperPanel_ parent window, but the window was closed."),d=k;else if(!f.document||!f.document.body||f.document.body.hasAttribute("x-closed")){U("Found settingsWrapperPanel_ parent window, but the window was marked closed.");try{f.close()}catch(g){}d=k}else U("Found settingsWrapperPanel_ parent window, it should be open.");else d=k}if(!d){U("Cleaning up settingsWrapperPanel_ with no window.");
try{a.Vd.o()}catch(i){}a.Vd=k;a.Gj=k}}a.Vd?(U("Showing existing settingsWrapperPanel_."),a.Gj.oc(c),iT(window.App).wf(a.Vd)):(U("Creating settingsWrapperPanel_."),a.Gj=new BY("settingsdropdowncontroller","client",w(window.App.Gi.Er,window.App.Gi)),UW(a.Gj),d=a.Gj.q(),ia(d)||(a.Vd=new YQ("settings",d,j),a.h().e(a.Vd,qo,a.Y2).e(a.Vd,Ir,function(){this.Gj.oc(c)}).e(a.Gj,"settings.ui.ResetPasswordClicked",a.w2).e(a.Gj,"settings.ui.MultiWindowMode",a.Z2),a.Vd.gp("AIM Preferences"),a.Vd.wF=vo,a.Vd.Vf(ro),
a.Vd.EI(new Bc(720,700)),Pr(a.Vd,new Bc(720,420)),U("Displaying settingsWrapperPanel_."),a.Vd.show()));U("settingsWrapperPanel_ should be displayed.")}p.Vb=function(a){a.ud==bm&&this.Vd&&(this.Vd.o(),this.Gj=this.Vd=k)};
p.Io=function(a){var b=CT(window.App)?r._aim_user_.xa(j):k,a=a.getItem();switch(a.tag){case 1041:a.enabled=CT(window.App);a.checked=CT(window.App)&&(!b||"online"==b);break;case 1042:a.enabled=CT(window.App);a.checked=CT(window.App)&&"away"==b;break;case 1043:a.enabled=CT(window.App);a.checked=CT(window.App)&&"mobile"==b;break;case 1044:a.enabled=CT(window.App),a.checked=CT(window.App)&&"invisible"==b}};
p.Pk=function(a){a=a.getItem();switch(a.tag){case 1041:Y.j().ka("online");break;case 1042:Y.j().ka("away");break;case 1043:Y.j().ka("mobile");break;case 1044:Y.j().ka("invisible");break;case 31E3:CY(this,a)}};p.Z2=function(a){a="tabbed"==a.XY;window.App.xb()!=a&&window.App.VA(a)};

function DY(a,b){jg.call(this,k);this.lS=t(a)?a:m;this.cu="state-offline";this.gT=!b}z(DY,jg);p=DY.prototype;p.l=function(){this.K(this.ba.createElement("div"))};p.K=function(a){DY.g.K.call(this,a);var a=this.c(),b;b=this.lS;var c=new W;c.append('<div class="identitybadge-content offline"><img class="identitybadge-icon"/>',b?'<div class="sprite identitybadge-state state-offline"><img src="'+X(P())+'common/spritelo/LoSprite.png"/></div>':"","</div>");b=c.toString();a.innerHTML=b};
p.v=function(){DY.g.v.call(this);var a=this.h();a.e(window.App.ad,"myInfo",this.bQ).e(r._aim_session_,fo,this.ph);this.gT&&a.e(r._aim_user_,"aim.User.BigIcon",this.bQ);this.ew(r._aim_user_)};p.bQ=function(){this.ew(r._aim_user_)};p.ph=function(a){a.ud==bm&&EY(this,"offline")};
function EY(a,b){var c=K("identitybadge-content",a.c());c.className="identitybadge-content";C(c,b);var c=K("identitybadge-state",a.c()),d;if(c){switch(b){case "online":d="state-available";break;case "away":d="state-away";break;case "idle":d="state-idle";break;case "mobile":d="state-mobile";break;default:d="state-offline"}Sb(c,a.cu,d);a.cu=d}}p.ew=function(a){a&&(K("identitybadge-icon",this.c()).setAttribute("src",this.gT?Eu(a):a.Zb()),this.lS&&EY(this,a.xa(j).toLowerCase()),BE(a.R()))};

function FY(a){Zm.call(this);var b=a.firstName||"",c=a.lastName||"",a="all"!=a.hideLevel;this.zb("Edit Your Name");this.pa(Vy({zM:b,kO:c,x4:a})||"");b=new bn;b.Ta({caption:"Save",key:"save"},j);b.Ta({caption:"Close",key:"cancel"},m,j);Gm(this,b);this.h().e(this,Im,this.Y_);C(an(this),"danger");this.L(j);this.focus()}z(FY,Zm);
FY.prototype.Y_=function(a){var b=a.target;if(b){if("save"==a.key){var c=K("editfriendly-first-input",b.c()).value,d=K("editfriendly-last-input",b.c()).value,b=K("editfriendly-pushfriendlyname-input",b.c()).checked?"emailsAndCellular":"all";gt(Y.j(),c,d,b)}re(a.target);a.target.o()}};

function GY(a){uw.call(this,gk(az));qm(this);this.dp(j);this.oB=a;this.bq=new Kf(this);this.lu=this.Ae=k;document.body.appendChild(this.c());this.dp(m);this.GN=new DY;Wf(this.GN,HY(this));Su()||(C(IY(this),"uneditable"),O(HY(this),m),O(K("screenname",this.c()),m));this.L(j);this.L(m);if(this.Ae=xi(K("state-button",this.c()),zF,"STATE_ITEMS"))this.lu=this.Ae.ua();this.UH()}z(GY,uw);p=GY.prototype;p.Cv=j;p.GN=k;p.n=function(){this.Cv=m;this.bq.Rd();this.c()&&od(this.c());GY.g.n.call(this)};
p.show=function(){!this.isVisible()&&!this.Cv&&(vw(this,1),this.vd(new Hf(this.oB,0)),this.dT(),this.L(j))};p.L=function(a){!GY.g.L.call(this,a)&&this.Ae&&this.Ae.mb(m)};p.Ib=function(){this.Cv&&!F(document.activeElement,"newfirstname")&&!F(document.activeElement,"newlastname")&&this.L(m)};
p.dT=function(){var a=r._aim_user_;Ad(IY(this),a.R());Ad(K("screenname",this.c()),a.we());var b=K("statechange",this.c());if(b){var c,d;switch(a.xa(j).toLowerCase()){case "online":c="Available";d="state-available";break;case "away":c="Busy";d="state-away";break;case "idle":c="Idle";d="state-idle";break;case "mobile":c="Offline";d="state-mobile";break;default:c="Invisible",d="state-offline"}var f=K("state-text",this.c());Ad(f,c);this.cu&&D(b,this.cu);d&&C(b,d);this.cu=d}Ad(K("client-identityhovercard-status",
this.c()),a.lb())};p.UH=function(){this.bq.e(this.oB,"mouseover",this.hH).e(this.oB,"click",this.show).e(this.oB,"mouseout",this.gH).e(this.c(),"mouseover",this.hH).e(this.c(),"mouseout",this.gH);if(this.lu){var a=this.lu.c();this.bq.e(a,"mouseover",this.hH).e(a,"mouseout",this.gH)}this.bq.e(r._aim_session_,"myInfo",this.dT);if(Su()){var a=K("client-identityhovercard-icon",this.c()),b=IY(this);a&&b&&this.bq.e(a,"click",this.d_).e(b,"click",this.X_)}this.bq.e(K("state-button",this.c()),"click",this.T1)};
p.hH=function(){this.Cv=m;N(this.show,500,this)};p.gH=function(a){a=a.relatedTarget;if(!a||!ud(this.c(),a)&&(!this.lu||!ud(this.lu.c(),a)))this.Cv=j,N(this.Ib,1500,this)};p.X_=function(){Ds(Y.j(),[r._aim_user_.m()],w(this.W_,this))};p.W_=function(a){new FY(a.w("data.infoArray.0.profile",{}))};p.d_=function(){r._aim_session_.dispatchEvent("aim.picuploader.eventtype.uploadBuddyIconRequest")};
p.T1=function(a){if(Q("appWindow.showPopupMenu")){for(var b=0,c=0,d=a.target.offsetHeight,a=a.target;a.offsetParent;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;window.appWindow.showPopupMenu(zF,b,c+d)}};function IY(a){return K("friendlyname",a.c())}function HY(a){return K("client-identityhovercard-edit",a.c())};


function JY(a,b){Of.call(this);this.I5=a||"goog-splitpane-handle";this.orientation=b||"horizontal";this.Bm=this.yc=this.pe=this.ac=k;this.GL=m;this.Ht=-1;this.yj=this.fz=this.Nq=0;this.Kt=m;this.kp=k}z(JY,Of);p=JY.prototype;
p.v=function(){JY.g.v.call(this);if(this.ac=K(this.I5,this.c()))this.pe=this.ac.previousSibling,this.yc=this.ac.nextSibling,this.pe&&this.yc&&(this.Bm=this.yc.parentElement,-1==this.Ht&&(this.Ht=KY(this)?this.pe.offsetWidth||1:this.pe.offsetHeight||1),LY(this),N(function(){this.dv(this.Ht)},1,this)),this.m5(),this.kp=new dm(this.ac,this.ac),this.h().e(window,"resize",this.pH).e(this.kp,"start",this.cX).e(this.kp,"drag",this.dX).e(this.kp,"end",this.bX),this.dispatchEvent("change")};
function LY(a){if(a.ac){var b=No(a.ac,"position");a.Kt="fixed"==b||"absolute"==b}}function KY(a){return"horizontal"==a.orientation}p.j5=function(){this.GL=m};p.Cg=function(a){this.Ht=a instanceof Bc?!KY(this)?a.width:a.height:a;this.G&&this.dv(this.Ht)};p.m5=function(){"vertical"==this.orientation?C(this.ac,"goog-splitpane-handle-vertical"):C(this.ac,"goog-splitpane-handle-horizontal")};p.EW=function(a){return a-this.pe.offsetLeft};p.FW=function(a){return a-this.pe.offsetTop};
p.wW=function(){var a=0;this.pe&&(a=KY(this)?this.pe.clientWidth:this.pe.clientHeight);return a};function MY(a){a.yc&&a.Bm&&(LY(a),KY(a)?(a.Nq=Oo(a.pe,"minWidth")||1,a.fz=a.ac.clientWidth+(Oo(a.yc,"minWidth")||1),a.yj=a.Bm.clientWidth,a.yj-=a.yc.offsetLeft+a.yc.clientWidth):(a.Nq=Oo(a.pe,"minHeight")||1,a.fz=a.ac.clientHeight+(Oo(a.yc,"minHeight")||1),a.yj=a.Bm.clientHeight,a.yj-=a.yc.offsetTop+a.yc.clientHeight))}
function NY(a){var b=0,c=0,d=0,f=0;a.pe&&a.yc&&(KY(a)?(b=a.Nq,d=a.Bm.clientWidth-a.yj,d-=a.pe.offsetLeft+a.Nq+a.fz,0>d&&(d=1E4,N(a.dv,500,a))):(c=a.Nq,f=a.Bm.clientHeight-a.yj,f-=a.pe.offsetTop+a.Nq+a.fz,0>f&&(f=1E4,N(a.dv,500,a))));return new Oe(b,c,d,f)}
p.cX=function(){if(!this.gj){var a="position: relative";G&&!I(10)&&(a+=";background-color: #000;filter: Alpha(Opacity=0)");this.gj=this.D().l("div",{style:a});this.D().appendChild(this.c(),this.gj)}this.gj.style.zIndex=1;rf(this.gj,new Bc(this.c().offsetWidth,this.c().offsetHeight));MY(this);fm(this.kp,NY(this))};
function OY(a,b,c){var d=!F(a.ac,"no-width");if(a.pe&&a.yc){if(c)var f=NY(a);if("number"==typeof b)var g=b;KY(a)?(b=a.EW(g||b.left||b.width||0),f&&(b<f.left?b=f.left:b>f.left+f.width&&(b=f.left+f.width)),b&&!isNaN(b)&&(d&&(a.pe.style.width=b+"px",a.Kt?a.yc.style.left=a.ac.clientWidth+b+"px":(a.yc.style.width=a.Bm.clientWidth-(a.yj+b+a.ac.clientWidth)+"px",a.yc.style.left&&(a.yc.style.left=""))),a.Kt&&(a.ac.style.left=b+"px"))):(b=a.FW(g||b.top||b.height),f&&(b<f.top?b=f.top:b>f.top+f.height&&(b=f.top+
f.height)),b&&!isNaN(b)&&(d&&(a.pe.style.height=b+"px",a.Kt?a.yc.style.top=a.ac.clientHeight+b+"px":(a.yc.style.height=a.Bm.clientHeight-(a.yj+b+a.ac.clientHeight)+"px",a.yc.style.top&&(a.yc.style.top=""))),a.Kt&&(a.ac.style.top=b+"px")))}d&&a.gj&&rf(a.gj,new Bc(a.yc.offsetLeft+a.yc.clientWidth,a.yc.offsetTop+a.yc.clientHeight));a.dispatchEvent("handle_drag_end")}p.dv=function(a){h===a||k===a?a=Oo(this.ac,KY(this)?"left":"top"):MY(this);OY(this,a,j)};
p.pH=function(){this.ac.offsetWidth&&this.ac.offsetHeight&&this.dv()};p.dX=function(a){this.GL&&OY(this,a)};p.bX=function(a){this.gj.style.zIndex=-1;OY(this,a)};p.n=function(){JY.g.n.call(this);this.kp.o();this.kp=k;this.gj&&(od(this.gj),this.gj=k)};

function PY(a){V.call(this);this.lC=j;this.ap=0;this.Yc=a;this.dz=60;this.zk=j}z(PY,V);p=PY.prototype;p.l=function(){this.K(this.ba.createElement("div"))};p.v=function(){V.prototype.v.call(this);vi("aim_main",window);N(this.N5,20,this)};p.rd=ba();
p.N5=function(){var a=window.localStorage.getItem("aim_main_pos_wDelta");this.ap=a?parseInt(a,10):480;this.Yc&&C(this.Yc.ac,"no-width");a=this.ba.P("client-container-mainpanel");a.style.width="";C(this.ba.P("client-container"),"main-panel-only");this.zk=m;for(var b=0;a;)b+=a.offsetLeft,a=a.offsetParent;b&&(this.dz=b)};
p.PC=function(){if(this.lC&&this.zk){var a=this;this.ss=window.setTimeout(function(){if(a.ss&&(a.ss=k,a.zk)){var b=a.ba.P("client-container-mainpanel"),c=a.ba.P("client-container");a.Yc&&C(a.Yc.ac,"no-width");if(!F(c,"main-panel-only")){var c=(window.innerWidth||document.documentElement.clientWidth)-a.dz,d;a.Yc&&(d=Oo(a.Yc.ac,KY(a.Yc)?"left":"top"));d||(d=b.offsetWidth);a.ap=c-d;C(a.ba.P("client-container"),"main-panel-only");b.style.width=""}(b.ownerDocument.parentWindow||b.ownerDocument.defaultView).resizeBy(-a.ap,
0);a.zk=m}},50)}};
p.rM=function(a){this.ss&&(window.clearTimeout(this.ss),this.ss=k);var b=this.ba.P("client-container-mainpanel"),c=(window.innerWidth||document.documentElement.clientWidth)-this.dz;this.zk&&(c-=this.ap);a||(b.style.width||(b.style.width=c+"px"),c=parseInt(b.style.width,10),D(this.ba.P("client-container"),"main-panel-only"));if(!this.zk){b=b.ownerDocument.parentWindow||b.ownerDocument.defaultView;try{b.resizeBy(this.ap,0)}catch(d){}this.zk=j}this.Yc&&!a&&(a=this.Yc,D(a.ac,"no-width"),MY(a),OY(a,c||
Oo(a.ac,KY(a)?"left":"top"),m))};p.cx=ba();p.qq=function(){var a=[0,0];try{if(this.zk)if(this.Yc&&!F(this.Yc.ac,"no-width")){var b=(window.innerWidth||document.documentElement.clientWidth)-this.dz,c;this.Yc&&(c=Oo(this.Yc.ac,KY(this.Yc)?"left":"top"));c||(c=this.ba.P("client-container-mainpanel").offsetWidth);a[0]=c-b}else a[0]=-this.ap||0;else a[0]=this.ap||0}catch(d){}return a};

function QY(a){L.call(this,"aim.outreach.ui.EventType.SHOW_INVITE");this.VT=a||k}QY.prototype.mq=n("VT");function RY(a){L.call(this,"aim.outreach.ui.EventType.ADD");this.cc=a||k}RY.prototype.z=n("cc");

function SY(a){L.call(this,"aim.outreach.ui.EventType.INVITE");this.Jc=a}z(SY,L);function TY(a,b,c){L.call(this,"aim.outreach.ui.EventType.START_MESSAGE");this.Fc=a;this.Gb=b;this.RW=c||""}z(TY,L);TY.prototype.Ra=n("Fc");TY.prototype.Ma=n("Gb");

function UY(a){vm.call(this);this.Ei=a||k;Gm(this,(new Cm).Ta({key:"cancel",caption:"Cancel"},m,j).Ta({key:"send",caption:"Send"},j,m));this.zb("Invite friends to join AIM:")}z(UY,vm);p=UY.prototype;p.l=function(){vm.prototype.l.call(this);C(zm(this),"aim-dialog");C(zm(this),"invite-dialog");C(this.Yi(),"aim-dialog-bg");this.sa().appendChild(gk(VY));C(K("goog-buttonset-default",this.c()),"submit")};
p.v=function(){vm.prototype.v.call(this);var a=K("invite-input",this.c());this.Jc=new oC;this.Jc.qa(a);this.Ei&&this.Jc.ga(this.Ei);this.HC();this.h().e(a,["input","change","propertychange","keyup"],this.HC).e(this,Im,this.K2).e(window,"resize",this.Xc)};p.K2=function(a){if("send"==a.key)return this.uH()};
p.HC=function(){for(var a=this.Jc.w().replace(" ",""),b=Tc("button","submit",this.c())[0],a=a.split(","),c=0<a.length,d=0;d<a.length;d++)c&=ck(a[d]);c?(D(b,"disabled"),b.removeAttribute("disabled")):(C(b,"disabled"),b.setAttribute("disabled",j));return c};p.uH=function(){if(this.HC()){var a=this.Jc.w().replace(" ","");this.dispatchEvent(new SY(a));return j}return m};
p.L=function(a){UY.g.L.call(this,a);N(function(){var a=this.Jc,c=rC(a);a.aF=j;a.c().focus();!c&&!pC&&(a.c().value=a.Nd);a.c().select();pC||(a.wa&&Mf(a.wa,a.c(),"click",a.CE),N(a.ZV,10,a))},0,this)};

function WY(){this.Ke=new XY;Jw.call(this,"OK",this.Ke);this.h().e(this.Ke,"aim.outreach.ui.EventType.CLOSE_DROPDOWN",this.m_).e(this.Ke,"aim.outreach.ui.EventType.ADD",this.AZ).e(this,Lw,this.yz)}z(WY,Jw);p=WY.prototype;p.l=function(){WY.g.l.call(this);var a=K("fake-input",this.c());nd(a,gk(YY),0);var a=Er(this),b=this.Na;a&&b&&(b.Jg=a.c())};p.m_=function(){Cw(this.Ke);this.Ke.dk();this.dispatchEvent(Lw)};p.AG=function(a){Jw.prototype.AG.call(this,a);this.dispatchEvent(Lw)};
p.yz=function(){Jw.prototype.yz.call(this);var a=this.Ra(),b=K("chooser",this.c());1==a.length&&!Pu(a[0])?O(b,m):O(b,j);ZY(this.Ke);this.Rr()};p.xu=function(){Jw.prototype.xu.call(this);ZY(this.Ke)};p.es=function(a){rb(this.Ra(),function(b){return b.m()==a.m()})||(Jw.prototype.es.call(this,a),$Y(this,a.m()),this.Na.rd())};p.Yu=function(a){this.Ke.Ue.filter[a.getAttribute("data-aim-id")]=m;Jw.prototype.Yu.call(this,a);this.dispatchEvent(Lw)};function $Y(a,b){a.Ke.Ue.filter[b]=j}
p.or=function(){Jw.prototype.or.call(this);this.Ke.reset();this.Rr()};p.Rr=function(){0==this.Ra().length?(Dw(this.Ke,aZ),this.Ke.te.Hj=m):(Dw(this.Ke,bZ),this.Ke.te.Hj=j)};p.AZ=function(a){if(a=a.z())this.es(jr(a)),this.Ke.dk()};p.Wk=function(a){var b=this.Ke;"facebook"==a?cZ(b,b.MV):"google"==a&&cZ(b,b.NW)};
function XY(){ww.call(this);Dw(this,aZ);this.te.aB=j;this.nS=m;this.ia=new dZ;this.ia.ZI=j;this.O(this.ia);this.Ue=new eZ;this.$a=[];this.Ta(new fZ);this.Ta(new gZ);this.Ta(this.MV=new hZ);this.Ta(this.NW=new iZ)}z(XY,ww);var aZ="Type an email address or username",bZ="+ more?";p=XY.prototype;p.l=function(){Gl(this,jZ,{id:"outreach-aimlist",Pu:aZ})};p.Td=function(a){for(var b=0,c=this.$a.length;b<c;b++)this.$a[b].Td(a);ww.prototype.Td.call(this,a);ZY(this)};
p.v=function(){ww.prototype.v.call(this);this.$j=K("aimlist-buttoncontainer",this.c());for(var a=0,b=this.$a.length;a<b;a++){var c=this.$a[a];this.O(c);c.T(this.$j)}O(this.$j,m)};p.n=function(){XY.g.n.call(this);this.hG=k};p.OZ=function(a){if(a.target instanceof Element&&ud(this.$j,a.target))return a.stopPropagation(),m};function cZ(a,b){var c=b.getItem();Cb(a.$a,b);a.ia.XH(c);a.Ue.XH(c);b.getParent()==a&&a.removeChild(b,j)}
p.Ta=function(a){var b=new kZ(a);this.$a.push(a);this.ia.gC(b);this.Ue.gC(b);this.G&&(this.O(a),a.T(this.$j))};p.jK=275;p.OI=function(){XY.g.OI.call(this);M(this.oa,"hide",this.V1,h,this);M(this.oa,"show",this.X1,h,this);M(this.oa,"beforehide",this.OZ,h,this);var a=this.$j;this.oa.Dz=function(b){var c=Rc(this.F);if(G||gc)if((c=c.activeElement)&&(ud(this.F,c)||ud(a,c)))return;om.prototype.Dz.call(this,b)}};p.X1=function(){(!this.oa.Rt()||this.oa.isVisible())&&O(this.$j,j);ZY(this)};
p.V1=function(a){if(G&&(a=a.target)&&a instanceof Element)for(var b=0,c=this.$a.length;b<c;b++){var d=this.$a[b];ud(d.c(),a)&&d.select()}O(this.$j,m)};function ZY(a){a.hG||(a.hG=Jd(a.$i(),"div","multi-chooser"));var b=a.ir.offsetHeight+a.hG.offsetHeight+"px";a.$j.style.top!=b&&(a.$j.style.top=b)}p.Hu=function(a){var b=a.item;b instanceof kZ&&b.button.select();ww.prototype.Hu.call(this,a)};p.reset=function(){this.Ue.filter={}};p.aO=o(m);function eZ(){this.filter={};this.Zj=[]}z(eZ,rr);
eZ.prototype.Mn=function(){var a=rr.prototype.Mn.call(this),b={},a=pb(a,function(a){if(!(a instanceof xq))return m;var c=a.V,d=c.m();if(c.aa&&c.aa()||b[d]||this.filter[d])return m;b[d]=a;return j},this),c=a.length;0!=c&&0==a[c-1].id.search("search")&&(a=a.slice(0,c-1));for(var c=this.Zj.length,d=0;d<c;d++){var f=this.Zj[d];f.button.isVisible()&&a.push(f)}return a};eZ.prototype.gC=function(a){this.Zj.push(a)};eZ.prototype.XH=function(a){Cb(this.Zj,a)};
function kZ(a){zp.call(this,0,"button_"+a.Rs);a.Xw=this;this.button=a}z(kZ,zp);function dZ(){bq.call(this,h,h,h);this.Zj=[]}z(dZ,vq);p=dZ.prototype;p.Zf=function(){vq.prototype.Zf.call(this);for(var a=this.Zj.length,b=0;b<a;b++){var c=this.Zj[b];c.id==this.jm?c.button.CN():c.button.IJ()}};p.uE=function(){return dp.prototype.uE.call(this)||1};p.gC=function(a){this.Zj.push(a)};p.XH=function(a){Cb(this.Zj,a)};p.Nz=function(a,b){a instanceof kZ&&a.button instanceof fZ||dZ.g.Nz.call(this,a,b)};
function lZ(a,b,c,d){V.call(this);this.Gb=a;this.Nr=d||a;this.Rs=b||"";this.Cd=c}z(lZ,V);p=lZ.prototype;p.l=function(){var a=this.ba.l("div");C(a,"aim-list-button");this.Cd&&C(a,this.Cd);this.F=a;mZ(this)};function mZ(a){var b=a.c();b.innerHTML="";var c=a.ba.l("div");C(c,"aim-list-button-icon");b.appendChild(c);c=a.ba.l("div");C(c,"aim-list-button-text");c.innerHTML=a.Gb;b.appendChild(c);c=a.ba.l("div");C(c,"aim-list-button-text-sm");c.innerHTML=a.Nr;b.appendChild(c)}
p.v=function(){V.prototype.v.call(this);this.h().e(this.c(),"click",this.Kb).e(this.c(),"mouseover",this.CN).e(this.c(),"mouseout",this.IJ)};p.Kb=function(a){a.stopPropagation();this.select()};p.select=function(){this.dispatchEvent(this.Rs);this.dispatchEvent("aim.outreach.ui.EventType.CLOSE_DROPDOWN")};p.$=function(){this.h().Rd()};p.Td=ba();p.CN=function(){C(this.c(),"highlighted")};p.IJ=function(){D(this.c(),"highlighted")};p.show=function(){O(this.c(),j)};p.Ib=function(){O(this.c(),m);this.IJ()};
p.isVisible=function(){return"none"!=this.c().style.display};p.getItem=n("Xw");function gZ(){lZ.call(this,"Invite a friend","aim.outreach.ui.EventType.SHOW_INVITE","invite");this.Ag=k}z(gZ,lZ);gZ.prototype.Td=function(a){Ca(a)?(this.Ag=k,this.show(),this.Nr=this.Gb="Invite a friend to AIM"):(this.Ag=a,this.show(),this.Nr='Invite <span class="aim-list-invite-name">'+a+"</span>",this.Gb=this.Nr+" to AIM");mZ(this)};gZ.prototype.select=function(){this.dispatchEvent(new QY(this.Ag));this.dispatchEvent("aim.outreach.ui.EventType.CLOSE_DROPDOWN")};
function fZ(){lZ.call(this,"Add...","aim.outreach.ui.EventType.ADD","add");this.Ag=k}z(fZ,lZ);fZ.prototype.l=function(){lZ.prototype.l.call(this);O(this.c(),m)};fZ.prototype.Td=function(a){Ca(a)?(this.Ib(),this.Gb=""):(this.Ag=a,this.show(),this.Nr='<span class="aim-list-invite-name">'+a+"</span>",this.Gb="New friend: "+this.Nr);this.Ag&&this.Xw&&(this.Xw.V=new ju(this.Ag));mZ(this)};fZ.prototype.select=function(){this.Xw.V=k;this.dispatchEvent(new RY(this.Ag))};
function hZ(){lZ.call(this,"Connect to add Facebook friends","aim.outreach.ui.EventType.FACEBOOK","facebook","Connect Facebook")}z(hZ,lZ);hZ.prototype.Td=function(a){Ca(a)?this.show():this.Ib()};function iZ(){lZ.call(this,"Connect to add Google contacts","aim.outreach.ui.EventType.GOOGLE","google","Connect Google")}z(iZ,lZ);iZ.prototype.Td=function(a){Ca(a)?this.show():this.Ib()};

function nZ(){V.call(this)}z(nZ,V);p=nZ.prototype;p.l=function(){Gl(this,oZ)};p.K=function(a){this.F=a;this.fG=K("outreach-message",this.c());this.$w=K("outreach-group-chat-name",this.c());this.ax=new oC;this.O(this.ax);this.ax.qa(this.$w);this.Gc=K("button",this.c());this.Cl=new tg(this.Gc);this.O(this.Cl)};
p.v=function(){V.prototype.v.call(this);this.h().e(this.$w,"keypress",this.lL).e(this.Gc,"keypress",this.lL).e(this.Gc,"click",this.Qv);this.da=new PO("outreach");XO(this.da,m);this.da.pi("Type your message here.");this.O(this.da);this.da.T(K("outreach-message-field",this.c()));this.da.fe().c().setAttribute("tabindex",3);K("send-button",this.c()).setAttribute("tabindex",4);this.h().e(this.da,"PostingForm.Submit",this.Qv);pZ(this);mu(pu.j(),"start_chat",this.or,this);this.cx()};
p.lL=function(a){13==a.keyCode&&this.Qv()};function pZ(a){a.ug&&(a.h().M(a.ug,"aim.chooser.ui.MultiChooserBox.SUBMIT",a.Qv).M(a.ug,Lw,a.Qz),a.ug.o());a.ug=new WY;a.O(a.ug);a.ug.T(K("outreach-chooser",a.c()));a.h().e(a.ug,"aim.chooser.ui.MultiChooserBox.SUBMIT",a.Qv).e(a.ug,Lw,a.Qz);a.Qz()}p.Qv=function(a){var b=this.ug.Ra();if(a&&a instanceof cL)var c=a.Ma();c||(c=this.da.w());0==b.length||Ca(c)||this.dispatchEvent(new TY(b,c,this.ax.w()))};
p.Qz=function(){var a=this.ug.Ra().length;0==a?O(this.fG,m):1==a?(O(this.fG,j),O(this.$w,m)):(O(this.fG,j),O(this.$w,j))};p.rd=function(a){this.ug.Na.rd(a)};p.or=function(){this.ug.or();this.da.clear();this.ax.ga("");this.Qz()};p.kV=function(a){this.ug.Wk(a)};p.cx=function(a,b){var c=this.c().parentNode;c instanceof Element&&(b||450>jf(c).width?C(this.c(),"small-mode"):D(this.c(),"small-mode"))};p.PC=ba();p.rM=ba();p.qq=function(){return[0,0]};

function qZ(a){Il.call(this,"aim-outreach-invite-Controller-"+x());(this.target=a)&&this.h().e(this.target,"aim.outreach.ui.EventType.SHOW_INVITE",this.qJ)}z(qZ,Il);qZ.prototype.MG=function(a){"yes"==a.key&&this.qJ()};qZ.prototype.qJ=function(a){this.It&&this.It.o();this.It=new UY(a&&t(a.mq)?a.mq():h);this.It.L(j);this.h().e(this.It,"aim.outreach.ui.EventType.INVITE",this.pV)};qZ.prototype.pV=function(a){a=a.Jc.trim();Ca(a)||Rn(bb(Ul.API_EMAIL_INVITE,"?target="+a),w(this.a1,this))};
qZ.prototype.a1=function(a){var b=a.target,a=rZ;b.ro()&&(b=b.nf(),"OK"==b.status?a=sZ:!Ta(b.status,"ERROR")&&!Ta(b.status,"INVALID")&&!Ta(b.status,"EXPIRED")&&S("invite error",b));this.It.o();a=new en("Invite someone else",a,{});C(an(a),"submit");var b=a.$a,c=b.dg;(c?Hm(b,c):k).innerHTML="Continue";a.L(j);$m(a,"invite-confirmation");this.h().e(a,Im,w(this.MG,this))};

function tZ(a){Il.call(this,"aim-outreach-service-Controller-"+x());this.J=a;this.h().e(this.J,"aim.outreach.ui.EventType.FACEBOOK",w(this.Ci,this,"facebook")).e(this.J,"aim.outreach.ui.EventType.GOOGLE",w(this.Ci,this,"google")).e(this.J,"settings.ui.DelAssociatedService",this.KG)}z(tZ,Il);function uZ(a,b){b&&(a.kD=b);A(r._aim_session_.pB||[],function(a){1==a.associated&&this.kD&&this.kD(a.name)},a)}tZ.prototype.KG=function(a){$s(Y.j(),a.qb(),w(this.C_,this,a.qb()))};
tZ.prototype.C_=function(a){(a=K(a,this.J.c()))&&D(a,"done")};
tZ.prototype.Ci=function(a){if(t(this.pl)&&t(this.pl.window)&&this.kc==a)"appWindow"in this.pl.window&&(this.pl.window.appWindow.isActive=j);else{this.kc=a;var b="";if("google"==a)var b="gtalk",c="500";else"facebook"==a&&(b="facebook",c="750");var a=0<Tc("body","web").length?"web":"client",d=Jj()?"http://":"https://",a=b=d=d+window.location.host+"/.associate/"+b+"?origin="+a;t(this.Hp)&&(a=this.Hp(b));this.pl=window.open(a,"verifier","status=0,toolbar=0,menubar=0,location=1,directories=0,scrollbars=1,height=575,width="+c);
setTimeout(w(this.nL,this),500)}};tZ.prototype.nL=function(){this.pl==k||this.pl.closed?uZ(this):setTimeout(w(this.nL,this),500)};

function vZ(a){Il.call(this,"aim-outreach-widget-Controller-"+x());this.J=a||new nZ;this.h().e(this.J,"aim.outreach.ui.EventType.START_MESSAGE",this.qV).e(r._aim_session_,fo,this.ph).e(r._aim_session_,"service",this.bx);this.td=new qZ(this.J);this.sr=new tZ(this.J);this.bx();mu(pu.j(),"ftux_done",this.bx,this)}z(vZ,Il);p=vZ.prototype;p.n=function(){vZ.g.n.call(this);this.td.o();this.sr.o()};p.q=n("J");p.ph=function(a){a.ud==cm&&this.bx()};
p.qV=function(a){var b=a.Ra();if(1==b.length)pu.j().Tf("start_chat",b[0],new gy(a.Ma()));else{var c;if(!(c=a.RW)){if(0<b.length){var d=r._aim_user_.R();c=b[0].R();d=Po(d);c=Po(c);35<d.length+c.length&&(d=d.split(/\b/)[0],c=c.split(/\b/)[0]);c=1<b.length?bb(d,", ",c," and more"):bb(d," and ",c)}else c=bb(d," and more");c=64<c.length?bb(d.substring(0,55)," and more"):c}Qs(Y.j(),c,w(this.JG,this,b,a.Ma()))}};
p.JG=function(a,b,c){if(kr(c)){var d=c.w("data.group"),f=c.w("data.imserv");A(a,w(function(a){if(!a.aa())if(wr(a)){var b=new Zm;b.zb("Invalid user");a=a.R()+" is an AIM bot and could not be invited to this group chat.";b.pa(a);Gm(b,Wm());b.L(j)}else Ss(Y.j(),f,a.m())},this));a=kx(f);a.update({friendly:d});pu.j().Tf("start_chat",a,new gy(b))}else b=c.w("statusDetailCode"),16==b?d=ZL():33==b&&(d=$L()),d=d||"Unable to create group chat: code "+b+".",b=new Zm,b.zb("Error"),b.pa(d),Gm(b,Wm()),b.L(j)};
p.bx=function(){pZ(this.J);this.J instanceof nZ&&uZ(this.sr,w(this.J.kV,this.J))};

function wZ(a){V.call(this);this.Et=this.Xz=this.EA=this.cz=this.Iv=this.Sd=this.Od=k;this.lD=j;this.KA="";var b=window.App.xb()?new Ar(new Bc(300,595),new Bc(260,575)):new Ar(new Bc(750,595),new Bc(510,575)),a=a.QF;b&&(a.Ka=b);ao(a);this.Yc=new JY;this.Yc.j5()}z(wZ,V);p=wZ.prototype;p.iK=240;p.VE=k;p.l=function(){var a="true"==ai("showAd")||Q("appWindow.isRectVisibleToUser")||si;Gl(this,Yy,{Dv:a,kY:si});C(this.c(),"onepanel")};
p.v=function(){wZ.g.v.call(this);this.Iv=K("client-container-sidebar");this.cz=K("client-container-mainpanel");this.EA=K("client-container-secondarypanel");this.Xz=K("client-container-onepanel");this.OV=K("feedback-item");C(K("me-item",this.c()),"selected");D(K("contacts-item",this.c()),"selected");this.Et=new DY(j,j);this.Et.T(K("me-item",this.Iv));var a=parseInt(Vl("container-mainpanel-width"),10);if(!ma(a)||isNaN(a))a=this.iK;this.Yc.Cg(a);ri&&qi?(this.sf=new PY(this.Yc),this.sf.T(K("client-container-secondarypanel",
this.c()))):(this.sf=new nZ,this.O(this.sf),this.sf.T(K("client-container-secondarypanel",this.c())),new vZ(this.sf));this.Yc.qa(K("client-container-splitpane",this.c()));this.h().e(this.Iv,"mousedown",this.f3).e(this.Iv,"click",this.e3).e(this.OV,"mousedown",this.i0).e(r._aim_session_,fo,this.Vb).e(window,"resize",this.ed).e(this.Yc,"handle_drag_end",this.q3);a=K("client-sidebar-menu",this.c());xi(a,AF,"SIDEBAR_MENU")};p.ed=function(){F(this.c(),"onepanel")&&this.Od&&this.Od.ed();this.sf.cx()};
p.q3=function(){var a=this.Yc.wW();a&&(Wl("container-mainpanel-width",a),this.sf.cx(),this.Od&&this.Od.ed(),this.Sd&&this.Sd.ed())};p.$=function(){wZ.g.$.call(this);this.fj(this.Od);this.fj(this.Sd);this.Xz=this.EA=this.cz=this.Iv=k;this.Et.o();this.Et=k};p.Vb=function(a){R("client.ui.Container::onSessionStateChange_");switch(a.ud){case bm:case jo:this.lD=j;break;case cm:this.lD=m,rY(),this.VE&&this.VE.o(),this.VE=new GY(this.Et.c())}};
p.Pz=function(a){if(Q("app.auth")){var b=window.App.xb(),c=LT(iT(window.App)).va().appWindow,d=window.document.body.clientHeight,f=c.display;c.isZoomed&&c.zoom();if(b){var g=!a&&10>Math.abs(f.x+f.width-c.x-c.width);c.setMinContentSize(260,575);a||c.resizeTo(300,d,m);g&&c.moveTo(f.x+f.width-300,c.y)}else c.setMinContentSize(510,575),a||(c.resizeTo(700,d,m),this.Od&&this.Yc.Cg(this.iK));c.fitToScreen(f.id);this.Od&&this.Od.CO()&&(a=this.Od,xZ(this,a),this.removeChild(a,j),this.wf(a));if(a=K("client-container-ad",
this.c()))b=b?K("client-container-onepanel",this.c()):K("client-container-mainpanel",this.c()),nd(b,a,0)}};p.XA=function(a,b){var c=K(a+"-item",this.c());if(c&&(c=K("client-sidebar-item-count",c)))c.innerHTML=b,O(c,0<b)};p.i0=function(a){Ai(window.App).dispatchEvent(new Wq(Nz));a.stopPropagation()};p.f3=function(a){for(a=a.target;a.parentNode&&"button"!=a.getAttribute("role")&&"menu"!=a.getAttribute("role")&&"BUTTON"!=a.tagName;)a=a.parentNode;!si&&F(a,"client-sidebar-menu")&&this.WI()};
p.e3=function(a){for(var b=a.target;b.parentNode&&"button"!=b.getAttribute("role")&&"menu"!=b.getAttribute("role")&&"BUTTON"!=b.tagName;)b=b.parentNode;if(a=Ld(b,"client-sidebar-item")){var c=a.getAttribute("sidebarid");if(F(a,"feedback-item"))Ai(window.App).dispatchEvent(new Wq(Nz));else if(!this.lD&&c&&!F(b,"disabled")&&(b=this.KA,this.rr(c,j),"contacts"==c&&b==c&&(a=K("client-sidebar-item-count",a))&&a.innerHTML))a=ay(),a.length&&window.App.dispatchEvent(new dy(a[0],h,j))}else F(b,"client-sidebar-newchat")?
ey(window.App.ee()):F(b,"client-sidebar-newsms")&&ey(window.App.ee(),gu)};p.qE=n("KA");p.rr=function(a,b){if(this.KA!=a){this.KA=a;var c=K(a+"-item",this.c());if(c){A(Vc("client-sidebar-item",K("client-container-sidebar")),function(a){a===c?C(a,"selected"):D(a,"selected")});t(this.Sd)&&t(this.Sd.Ki)&&this.Sd.Ki!=a&&this.fj(this.Sd);switch(a){case "contacts":Fx(window.App.fb(),b);this.sf.rd(j);break;case "commons":qY(),rY().wf(),pt(ut)}var d=K("client-container-ad",this.c());d&&O(d,"contacts"==a)}}};
p.$u=function(a){a==this.Sd&&D(this.c(),"has-active-chat");var b=a.getParent();b&&b.removeChild(a,j);xZ(this,a);a.o();ri&&qi&&!this.Ly()&&this.sf.PC()};
p.wf=function(a){if(a&&a.getParent()&&a.getParent()!=this){var b=Co(a);a.getParent().removeChild(a,a.G);b&&b.close()}b=a.Of;0==b&&window.App.xb()&&(b=2);if((2==b||yr==b)&&ri&&qi)this.sf.lC=m,this.sf.rM(2==b);switch(b){case 2:case 0:if(ia(this.Od)||this.Od.z()!=a.z())2==b||window.App.xb()?C(this.c(),"onepanel"):(D(this.c(),"onepanel"),this.ed()),this.fj(this.Od),this.Od=a,0==b?this.cz&&this.Gv(a,this.cz):this.Xz&&this.Gv(a,this.Xz),a=a.Ki,t(a)&&this.rr(a);break;case yr:if(ia(this.Sd)||this.Sd.z()!=
a.z())D(this.c(),"onepanel"),this.ed(),this.fj(this.Sd,t(a)),this.Sd=a,this.EA&&((b=this.Sd.Ki)&&this.rr(b),this.Gv(a,this.EA),C(this.c(),"has-active-chat"),a.dw())}ri&&qi&&(this.sf.lC=j)};p.fj=function(a){if(t(a)&&a.G&&a.getParent()==this){if(a.vm)try{a.vm()}catch(b){}a==this.Sd&&D(this.c(),"has-active-chat");if(a.Py)this.$u(a);else{xZ(this,a);a=a.c();O(a,m);var c=document.activeElement;c&&ud(a,c)&&c.blur()}}ri&&qi&&!this.Ly()&&this.sf.PC()};
p.oF=function(a){return this.Od&&this.Od.z()==a.z()||this.Sd&&this.Sd.z()==a.z()};p.Ly=function(){return this.Sd||this.Od&&2==this.Od.Of};p.Gv=function(a,b){a.G||(this.O(a),a.G&&a.$(),a.T(b));O(a.c(),j)};function xZ(a,b){b==a.Od&&(a.Od=k);b==a.Sd&&(a.Sd=k)}p.WI=function(){if(Q("appWindow.showPopupMenu")){var a=K("client-sidebar-menu",this.c()),b=ff(a),a=jf(a),c=b.x,b=b.y,d=a.height;window.appWindow.showPopupMenu(AF,c,b+d,{left:c,top:b,right:c+a.width,bottom:b+d})}};
p.qq=function(){return this.sf?this.sf.qq():[0,0]};

function yZ(a,b,c,d){oS.call(this,"",c,d);this.Nd=a;this.xf=b}z(yZ,oS);p=yZ.prototype;p.FB="";p.GB="unknown";p.Cq=m;p.l=function(){yZ.g.l.call(this);this.K(this.c())};
p.K=function(a){yZ.g.K.call(this,a);var b;b=new W;b.append('<div class="closeable-tab"><div class="closeable-tab-state"></div><div class="closeable-tab-groupchat"></div><div class="closeable-tab-label-flexer"><div class="closeable-tab-label"></div></div><div class="closeable-tab-count"></div><div class="closeable-tab-close"></div></div>');b=b.toString();a.innerHTML=b;a=this.P("closeable-tab-count");O(a,m)};
p.v=function(){yZ.g.v.call(this);var a=this.P("closeable-tab-close");a&&this.h().e(a,"mouseup",this.ke);zZ(this,this.GB);AZ(this,this.Cq);this.vv(this.Nd);this.Ud(this.xf)};p.$=function(){yZ.g.$.call(this);this.h().Rd()};p.ke=function(a){a.stopPropagation();this.dispatchEvent(BZ)};function zZ(a,b){if(a.G){var c=a.P("closeable-tab");a.GB&&D(c,a.GB);b&&C(c,b)}a.GB=b}function AZ(a,b){a.Cq=b;if(a.G){var c=a.P("closeable-tab");b?C(c,"groupchat"):D(c,"groupchat")}}
p.vv=function(a){this.Nd=a;var b=this.P("closeable-tab-label");b&&(b.innerHTML=a)};p.Ud=function(a){this.xf=a;var b=this.P("closeable-tab-label");b&&b.setAttribute("title",a)};var BZ="close";

function CZ(){po.call(this,h);var a=r._aim_session_.m()+"_tabsOnTop";DZ(this,"true"==Vl(a));this.dA=[]}z(CZ,aA);p=CZ.prototype;p.hl={};p.wj={};p.ni=k;p.pb=k;p.Vv=k;p.l=function(){Gl(this,$y)};
p.v=function(){CZ.g.v.call(this);this.pb=K("goog-tab-content",this.c());var a=Ai(window.App),b=Co(this).va();this.h().e(Br,Jr,this.K1).e(a,"aim.ui.CommandController.Action",this.vu).e(r._aim_session_,Ex,this.Lo).e(b,"resize",this.Wz).e(mp(),"key",this.cH);DZ(this,!!this.Vv);b=Co(this);ao(b);for(a=0;a<this.dA.length;a++)this.wf(this.dA[a]);this.dA=[]};p.n=function(){A(Gc(this.hl),this.vL,this);CZ.g.n.call(this)};
function DZ(a,b){var c=b?new Bc(410,330):new Bc(455,300);Or(a,new Ar(b?new Bc(410,400):new Bc(500,400),c));a.G&&Co(a).va().appWindow.setMinContentSize(c.width,c.height);c=r._aim_session_.m()+"_tabsOnTop";Wl(c,b?"true":"false");a.Vv=b;if(a.G){EZ(a);a.Pc&&re(a.Pc);var d=K("tabbed-im-newchat",a.c());d&&re(d);c=new vS(b?rS:tS);a.O(c,m);Wf(c,a.pb);a.h().e(c,"select",a.y3).e(c.c(),"click",a.x3).e(c,BZ,a.p_);d=cd("span",{"class":"tabbed-im-newchat aimlist-searchbar-button chat"});c.c().appendChild(d);var f=
cd("img",{src:P("common/images/new-chat.png")});d.appendChild(f);f.onfocus=f.onmouseover=function(){this.src=P("common/images/new-chat-hover.png")};f.onblur=f.onmouseout=function(){this.src=P("common/images/new-chat.png")};d.title="Start a new chat or send an SMS message";a.h().e(d,"click",a.Rz);if(a.Pc){d=Yf(a.Pc);xS(a.Pc,-1);for(d-=1;0<=d;d--)f=Zf(a.Pc,d),f.ri(m),a.Pc.removeChild(f,j),c.bg(f,0,j);try{a.removeChild(a.Pc,j),a.Pc.o()}catch(g){od(a.Pc.c())}}a.Pc=c;a.ni&&BT(a,a.ni);a.Vv?D(a.c(),"tabs-on-left"):
C(a.c(),"tabs-on-left")}}p.wf=function(a){if(this.G){a&&a.getParent()&&a.getParent()!=this&&a.getParent().removeChild(a,j);var b=FZ(a);if(!this.hl[b]){var c=a.getName(),d=a.C?a.C():k,f=d?d.Tl():c,c=new yZ(c,f);Sf(c,b);c.FB=b;d&&this.ew(c,d);this.Pc.bg(c,0,j);this.hl[b]=c;this.wj[b]=a;this.ni||N(function(){BT(this,b)},0,this)}}else this.dA.push(a)};p.Gv=function(a){a.G?O(a.c(),j):(this.O(a),a.T(this.pb))};p.Rz=function(){ey(window.App.ee())};
p.vL=function(a){var b=this.hl[a];if(b&&(b.getParent()==this.Pc&&this.Pc.removeChild(b,j),b=this.wj[a]))b.Py?b.close():b.C&&(a=window.App.ee(),(b=WS(a,b.C()))&&a.rs(b))};p.p_=function(a){this.vL(a.target.FB)};p.$u=function(a){var b=a?FZ(a):k,c=b?this.hl[b]:k;if(c&&(c.getParent()==this.Pc&&this.Pc.removeChild(c,j),a&&a.o(),Ic(this.hl,b),Ic(this.wj,b),0==Ec(this.hl)&&(a=Co(this))))b=a.va().appWindow.menu,c=31011,b.itemByTag(c)&&b.deleteItemByTag(c),c=31012,b.itemByTag(c)&&b.deleteItemByTag(c),a.close()};
function AT(a,b){BT(a,b.z())}function BT(a,b){var c=a.hl[b];c&&(a.Pc.ip(c),a.wj[b].Yd())}p.x3=function(a){(a=(a=(a=Ld(a.target,"goog-tab"))?a.id:k)?this.wj[a]:k)&&a.Yd()};
p.y3=function(a){if(!this.qe&&(a=a.target.FB,this.ni!=a)){var b=this.ni?this.wj[this.ni]:k;b&&b.G&&!b.qe&&(b.hf(),O(b.c(),m));this.ni=a;"_blank"!=a&&(b=Co(this),window.App.dispatchEvent(new dy(jr(a),h,b.isActive())));if(a=this.wj[a])this.Gv(a),EZ(this),b=a instanceof SQ?"Chat - "+a.getName():a.getName(),Co(this).va().document.title=b,a.Yd()}};p.K1=function(a){this.$u(a.Lu)};
function KT(a,b){a.G&&(Co(a).va(),Xf(a.Pc,function(a){var d=b[a.FB];if(a.G){var f=a.P("closeable-tab-count"),g=0<d;O(f,g);f.innerHTML=d;a=a.P("closeable-tab");g?C(a,"unread"):D(a,"unread")}},a))}function FZ(a){var b="_blank";a instanceof SQ&&(b=(a=a.C())?a.z():"");return b}p.Lo=function(a){ix(a.Ra(),function(a){var c=this.hl[a.m()];c&&this.ew(c,a)},this)};p.ew=function(a,b){zZ(a,Hu(b));AZ(a,b.aa());a.vv(b.R())};p.Wz=function(){var a=this.ni?this.wj[this.ni]:k;a&&a.ed()};
function EZ(a){var b=a.ni?a.wj[a.ni]:k,c=Co(a).va().appWindow.menu;if(b=b&&b.ua(j))c.itemByTag(b.tag)&&c.deleteItemByTag(b.tag),c.insertItemByIndex(b,"Win32"==navigator.platform?0:5),b=c.itemByTag(31011);else if(b=c.itemByTag(31011))b.submenu.items=[];b&&b.submenu&&b.submenu.itemByTag(1050)&&b.submenu.deleteItemByTag(1050);b=EF;c.itemByTag(b.tag)||c.insertItemByIndex(b,"Win32"==navigator.platform?1:3);if(b=c.itemByTag(b.tag))c=a.Vv?Sz:Rz,a=a.Vv?Rz:Sz,b.submenu&&b.submenu.itemByTag(c.tag)&&b.submenu.deleteItemByTag(c.tag),
(!b.submenu||!b.submenu.itemByTag(a.tag))&&b.submenu.insertItemByIndex(a)}p.vu=function(a){switch(a.getItem().tag){case 1702:DZ(this,j);break;case 1701:DZ(this,m)}};p.cH=function(a){if(Co(this).isActive())switch(a.keyCode){case 9:if(a.ctrlKey){var b=ag(this.Pc,this.Pc.vh),c=b,c=a.shiftKey?0!=b?b-1:Yf(this.Pc)-1:b!=Yf(this.Pc)-1?b+1:0;xS(this.Pc,c)}}};function MT(a){var b=[];Xf(a.Pc,function(a){a=a.z();b.push({id:a,isGroupChat:this.wj[a].C().aa()})},a);return b}p.TN=o(j);

function GZ(a,b){Hl.call(this);this.$B=a||"";b&&(this.bC=Sc(b))}z(GZ,Hl);p=GZ.prototype;p.EK=m;function HZ(a){a.EK=j;IZ(a,j)}p.aC=function(){this.ag&&this.Mg?(IZ(this,j),N(function(){var a=j;try{(a=!this.ag.contentWindow.adsPageOnL)&&(a=!Tc("IFRAME",k,this.ag.contentDocument).length)}catch(b){}a&&(this.ag.src=this.Mg)},1E3,this)):HZ(this)};p.cC=function(){if(this.ag&&this.Mg)try{this.ag.contentWindow.adsPageOnL||(Tc("IFRAME",k,this.ag.contentDocument).length?IZ(this,m):this.aC())}catch(a){}else HZ(this)};
p.JN=function(a,b,c,d,f){try{if(!a||!a.readyState||"loaded"===a.readyState||"complete"===a.readyState){a&&(a.onload=a.onreadystatechange=k);this.oj&&(Be(this.oj),delete this.oj);window.adSetAdURL(b);window.htmlAdWH(f||"93329282",c.toString(10),d.toString(10),"ajax",this.$B);var g=Tc("IFRAME",k,Sc(this.$B));g&&1==g.length&&(this.Mg=b,this.ag=g[0],this.h().e(this.ag,"load",this.cC).e(this.ag,"error",this.aC));this.qO=x();this.h().e(window.document.body,"click",this.OY)}}catch(i){HZ(this)}};
p.oc=function(a,b,c,d){if("adSetAdURL"in window)this.JN(k,a,b,c,d);else{var f=cd("script",{src:"//api.nina.chat/ads/adsWrapper.js",type:"text/javascript",async:"true"});f.onload=f.onreadystatechange=w(this.JN,this,f,a,b,c,d);a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(f,a);this.oj=N(function(){delete this.oj;HZ(this)},2500,this)}};
p.OY=function(){var a=x();!this.EK&&25E3<a-this.qO&&N(function(){this.qO=x();try{window.adsReloadAd(this.$B),IZ(this,m)}catch(a){HZ(this)}},1E3,this)};p.oj=0;p.KB=0;p.C6=function(a,b,c){S("Ad Frame Watcher "+b+" "+a+" ("+(c||"n/a")+")");a=a==this.Mg;this.oj&&(Be(this.oj),delete this.oj);switch(b){case 0:a?this.KB=0:++this.KB;break;case 1:case 2:(2==b&&200!=c||1==b)&&IZ(this,j),this.oj=N(function(){S("watch frame count is "+this.KB);delete this.oj;IZ(this,2>this.KB)},3E3,this)}};
function IZ(a,b){if(a.bC){var c=b?"":"none";Pe(a.bC.previousSibling,"display",b?"none":"");Pe(a.bC,"display",c)}}function JZ(a,b,c){var d=di(document.URL),b=di(b);a.Mg=d.resolve(b).toString();a.ag=c;Q("app.trackFrame")?(window.app.trackFrame(a.Mg,w(a.C6,a)),window.addEventListener("unload",function(){window.app.trackFrame(a.Mg)},m)):(a.tL=new ye(3E4),a.h().e(a.ag,"load",a.cC).e(a.tL,Ae,a.cC).e(a.ag,"error",a.aC),a.tL.start());a.ag.src=a.Mg};



function KZ(){Il.call(this,"aim.client.ViewManager");this.aA={};this.QF=new $n("main",k,j,"main");this.sc=new wZ(this);this.QF.pa(this.sc);var a=Br;a&&this.h().e(a,[Dr,Jr,Lr,Nr],this.H1);this.Dv()}z(KZ,Il);p=KZ.prototype;p.xi=k;p.Sm=k;p.Pz=function(a){this.sc.Pz(a)};
p.Dv=function(){if(CT(window.App)){var a=Sc("_ad_list");a&&(this.QS=new GZ("_ad_list","_ad_house"),"DIV"==a.tagName?(this.Mg=Jj()?P("_uac/adpage.html"):"static/_uac/adpage.html",this.QS.oc(this.Mg,"180","150","93425613")):(this.Mg=Jj()?P("_uac/AIM_UAC_v3.html"):"static/_uac/AIM_UAC_v3.html",JZ(this.QS,this.Mg,a)))}};
p.H1=function(a){if(a.type==Dr)a=a.Lu,this.aA[a?a.z():""]=a;else if(a.type==Jr){a=a.Lu;if(a.Of==ro){var b=LZ(a);b&&b.close()}else 4==a.Of?this.xi&&this.xi.$u(a):this.sc.$u(a);delete this.aA[a.z()]}else a.type==Lr?this.wf(a.Lu):a.type==Nr&&this.fj(a.Lu)};function hT(a,b){return a.aA[b]||k}
p.wf=function(a){if(a.Of==ro){var b=LZ(a),c=b?b.va():k;c&&!c.closed&&c.document&&c.document.body&&!c.document.body.hasAttribute("x-closed")?b.bringToForeground():this.Am(a).bringToForeground()}else if(4==a.Of){if(!this.xi||!this.Sm||this.Sm.qe)this.xi=new CZ,this.xi.gp("tabbed-im-container"),this.Sm=this.Am(this.xi),this.xi.gp("Chat");this.xi.wf(a)}else this.sc.wf(a)};p.Ly=function(){return this.sc.Ly()};function zT(){var a=iT(window.App),b=k;a.xi&&a.Sm&&!a.Sm.qe&&(b=a.Sm);return b}
function cy(){var a=iT(window.App),b=k;a.xi&&a.Sm&&!a.Sm.qe&&(b=a.xi);return b}p.fj=function(a){a.Of!=ro?this.sc.fj(a):a.Py&&(a=LZ(a))&&a.close()};p.oF=function(a){return a.Of==ro||4==a.Of||this.sc.oF(a)};p.rr=function(a,b){this.sc.rr(a,b)};p.qE=function(){return this.sc.qE()};p.XA=function(a,b){this.sc.XA(a,b)};p.Am=function(a,b){var c=a.getName();a.getParent()&&(xZ(this.sc,a),a.getParent().removeChild(a,a.G),O(a.c(),j));c=new $n(c?c:"_blank",a.Ka,h,c);c.open(a,b,a.TN());return c};
function LT(a){return a.QF}function LZ(a){return a.getParent()instanceof $n?a.getParent():k}p.qq=function(){return this.sc?this.sc.qq():[0,0]};

var uo={Nb:{rK:{id:1230,wc:"ctrl+shift+f9"},sK:{id:1231,wc:"ctrl+shift+f8"},PB:{id:1210,wc:"ctrl+/"},OB:{id:1210,wc:"meta+/"},oK:{id:1060,wc:"ctrl+n"},nK:{id:1060,wc:"meta+n"},E8:{id:1061,wc:"ctrl+s"},D8:{id:1061,wc:"meta+s"},wT:{id:1120,wc:"ctrl+d"},vT:{id:1120,wc:"meta+d"},qK:{id:31E3,wc:"f7"},xw:{id:1050,wc:"alt+shift+f"},sw:{id:1065,wc:"ctrl+shift+d"},tK:{id:1100,wc:"alt+enter"},LT:{id:4E3,wc:"ctrl+f10"},kK:{id:1030,wc:"ctrl+shift+f1"}}};
uo.mK=[uo.Nb.rK,uo.Nb.sK,uo.Nb.PB,uo.Nb.oK,uo.Nb.wT,uo.Nb.qK,uo.Nb.xw,uo.Nb.sw,uo.Nb.LT,uo.Nb.kK];uo.lK=[uo.Nb.rK,uo.Nb.sK,uo.Nb.OB,uo.Nb.nK,uo.Nb.vT,uo.Nb.xw,uo.Nb.sw,uo.Nb.kK];uo.ET=[uo.Nb.PB,uo.Nb.oK,uo.Nb.qK,uo.Nb.xw,uo.Nb.sw,uo.Nb.tK];uo.DT=[uo.Nb.OB,uo.Nb.nK,uo.Nb.xw,uo.Nb.sw,uo.Nb.tK];uo.GT=[uo.Nb.PB];uo.FT=[uo.Nb.OB];

function MZ(a){vm.call(this,h,h,a);Am(this,1);this.fq=m;C(zm(this),"aim-overlay");C(this.Yi(),"aim-overlay-bg");C(ym(this),"aim-overlay-buttons")}z(MZ,vm);function NZ(a,b){var c=a.sa(),d=gk(b,h,a.D());c.appendChild(d)}MZ.prototype.v=function(){vm.prototype.v.call(this);this.h().e(window,"resize",this.oH)};MZ.prototype.n=function(){this.dispatchEvent("hide");MZ.g.n.call(this)};MZ.prototype.oH=function(){this.Xc()};

function OZ(a){this.WN=a;MZ.call(this);Gm(this,k);this.fq=j;NZ(this,PZ);var a=this.ba.P("ftux-choosewindow-next-button",this.c()),b=this.ba.P("ftux-choosewindow-single",this.c()),c=this.ba.P("ftux-choosewindow-multi",this.c());this.h().e(a,"keyup",this.Qf).e(a,"click",this.NC).e(b,"click",this.h3).e(c,"click",this.aQ)}z(OZ,MZ);p=OZ.prototype;p.WN=m;p.v=function(){OZ.g.v.call(this);this.WN&&N(function(){this.aQ()},0,this)};p.NC=function(){this.dispatchEvent(Im)};
p.h3=function(){var a=this.ba.P("ftux-choosewindow-radio-single",this.c());a&&(a.checked=j)};p.aQ=function(){var a=this.ba.P("ftux-choosewindow-radio-multi",this.c());a&&(a.checked=j)};p.Qf=function(a){(13==a.keyCode||32==a.keyCode)&&this.dispatchEvent(Im)};

function QZ(){MZ.call(this);NZ(this,RZ);Gm(this,k);this.hg=new oC;this.hg.qa(K("ftux-welcome-firstname",this.sa()));this.sg=new oC;this.sg.qa(K("ftux-welcome-lastname",this.sa()));this.Jc=new oC;this.Jc.qa(K("ftux-welcome-email",this.sa()));Ds(Y.j(),[r._aim_user_.m()],w(this.x0,this));this.tx={};this.tx[this.hg.c().name]=this.hg.Xl();this.tx[this.sg.c().name]=this.sg.Xl();this.tx[this.Jc.c().name]=this.Jc.Xl();var a=r._aim_user_.QM(),b=r._aim_user_.SM(),c=r._aim_user_.Wx();!Ca(a)&&"null"!=a&&this.hg.ga(a);
!Ca(b)&&"null"!=b&&this.sg.ga(b);Ca(c)||this.Jc.ga(c);this.gw();a=K("ftux-welcome-icon",this.sa());b=K("ftux-welcome-looksgood",this.sa());this.h().e(this.c(),"keyup",this.Qf).e(a,"click",this.yV).e(r._aim_session_,"myInfo",this.gw).e(b,"click",this.Vq)}z(QZ,MZ);p=QZ.prototype;
p.Vq=function(){var a=this.hg.w().trim(),b=this.sg.w().trim(),c=this.Jc.w().trim(),d=m,f=j;SZ(this,this.hg);SZ(this,this.sg);SZ(this,this.Jc);Ca(a)&&(f=m,TZ(this.hg,this.hg.Xl()+" required"),this.hg.c().focus(),d=j);Ca(b)&&(f=m,TZ(this.sg,this.sg.Xl()+" required"),d||(this.sg.c().focus(),d=j));Ca(c)?(f=m,TZ(this.Jc,this.Jc.Xl()+" required"),d||this.Jc.c().focus()):ck(c)||(f=m,TZ(this.Jc,"Please enter a valid email address"),d||this.Jc.c().focus());if(f){if(Su()){var b=this.hg.w().trim(),c=this.sg.w().trim(),
a=this.Jc.w().trim(),g;(d=K("ftux-welcome-pushfriendlyname-input",this.c()))&&(g=d.checked?"emailsAndCellular":"all");gt(Y.j(),b,c,g);a!=r._aim_user_.Wx()&&ck(a)&&(g=Y.j(),$(g,"admin","setEmail",{email:a},h))}this.dispatchEvent(new UZ)}};p.x0=function(a){var a="all"!=a.w("data.infoArray.0.profile.hideLevel","none"),b=K("ftux-welcome-pushfriendlyname-input",this.c());b&&(b.checked=a)};p.gw=function(){var a=K("ftux-welcome-icon-img",this.sa());a.onerror=w(this.EE,this);a.src=r._aim_user_.Zb()};
p.EE=function(){var a=K("ftux-welcome-icon-img",this.sa());a.onerror=k;a.src="/static/2.38.0.6/messaging/images/new_chat.png"};p.yV=function(){r._aim_session_.dispatchEvent(0<Tc("body","web").length?"aim-home-BuddyIcon":"aim.picuploader.eventtype.uploadBuddyIconRequest")};function TZ(a,b){a.ga("");a.vv(b);C(a.c(),"error")}function SZ(a,b){b.c().value&&F(b.c(),"error")&&(b.vv(a.tx[b.c().name]),D(b.c(),"error"))}
p.Qf=function(a){var b=a.target;Ld(b,"ftux-welcome-firstname")?SZ(this,this.hg):Ld(b,"ftux-welcome-lastname")?SZ(this,this.sg):Ld(b,"ftux-welcome-email")&&SZ(this,this.Jc);(13==a.keyCode||32==a.keyCode&&F(b,"button"))&&this.Vq()};function UZ(a){L.call(this,"aim.ftux.ui.welcomeoverlay.complete");this.wL=!!a}z(UZ,L);UZ.prototype.wL=m;

function VZ(){MZ.call(this);NZ(this,WZ);this.sr=new tZ(this);Gm(this,k);var a=K("ftux-welcome-addFBFriends",this.c()),b=K("ftux-welcome-no-thanks",this.c());this.h().e(a,"click",this.xZ).e(this.c(),"keyup",this.Qf).e(b,"click",this.qD).e(r._aim_session_,"myInfo",this.gw);this.gw()}z(VZ,MZ);p=VZ.prototype;p.gw=function(){var a=K("ftux-welcome-icon-img",this.sa());a.onerror=w(this.EE,this);a.src=r._aim_user_.Zb()};p.EE=function(){var a=K("ftux-welcome-icon-img",this.sa());a.onerror=k;a.src="/static/2.38.0.6/messaging/images/new_chat.png"};
p.xZ=function(a){a.preventDefault();a.stopPropagation();this.sr.kD=w(this.qD,this);this.dispatchEvent("aim.outreach.ui.EventType.FACEBOOK")};p.qD=function(){this.dispatchEvent(new UZ(j))};p.Qf=function(a){13==a.keyCode&&this.qD()};

function XZ(){MZ.call(this);Gm(this,k);this.fq=j;this.td=new qZ(this);NZ(this,YZ);this.h().e(this.c(),"keyup",this.Qf).e(this.c(),"click",this.Kb);this.sr=new tZ(this);uZ(this.sr,w(this.lV,this))}z(XZ,MZ);XZ.prototype.Qf=function(a){var b=a.target;(13==a.keyCode||32==a.keyCode)&&F(b,"button")&&this.dispatchEvent(Im)};
XZ.prototype.Kb=function(a){if(a.target){var a=a.target,b=Ld(a,"outreach-connect"),a=b?b:a;F(a,"facebook")&&!F(a,"done")?(this.dispatchEvent("aim.outreach.ui.EventType.FACEBOOK"),pt(Ot)):F(a,"google")&&!F(a,"done")?(this.dispatchEvent("aim.outreach.ui.EventType.GOOGLE"),pt(Pt)):F(a,"invite")?(this.dispatchEvent(new QY),pt(Nt)):F(a,"outreach-next-button")&&this.dispatchEvent(Im)}};XZ.prototype.N_=function(a){this.dispatchEvent(new DV(a,""))};
XZ.prototype.lV=function(a){var b=K(a,this.c());b&&(C(b,"done"),this.h().e(K("disconnect",b),"click",w(this.N_,this,a)))};

function ZZ(){MZ.call(this);Gm(this,k);this.fq=j;NZ(this,$Z);this.fZ=this.ba.P("lets-go-button",this.c());this.h().e(this.c(),"keyup",this.Qf);this.h().e(this.fZ,"click",this.NC)}z(ZZ,MZ);ZZ.prototype.NC=function(){this.dispatchEvent(Im)};ZZ.prototype.Qf=function(a){var b=a.target;(13==a.keyCode||32==a.keyCode)&&F(b,"button")&&this.dispatchEvent(Im)};

function a_(a,b){Il.call(this,"aim-ftux-Controller-"+x());this.Hh();this.Gy=!!a;this.Dh=b||k;this.lG=this.Gy&&this.Dh&&u(this.Dh.xb)?this.Dh.xb():m}z(a_,Il);p=a_.prototype;p.$D=m;p.Hh=function(){var a=r._aim_session_,b=r._cmd_controller_;this.h().e(a,"ftux",this.PY).e(a,fo,this.Vb,j).e(b,"aim.ui.CommandController.QueryUpdate",this.FG,j)};
p.PY=function(a){a.NK?S("got event to start ftux but already seen on other platform"):(this.LC=a.LC||"",b_(this,j),this.af=Su()?new QZ:new VZ,this.af.L(j),Mf(this.h(),this.af,"aim.ftux.ui.welcomeoverlay.complete",this.V3).e(this.af,"hide",this.Cz),a=Tc("input",h,this.af.c()),a[0]&&a[0].focus())};p.Vb=function(a){switch(a.ud){case bm:case 1100:t(this.af)&&this.af.o()}};p.n=function(){Rd(this.af)};
p.V3=function(a){this.af.o();var b=Y.j();$(b,"aim","completeFTUX",{clientType:this.LC},h);a.wL?this.gQ():(b_(this,j),this.hi=new XZ,this.hi.L(j),this.h().e(this.hi,Im,this.gQ).e(this.hi,"hide",this.Cz))};p.gQ=function(){this.af&&this.af.o();this.hi&&this.hi.o();if(this.Gy&&Q()){b_(this,j);var a=this.Gy&&this.Dh&&u(this.Dh.xb)?this.Dh.xb():m;this.Gp=new OZ(a);this.Gp.L(j);this.h().e(this.Gp,Im,this.sP).e(this.Gp,"hide",this.Cz)}else this.sP()};
p.sP=function(){this.af&&this.af.o();this.hi&&this.hi.o();this.Gp&&(this.lG=!!K("ftux-choosewindow-radio-multi",this.Gp.c()).checked,this.Gp.o());b_(this,j);this.Qk=new ZZ;this.Qk.L(j);this.h().e(this.Qk,Im,this.JP).e(this.Qk,"hide",this.Cz)};p.JP=function(){this.Qk&&this.Qk.o();this.dispatchEvent(c_);pu.j().Tf("ftux_done");this.Gy&&this.Dh&&u(this.Dh.xb)&&this.Dh.xb()!=this.lG&&u(this.Dh.VA)&&this.Dh.VA(this.lG)};
p.Cz=function(){this.af&&(re(this.af),this.af.o(),this.af=k);this.hi&&(re(this.hi),this.hi.o(),this.hi=k);this.Qk&&(re(this.Qk),this.Qk.o(),this.Qk=k);b_(this,m);N(function(){this.$D||this.JP()},0,this)};p.FG=function(a){var b=a.getItem();switch(b.tag){case 1030:case 1011:case 1155:case gz:case 31009:case iz:case jz:case kz:case 31014:case 31015:b.enabled=j;break;default:this.$D?(b.enabled=m,a.stopPropagation()):b.enabled=j}};
function b_(a,b){a.$D=b;var c=window.document.body;b?C(c,"ftux-showing"):D(c,"ftux-showing")}var c_="ftux-complete";


var d_=-1<navigator.platform.toLowerCase().indexOf("mac"),e_=-1<navigator.userAgent.toLowerCase().indexOf("safari");function $O(){if(e_||d_)return-1;var a,b;a=document.createElement("div");a.style.color="rgb(31,41,59)";document.body.appendChild(a);b=document.defaultView?document.defaultView.getComputedStyle(a,k).color:a.currentStyle.color;document.body.removeChild(a);b=b.replace(/ /g,"");return"rgb(31,41,59)"!=b}setTimeout(function(){try{$O()==j&&C(document.body,"high-contrast")}catch(a){}},1);

function f_(){Hl.call(this);window.App=this;this.vx=[];this.Xv=new ye(1500);this.Uu=new Bc(window.document.body.clientWidth,window.document.body.clientHeight);this.TK=m}z(f_,Hl);ga(f_);p=f_.prototype;p.Fy=j;p.ZX=function(){var a=m;if(Q("appWindow.isRectVisibleToUser")){var b=Sc("_ad_house");if(b&&"none"!=b.style.display)return j;var c=Sc("_ad_list");if(c){var b=c.offsetWidth,d=c.offsetHeight;0<b&&0<d&&(a=af(c),a=window.appWindow.isRectVisibleToUser({left:a.x,top:a.y,right:a.x+b,bottom:a.y+d}))}}return a};
p.Uw=m;p.Dp=m;p.Hk=k;p.kw=k;p.vz=m;p.hM=j;p.Uu=k;function CT(a){return t(a.ad)&&a.ad.xa()==cm}p.Hy=function(){arguments.length&&(this.hM=arguments[0]===j);return this.hM};function rY(){var a=window.App;return a.vO=a.vO?a.vO:new yY}p.fb=function(){return this.KK=this.KK?this.KK:new by};p.ee=function(){return this.os=this.os?this.os:new rT};function Ai(a){return a.RO=a.RO?a.RO:new iF}function iT(a){return a.JB=a.JB?a.JB:new KZ}
p.start=function(a,b,c,d){U("aim.client.Application.start - enter");Bi();Q()&&"system"in window.app&&"registerProtocol"in window.app.system&&window.app.system.registerProtocol("aim");for(var f=bi.Wc.dd("settings"),g=0;g<f.length;g++)if(f[g]){var i=f[g].split(":");i[0]&&(i[1]?Wl(i[0],i[1]):Yl(i[0]))}this.Gi=new wE(b,a,c&&d?d:k);iT(this);Ai(this);this.fb();LX.j();Tn.j();this.Gh();this.oW=new a_(j,this);this.h().e(this.oW,c_,this.t0);this.xh=k;$l.j().Qs("scriptStartup",j);window.app&&window.app.AIMLogger&&
window.app.AIMLogger.config({stylesheet:"body { font-family: Tahoma, Helvetica, sans-serif; }\r\nh1 { white-space:nowrap; font-size: 1.2em; font-weight: 600; }\r\ntd.time { white-space:nowrap; font-size: 1.1em; font-weight: 600; background: #CFCFCF; padding-left: 10px; padding-bottom: 5px; }\r\n#time-stamp, td.local { white-space:nowrap; font-size: 0.8em; font-weight: 600; color: #00AF00; padding-left: 10px; text-align: right; vertical-align: top; }\r\ntd.remote { white-space:nowrap; font-size: 0.8em; font-weight: 600; color: #0000FF; padding-left: 10px; text-align: right; vertical-align: top; }\r\ntd.msg { font-family: serif; padding-left: 5px; }\r\ntd.event { white-space:nowrap; font-family: serif; color: #FF8000; padding-left: 5px; }",
strings:{titleBlast:"Chat History for",titleIM:"IM History with buddy"}});U("aim.client.Application.start calling this.getAuthController().startAuthentication()");N(function(){var a=this.Gi,b=decodeURIComponent(c||"");window.document.title="AIM";Q("appWindow.cloak")&&window.appWindow.cloak(m);if(Q()){var d;t(a.tn)?(a.q().show(),dE(a.q(),a.tn.username,a.tn.password,a.tn.forceAuth),delete a.tn,d=j):d=m;d||(d=Vl("prevent-autologin"),(b=a.nb.load(a.jd))&&("auth"in b||"migrate"in b)&&!d?("migrate"in b&&
a.jd.set(ND,b.userName),xD(a.N,b)):(a.Sg=b,a.q().show(),Yl("prevent-autologin")))}else d={},(b=b?b:Yh(new Ih(window.location)).get("token_a"))&&(d.token=b),xD(a.N,d);U("aim.client.Application.start - exit")},0,this);Ax(yx(J()),j)};p.log=function(a){Q("app.log")&&window.app.log(a)};var g_="app.error,app.oncommand,app.terminate,system.sleep,system.idle,info.update".split(",");p=f_.prototype;
p.Gh=function(){this.h().e(r._aim_session_,fo,this.Vb).e(r._aim_session_,"myInfo",this.A1).e(Ai(this),"aim.ui.CommandController.QueryUpdate",this.Io).e(Ai(this),"aim.ui.CommandController.Action",this.Pk,j).e(En.j(),Fn,this.Eu).e(r._aim_session_,"ftux",this.u0).e(r._aim_session_,"preference",this.xm).e(this.Xv,Ae,this.SL);Q()||(ui("aim_main",window),this.h().e(window,"beforeunload",this.U3));wo(Ai(this),"mainWeb",document.body);go(g_,this.GZ,this);pE(4001,"cox+\uf700");pE(4002,"cox+\uf701");Ei&&Gi&&
Q("app.info.update.check")&&window.app.info.update.check()};p.ei=function(a){var b=k;if("LaunchServices"==a.domain)-10814==a.code&&(b="Cannot open \u201c"+a.localizedDescription+"\u201d because the operating system doesn\u2019t recognize it.");else if("NSURLErrorDomain"==a.domain)switch(a.code){case -1E3:b="\u201c"+a.localizedDescription+"\u201d is an invalid URL.";break;case -1002:b="\u201c"+a.localizedDescription+"\u201d is an unsupported URL."}(a=b)&&window.alert(a)};
function h_(a){if(a.vx.length){var b=Gb(a.vx);yb(a.vx);A(b,function(a){i_(this,a)},a)}}
function i_(a,b){U("Request to execute aimUrl=["+b+"]");var c=m;a.bringToForeground();if(v(b)&&b&&b.match(/^aim:/)){var d=new Ih(b,j),f=d.Wc;switch(d.uf.toLowerCase()){case "":c=j;break;case "goim":(d=r._aim_user_)&&!d.Ck()?(d=f?f.get("screenname",""):"")?(d=jr(d),window.App.dispatchEvent(new dy(d,new gy(f?f.get("message",""):"",k,m)))):window.App.dispatchEvent("aim.client.ChatInviteEvent"):a.vx.push(b);c=j;break;case "registeruser":if(d=(f?f.get("screenname",""):"").toLowerCase().replace(/\xa0|[ \t]+/g,
"")){var c=a.Gi,g=f?f.get("password",""):"",f="true"===(f?f.get("signonnow",""):"").toLowerCase()||m,i={username:d,password:g,forceAuth:f};window.App.ad?CT(window.App)?r._aim_user_.m()!==d.toLowerCase().replace(/\xa0|[ \t]+/g,"")&&(c.tn=i,yD(c.N)):(c.q().show(),dE(c.q(),d,g,f)):c.tn=i;c=j}}}return c}
p.GZ=function(a,b,c){U("app event: "+a);var d=0;switch(a){case "app.error":this.ei(c);d=1;break;case "app.oncommand":i_(this,c)&&(d=1);break;case "app.terminate":if("true"==Vl("exit-on-close")||-1==window.app.info.name.indexOf("Chromely")||this.vz||!CT(this))d=j_(this),window.appWindow.isVisible=m;else if(d=1,a=LT(iT(this)).va().appWindow,a.miniaturize(),Gi&&(b=window.app.info.version,0>Ia(b,"1")||0<=Ia(b,"1.2.2")))a.isVisible=m;break;case "system.sleep":b?(U("system: sleep"),(this.Uw=this.Gi.N.pause())||
window.app.system.readyToSleep()):(U("system: wake"),d=this.Gi,d.N.paused()&&xD(d.N));d=1;break;case "system.idle":this.ad&&this.ad.xa()==cm&&Y.j().ka(b?"idle":"online");d=1;break;case "info.update":io(LT(iT(this)))}return d};p.Yo=function(a){this.TK=a;this.ad&&this.ad.Yo(a)};function xE(){var a=window.App;return Q()||a.TK}
function j_(a){var b=0;Yl("prevent-autologin");a.Dp?(U("onAppTerminate is already blocking on app.terminate"),b=17):a.ad&&a.ad.xa()!=bm&&(U("We need to logout before we can terminate."),a.Dp=j,a.Ps(),b=17,N(function(){U("Forcing app to terminate");this.Dp=m;window.app.terminate()},15E3));U("onAppTerminate will return "+b);return b}p.Ps=function(){this.Gi.Ps()};
p.Vb=function(a){R("client.Application::onSessionStateChange_");switch(a.ud){case 1300:this.Uw&&Q("app.system")&&(this.Uw=m,U("System shutdown handler:  window.app.system.readyToSleep()"),window.app.system.readyToSleep());break;case bm:Ll.j().clear();this.QC&&(this.QC.q().o(),this.QC.o(),delete this.QC);this.os&&(this.os.o(),delete this.os);this.nT&&(this.nT.o(),delete this.nT);jX.j().o();this.h().M(r._aim_session_,"aim.picuploader.eventtype.uploadBuddyIconRequest",this.xG).M(r._aim_session_,"aim.messaging.PicnicEditIcon",
this.OP).M(nR.j(),"aim.picuploader.eventtype.beforeSessionCreated",this.kQ).M(nR.j(),"aim.picuploader.eventtype.close",this.iQ);if(!Ur.Lf())if(Q("app.appWindows"))for(a=window.app.appWindows.length-1;0<a;--a)window.app.appWindows[a].close();else Do();this.kw&&(this.kw.o(),this.kw=k);this.Dp&&Q()?(U("Logout completed, we can now termiate!"),this.Dp=m,window.app.terminate()):k_("offline");break;case cm:a=En.j().xa("selected-sidebarId")||"contacts";iT(this).rr("commons"==a?"commons":"contacts",j);this.kw||
(this.kw=new NL);this.ee();FE.j();l_(this);this.fb().xr(!this.xb());this.VA(this.xb());a=FE.j();this.h().e(a,"aim.picuploader.eventtype.uploadBuddyIconRequest",this.xG).e(r._aim_session_,"aim.picuploader.eventtype.uploadBuddyIconRequest",this.xG).e(r._aim_session_,"aim.messaging.PicnicEditIcon",this.OP).e(nR.j(),"aim.picuploader.eventtype.beforeSessionCreated",this.kQ).e(nR.j(),"aim.picuploader.eventtype.close",this.iQ);var a="true"==Vl("multi-window-mode-current"),b=this.xb();iT(this).Pz(a==b);iT(this).Dv();
break;case 1100:gT(this.ee(),j),Q("app.dockIcon")&&(window.app.dockIcon.unreadCount=k)}};var m_={online:1,idle:1,away:1,mobile:1,invisible:1};p=f_.prototype;p.A1=function(a){a=a.PL;k_(a.xa());a.Dk()&&h_(this)};function k_(a){if(Q("appWindow.systemTray")&&t(window.appWindow.systemTray)){var b="systray_offline.ico";a in m_&&(b=["systray_",a,".ico"].join(""));window.appWindow.systemTray.icon=vF("/static/2.38.0.6/desktop/images/"+b)}}
p.Io=function(a){a=a.getItem();switch(a.tag){case 1120:case 1128:case 1401:case 1210:case 1030:case 1301:case 1060:case gr:case 1061:case 1040:case 31E3:a.enabled=CT(this);break;case Iq:var b=dr("facebook");a.enabled=CT(this)&&b&&!b.associated;break;case Jq:b=dr("google");a.enabled=CT(this)&&b&&!b.associated;break;case 1020:case 1011:case 4003:case 1155:case 31009:case 4E3:case 1230:case 1231:a.enabled=j;break;case gz:a.title=Lz.title;a.enabled=j;break;case 1140:case 31014:case 31015:a.enabled=m;
break;case iz:case jz:case kz:a.enabled=j;break;case 1145:a.enabled=CT(window.App)&&0<Zx(window.App.fb());break;case 1220:a.checked=!window.App.Hy()}};p.SL=function(a,b){var c=document.title.replace(/^\!?/,function(a){return b||a.length?"":"!"});document.title!=c&&(document.title=c)};function JT(a,b){a.Xv&&a.Xv.enabled!=b&&(a.SL(0,!b),b?a.Xv.start():a.Xv.stop())}
p.Pk=function(a){switch(a.getItem().tag){case 1020:LT(iT(this)).va().appWindow.isVisible=j;this.bringToForeground();break;case 1030:this.Yo(j);window.app?this.Ps():yD(this.ad,j);break;case 31017:this.Yo(m);this.vz=j;break;case 1011:this.Yo(m);this.vz=j;window.app?window.app.terminate():window.close();break;case 4003:window.app.info.update.check();break;case 1155:a="";t(this.ad.m())&&(a=this.ad.m());var b=Gi?"http://feedback.aol.com/rs/rs.php?sid=aim_desktop_windows_hf&lpv1=":"http://feedback.aol.com/rs/rs.php?sid=aim_desktop_mac_hf&lpv1=",
b=b+encodeURIComponent(a);Q("app.info.version")&&(b+="&lpv2="+encodeURIComponent(window.app.info.version+"(2.38.0.6)"));Ci(b);break;case 31009:Ci(Gi?"http://help.aol.com/help/product/brand_new_aim_for_windows/":"http://help.aol.com/help/product/brand_new_aim_for_mac/");break;case 1120:this.bringToForeground();Oq.j();(new Pq(h)).Di();break;case 1128:this.bringToForeground();Oq.j();(new iC).ds();break;case 1401:(new qZ).qJ();break;case Iq:this.Re().Ci("facebook");break;case Jq:this.Re().Ci("google");
break;case 1210:this.bringToForeground();this.fb().rd();break;case 1230:Ur.Am();break;case 1231:zn.Am();break;case 4E3:Q("app.system.openSounds")&&window.app.system.openSounds();break;case 1145:this.ee().IC();window.App.fb().IC();sT(this.ee());break;case 1220:a=!window.App.Hy(),window.App.Hy(a),a||(Q("appWindow.signal")?window.appWindow.signal():JT(this,m))}};p.xG=function(){oR(nR.j(),"aim.picuploader.target.userPicture")};p.OP=function(a){a=a.ng;oR(nR.j(),"aim.picuploader.target.groupPicture",a)};
p.kQ=function(a){vT(this.ee(),a.ui,a.callback);return m};p.iQ=function(){wT(this.ee())};p.bringToForeground=function(){LT(iT(this)).bringToForeground()};va("aim.client.Application",f_);f_.prototype.start=f_.prototype.start;f_.getInstance=f_.j;Q("appWindow.isRectVisibleToUser")&&(f_.prototype.isAdVisible=f_.prototype.ZX);function vF(a){var b=di(document.URL),a=di(a);return b.resolve(a).toString()}p=f_.prototype;p.Re=function(){this.xh||l_(this);return this.xh};
function l_(a){a.xh&&(re(a.xh),a.xh.o());a.xh=new QW("client-settings-"+x(),m,"client",w(window.App.Gi.Er,window.App.Gi))}p.xb=function(){var a=m;CT(this)?(a=r._aim_session_.m()+"-multi-window-mode",a="true"==Vl(a)):a="true"==Vl("multi-window-mode-current");return a};
p.VA=function(a){var b=!!Vl("multi-window-mode-current")!=!!a,c=r._aim_session_.m()+"-multi-window-mode";a?(Wl(c,"true"),Wl("multi-window-mode-current","true")):(Yl(c),Yl("multi-window-mode-current"));this.fb().xr(!a);a=this.fb().q();a.G&&(Mr(a)||a.getParent().removeChild(a,j));iT(this).Pz(!b);b&&GT(this.ee());a.G&&Fx(this.fb(),j)};p.Eu=function(){En.j().ka("selected-sidebarId",iT(this).qE())};
p.u0=function(){var a=Math.max(document.body.clientWidth,750),b=Math.max(document.body.clientHeight,595);if(Q("appWindow")){var c=window.appWindow.display;window.appWindow.resizeTo(a,b);window.appWindow.fitToScreen(c.id)}else this.Rq=[window.innerWidth||document.documentElement.clientWidth,window.innerHeight||document.documentElement.clientHeight],window.resizeBy(a-this.Rq[0],b-this.Rq[1])};
p.t0=function(){if(Q("appWindow")){var a=window.appWindow.display;10>Math.abs(a.x+a.width-window.appWindow.x-window.appWindow.width)&&this.Uu&&(window.appWindow.resizeTo(this.Uu.width,this.Uu.height),window.appWindow.moveTo(a.x+a.width-this.Uu.width,window.appWindow.y),window.appWindow.fitToScreen(a.id))}else this.Rq&&(window.resizeBy(this.Rq[0]-(window.innerWidth||document.documentElement.clientWidth),this.Rq[1]-(window.innerHeight||document.documentElement.clientHeight)),this.Rq=k)};
p.xm=function(a){var b=Ll.j().get("other","preferences")||{};Nc(b,a.na);Ll.j().add("other","preferences",b);Io()};p.U3=function(){if(this.JB){var a=this.JB.qq();wi("aim_main",window,a[0],a[1])}else wi("aim_main",window);try{var b=this.Gi,c=b.q();c.G&&c.xH(new L("*"));if(!(200>=b.N.W)){var d=b.N;if(d.W==cm){d.gu=j;d.PN=h;d.ka(1100);d.sH();var f=new Date,a=k;do a=new Date;while(250>a-f)}else yD(d,h)}}catch(g){}Do()};

function LE(a,b){var c=b||new W;c.append("<div class='av-dialog'><div class='content'><div class='content-background'></div><span id=\"av-invitation-text\"><div class='username'>",X(a.HB),'</div><div class=\'message\'>would like to video chat with you.</div></span><div class=\'button-container\' ><a href="#" role="button" class=\'button decline bad\' aria-describedby="av-invitation-text">Decline</a><a href="#" role="button" class=\'button accept good\' aria-describedby="av-invitation-text">Accept</a></div></div></div>');
if(!b)return c.toString()}
function NE(a,b){var c=b||new W;c.append("<div class='av-dialog'><div class='content'><div class='content-background'></div><span id=\"av-rejection-text\"><div class='username'>",X(a.HB),"</div><div class='message'>has <span class='redBoldText'>declined</span> your video chat invitation.</div><div class='message'>Try again later.</div></span><div class='button-container' ><\!--<a role=\"button\" class='button tryAgain good'>Try Again</a>--\><a href=\"#\" role=\"button\" class='button closeWindow submit' aria-describedby=\"av-rejection-text\">Close Window</a></div></div></div>");if(!b)return c.toString()}
function JE(a,b){var c=b||new W;c.append("<div class='av-dialog'><div class='content'><div class='content-background'></div><div class='message' id=\"av-ended-text\">This video chat has ended.</div><div class='button-container' ><a href=\"#\" role=\"button\" class='button closeWindow' aria-describedby=\"av-ended-text\">Close</a></div></div></div>");if(!b)return c.toString()}
function PE(a,b){var c=b||new W;c.append("<div class='av-dialog'><div class='content'><div class='content-background'></div><span id=\"av-outboundcallconfirmation-text\"><div class='message'>You&#8217;re about to start a video chat with</div><div class='username'>",X(a.dP),"</div><div class='message'>You&#8217;re currently chatting with ",X(a.QL),'.</div></span><div class=\'button-container\' ><a href="#" role="button" class=\'button decline\' aria-describedby="av-outboundcallconfirmation-text">Cancel</a><a href="#" role="button" class=\'button accept good\' aria-describedby="av-outboundcallconfirmation-text">Call</a></div><div class=\'message subtext\'>Calling ',
X(a.dP)," will end your chat with ",X(a.QL),".</div></div></div>");if(!b)return c.toString()}function SE(a,b){var c=b||new W;c.append("<iframe class='av-iframe' src=\"",X(a.url),'" />');if(!b)return c.toString()};


function iL(a,b){var c=b||new W;c.append('<div class="commons-status-form-author"><img src="',X(a.he),'" class="avatar" /></div>');if(!b)return c.toString()}function lL(a,b){var c=b||new W;c.append('<div class="posting-form"><div class="plain-text-div"><div class="inputs position-relative"></div></div><div class="commons-posting-form-bar"><a role="button" class="posting-button submit button">Post</a><div class="commons-posting-form-toggles"></div></div></div>');if(!b)return c.toString()}
function LL(a,b){var c=b||new W;c.append('<div class="posting-form"><div class="inputs"></div><div class="commons-posting-form-bar"><a role="button" class="posting-button">Send</a><span class="commons-posting-form-toggles"></span></div></div>');if(!b)return c.toString()}
function HL(a,b){var c=b||new W;c.append('<div class="clearfix commons-status" id="',X(a.id),'"><img src="',X(a.he),'" class="avatar" onerror="aim.ui.iconFail.Handle(this)" /><div class="content"><div class=\'when\'></div><p class="who">',X(a.name),'</p><p class="status">',al(a.status),'</p><div class="actions"></div></div></div>');if(!b)return c.toString()}function ML(a,b){var c=b||new W;c.append("Are you sure you want to delete this?");HL(a,c);if(!b)return c.toString()};

function sM(a,b){var c=b||new W;c.append('<div class="box type-',X(a.type),'" data-controller-id="',X(a.UU),'">');(c||new W).append('<div class="box-header"><div class="actions"><div class="title">',a.he?'<img src="'+X(a.he)+'" class="icon" align="absmiddle" alt="" />':'<div class="icon"></div>','<div class="name-info"><div class="friendly">',X(a.title),'</div><div class="desc"><p>',a.Sv?a.Sv:"",'</p></div></div></div></div><div class="separator"></div></div>');(c||new W).append('<div class="box-body-loading"><div class="indicator"></div></div>');
(c||new W).append('<div class="box-body-error"><p>An error occurred while loading this chat.</p></div>');c.append('<div class="box-count">0</div></div>');if(!b)return c.toString()}
function cM(a,b){var c=b||new W;c.append('<div class="box-untrusted"><div class="content" ><span class="box-untrusted-text" id="box-untrusted-text">Is it OK for this person to keep<br />sending you messages?</span><div class="box-untrusted-buttons">',a.rV?'<a href="#" role="button" class="box-untrusted-button report button danger" type="button" value="Report" aria-describedby="box-untrusted-text">Report</a>':"",'<a href="#" role="button" class="box-untrusted-button reject button" type="button" value="No" aria-describedby="box-untrusted-text">No</a><a href="#" role="button" class="box-untrusted-button accept button" type="button" value="Yes" aria-describedby="box-untrusted-text">Yes</a></div></div></div>');
if(!b)return c.toString()}function FM(a,b){var c=b||new W;c.append('<div class="box-body"></div>');if(!b)return c.toString()};


function SU(a){var b=new W;b.append('<a role="button" class="control ',"CONNECT"!=a.target?"sprite ":"",'hey-icon" title="',X(a.h6),'">',"CONNECT"!=a.target?'<img class="hey-icon-img '+X(a.target)+'" alt="'+X(a.target)+'" src="'+X(P())+'common/spritelo/LoSprite.png"/>':'<div class="target-name">'+X(a.target)+"</div>",'</a><div class="hey-icon-info">',100<=a.JJ?'<div class="hey-icon-count">99+</div>':a.JJ?'<div class="hey-icon-count">'+X(a.JJ)+"</div>":'<div class="hey-icon-count empty"></div>',"</div>");
return b.toString()}
function dX(a,b){var c=b||new W;c.append('<div class="hey-activity" id="heyAct-',X(a.id),'">',a.Ji?a.Qd?'<div class="userIcon"><a href="'+X(a.Qd)+'" target="_new"><img src="'+X(a.Ji)+'" alt="" /></a></div>':'<div class="userIcon"><img src="'+X(a.Ji)+'" alt="" /></div>':"",'<div class="content">',a.Pa?a.Qd?'<div class="userName"><a href="'+X(a.Qd)+'" target="_new">'+X(a.Pa)+"</a></div>":'<div class="userName">'+X(a.Pa)+"</div>":"",a.mS?'<div class="hey-timestamp">&nbsp;</div>':"",'<div class="title">',
a.Yv,"</div>");n_(a,c);c.append(a.zl&&"aim"==a.rb?"client_upgrade"==a.type||"alert"==a.type?'<div class="body">'+a.zl+"</div>":'<div class="body">'+X(a.body)+"</div>":'<div class="body">'+X(a.body)+"</div>",'</div><div class="actions"></div><a href="#" class="delete" title="delete"></a></div>');if(!b)return c.toString()}
function cX(a,b){var c=b||new W;c.append('<div class="hey-activity email ',X(a.rb),'" id="heyAct-',X(a.id),'"><div class="content"><div class="userName">',X(a.Pa),'</div><div class="hey-timestamp"></div><div class="title"><a href="',X(a.wp),'" target="_new">',X(a.title),"</a></div>",a.body?'<div class="body">'+X(a.body)+"</div>":"",'</div><a href="#" class="delete" title="delete"></a></div>');if(!b)return c.toString()}
function bX(a,b){var c=b||new W;c.append('<div class="hey-activity tagged" id="heyAct-',X(a.id),'"><div class="content"><div class="userIcon"><img src="',X(P()),'hey/images/tag.png" alt="tag" /></div>',a.Pa?a.Qd?'<div class="userName"><a href="'+X(a.Qd)+'" target="_new">'+X(a.Pa)+"</a></div>":'<div class="userName">'+X(a.Pa)+"</div>":"",'<div class="title">',a.Yv,"</div>",a.mS?'<div class="hey-timestamp">&nbsp;</div>':"");n_(a,c);c.append('</div><div class="actions"></div><a href="#" class="delete" title="delete"></a></div>');
if(!b)return c.toString()}function YT(a,b){var c=b||new W;c.append('<div class="hey-activity fetching">Checking for updates...</div>');if(!b)return c.toString()}function ZT(a,b){var c=b||new W;c.append('<div class="hey-activity no-activities">No new ',X(a.rb)," notifications.</div>");if(!b)return c.toString()}function ST(a,b){var c=b||new W;c.append('<span class="action button ',X(a.type),'"><a href="',X(a.href),'">',X(a.label),"</a></span>");if(!b)return c.toString()}
function aX(a,b){var c=b||new W;c.append('<span class="action-taken ',X(a.type),'">',X(a.label),'<span class="hey-timestamp"></span></span>');if(!b)return c.toString()}function UT(a,b){var c=b||new W;c.append('<div class="popupContainer"></div>');if(!b)return c.toString()}function n_(a,b){(b||new W).append(a.Or?a.wp?'<a href="'+X(a.wp)+'" target="_new"><img src="'+X(a.Or)+'" class="thumbnail" alt="" /></a>':'<img src="'+X(a.Or)+'" class="thumbnail" alt="" />':"")}
function MU(a,b){var c=b||new W;c.append("Sure you want to remove ",X(a.yb),"?");if(!b)return c.toString()};


function Cn(a,b){var c=b||new W;c.append('<div class="chats-banner hide" ><div class="message-container" ><span class="message"></span><img class="spinner" src="',X(P()),'common/images/reconnect-spinner.gif" alt="working..."/><a style="margin-left:10px; color: #fff; text-decoration: underline;" class="banner-link" href="#"></a></div></div>');if(!b)return c.toString()}
function LR(a,b){var c=b||new W;c.append('<div class="presence ',X(a.state),' sprite"><img src="',X(P()),'common/spritelo/LoSprite.png" alt=" ',X(a.state),'" /></div>');if(!b)return c.toString()};



function Kw(a,b){var c=b||new W;c.append('<div class="multi-chooser clearfix"><ul class="fake-input clearfix"><li class="chooser"></li></ul><div class="multi-chooser-submit"><a href="#" role="button" class="button submit">',X(a.wU),"</a></div></div>");if(!b)return c.toString()}
function Uw(a,b){var c=b||new W;c.append('<div class="button chosen" data-aim-id="',X(a.cc),'">',a.icon?'<span class="icon"><img src="'+X(a.icon)+'" class="icon-img" role="presentation"/></span>':'<span class="icon hidden"><img class="icon-img" role="presentation"/></span>','<span class="text">',uy(X(a.Pa),10),'</span><span class="sprite close"><img src="',X(P()),'common/spritelo/LoSprite.png" alt="Remove user"/></span></div>');if(!b)return c.toString()};

function aS(a,b){var c=b||new W;c.append('<div class="picnic-members loading"><div class="load-box">Loading members...</div><div class="members-content"><div class="title">');dS({Go:a.Go},c);c.append('<div class="back"></div></div>');(c||new W).append('<div class="members styled-scrollable"></div>');c.append('<div class="inviter-container"></div></div></div>');if(!b)return c.toString()}
function dS(a,b){var c=b||new W;c.append('<div class="icon"></div>',1==a.Go?X(a.Go)+" guest":X(a.Go)+" guests");if(!b)return c.toString()}
function ZR(a,b){var c=b||new W;c.append('<a href="#" class="member member-',X(a.Kk.cc),'"><div class="memberRemove" ><div class="member-remove-img" title="Remove ',X(a.Kk.Pa),'"> </div></div>',a.Kk.icon?'<img src="'+X(a.Kk.icon)+'" alt="'+X(a.Kk.Pa)+'" align="absmiddle" class="user-icon" />':'<div class="memberIcon"></div>','<div class="name" title="',X(a.Kk.cc),'">',X(a.Kk.Pa),"</div>");a.Kk.state&&LR({state:a.Kk.state},c);c.append("</a>");if(!b)return c.toString()}
function $L(){var a=new W;a.append("You&#8217;re trying to create a group with a name that is inappropriate. Please try again.");return a.toString()}function ZL(){var a=new W;a.append("Sorry, we don&#8217;t allow the following characters in group chat names: & ( ) [ ] < > \\ / \" ' : - @");return a.toString()};

function XR(a,b){var c=b||new W;c.append('<div class="invitation"><div class="invite-confirmation">',a.Ji?'<img src="'+X(a.Ji)+'" class="user-icon" />':"",'<div class="message" id="groupChatInvitationLabel"><span class="user-name">',X(a.Pa),'</span><span class="title">',X(a.title),'</span></div><div class="actions"><a href="#" tabindex="20" class="button small good accept" title="accept" activity="',X(a.id),'" imserv="',X(a.hF),'" aria-describedby="groupChatInvitationLabel">Accept</a><a href="#" tabIndex="20" class="button small bad decline" title="decline" activity="',
X(a.id),'" imserv="',X(a.hF),'" aria-describedby="groupChatInvitationLabel">Decline</a></div></div></div><div class="members"><h2>Group members</h2><ul class="member-list"></ul></div>');if(!b)return c.toString()};

function pR(a,b){var c=b||new W;c.append('<div class="picuploader-container install"><div class="picuploader-install-message">You will need a new version of Flash Player to upload your image.</div><div class="picuploader-install-buttons"><a href="http://get.adobe.com/flashplayer" target="_blank" class="button marketing large" onclick="var w = window.',X(a.ff)," || window.parent.",X(a.ff)," || window.opener.",X(a.ff),'; if(w[\'flashInstallClicked\']) w[\'flashInstallClicked\']();">Install Flash Player</a><a role="button" name="close" id="close" class="button cancel large" onclick="var w = window.',
X(a.ff)," || window.parent.",X(a.ff)," || window.opener.",X(a.ff),"; if(w['close']) w['close']();\">Close</a></div></div>");if(!b)return c.toString()}
function mR(a,b){var c=b||new W;c.append('<div class="picuploader-container install"><div class="picuploader-install-message">Thanks for installing Flash. Once you&#8217;re done, you may have to reload AIM.</div><div class="picuploader-install-buttons close-only"><a role="button" name="close" class="button cancel large" onclick="var w = window.',X(a.ff)," || window.parent.",X(a.ff)," || window.opener.",X(a.ff),"; if(w['close']) w['close']();\">Close</a></div></div>");if(!b)return c.toString()}
function qR(a,b){var c=b||new W;c.append('<div class="picuploader-container"><div class="picuploader-loading">Loading...</div>');(c||new W).append('<object type="application/x-shockwave-flash" data="',X(P()),'common/flash/picuploader.swf" width="400px" height="500px" class="picUploaderSwf" name="picUploaderSwf" id="picUploaderSwf"><param name="movie" value="',X(P()),'common/flash/picuploader.swf"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="flashvars" value="lang=en-us&amp;env=',
X(a.IV),"&aimsid=",Ka(""+a.h5),"&amp;devId=",X(a.iV),"&amp;fssService=",X(a.nW),"&amp;target=",X(a.target),"&amp;mode=",X(a.mode),"&amp;imserv=",X(a.OX),"&amp;externalContext=",X(a.LV),"&amp;fssSendDirectly=",X(a.mW),"&amp;debug=",X(a.debug),'" /></object>');c.append("</div>");if(!b)return c.toString()};

function Yw(a,b){var c=b||new W;o_({content:" "},c);if(!b)return c.toString()}
function o_(a,b){var c=b||new W;c.append('<div class="playground-preview"><div class="row"><div class="preview-content">',a.content,"</div>");(c||new W).append('<div class="icons"><a role="button" class="control link share" title="Share this on AIM" tabindex="-1">Share this</a></div>');c.append("</div>");(c||new W).append('<div class="share-box-container"></div><p class="success">You shared this.</p>');c.append("</div>")}
function ax(a,b){var c=b||new W;c.append('<div class="playground-movie-failure"><div>This video won&#8217;t load.</div><div>(It&#8217;s most likely a bad link.)</div></div>');if(!b)return c.toString()}function kP(a,b){var c=b||new W;o_({content:'<div class="video-accessories"><div class="play-button-container"><div class="play-button"><div class="play-icon"></div></div></div>'+(a.k4?'<div class="duration">'+X(a.k4)+"</div>":"")+"</div>"},c);if(!b)return c.toString()}
function hP(a,b){var c=b||new W;c.append('<div class="tweet">',a.aR?'<img src="'+X(a.aR)+'" target="_blank" />':"",'<div class="container"><p class="name">',X(a.name),' <a href="http://twitter.com/',X(a.FR),'" target="_blank">@',X(a.FR),'</a></p><p class="text">',a.text,"</p></div></div>");if(!b)return c.toString()}
function nP(a,b){var c=b||new W;c.append('<object width="',X(a.width),'" height="',X(a.height),'" style="-webkit-user-select: none; "><param name="wmode" value="opaque" /><param name="movie" value="',X(a.src),'" style="-webkit-user-select: none; "><param name="allowFullScreen" value="true" style="-webkit-user-select: none; "><param name="allowscriptaccess" value="always" style="-webkit-user-select: none; "><embed src="',X(a.src),'" type="application/x-shockwave-flash" width="',X(a.width),'" height="',
X(a.height),'" allowscriptaccess="always" allowfullscreen="true" style="-webkit-user-select: none; " wmode="opaque"></object>');if(!b)return c.toString()};

function AY(a,b){var c=b||new W;c.append('<div class="settings settingsComponent">');var d=c||new W;d.append('<div id="bodycontent"><div id="mainBG">');Xy(d);d.append('<div id="headerBanner"><div class="settings-gear"></div><div id="headerBannerText">Settings</div>',"",'</div><div id="settingsSectionChoices"><\!--<div id="header"><div id="headerText">Settings</div></div>--\><div class="settingsSectionChoicesList"></div></div>');d.append('<div class="rightPanel"></div></div></div>');c.append("</div>");
if(!b)return c.toString()}
function aW(a,b){var c=b||new W;c.append('<div class="services"><div class="panel-header">Chat, get your feeds, comments, friend requests and more. Click a service below to add or edit your favorite social networks and mail accounts.</div><div class="service-list-container" id="serviceListContainer"><h3 class="section-header">Chats</h3><div class="menu-list service-list chat"><div class="facebook-chat"></div><div class="google-chat noBorder menuListBottom"></div></div><h3 class="section-header">Feeds</h3><div class="menu-list service-list chat"><div class="facebook-social"></div><div class="twitter-social"></div><div class="instagram-social"></div><div class="google-social"></div><div class="aolmail-social noBorder menuListBottom"></div></div></div></div>');if(!b)return c.toString()}
function YV(a,b){var c=b||new W;c.append('<div class="general-panel"><div class="panel-header">General preferences</div><div class="menu-list"><\!--<div><div class="service-header"><div class="inner"><div class="fright"><div class="edit"><a href=""><span>edit</span></a></div></div><div class="service"><h3>Edit name</h3></div></div></div></div><div>--\><div class="service-header" dest="changePassWord"><div class="inner" dest="changePassWord" ><\!--<div class="fright"><div class="edit"><a href=""><span>edit</span></a></div></div>--\><div class="service"><h3 dest="changePassWord">Change your password</h3></div></div></div>',
"client"==a.y6?'<div class="service-header multiwindow-zippy-header"><div class="inner"><div class="fright"><div class="edit"><span>edit</span></div></div><div class="service"><h3>Change your layout (window configuration)</h3></div></div></div><div class="section blockList-n"><div class="inner"><div class="notify"></div><div class="section multiwindow-zippy-content"><div class="marginbottom"><li><input id="multiwindow-single" class="multiwindow-mode-input" type="radio" name="multiwindow" value="main" checked/><label for="multiwindow-single">Display my chats in the main window</label></li><li><input id="multiwindow-tabbed" class="multiwindow-mode-input" type="radio" name="multiwindow" value="tabbed"/><label for="multiwindow-tabbed">Display my chats in a tabbed window</label></li></div></div></div></div><\!-- The notifications settings. --\><div class="preference"><input type="checkbox" name="notifications" id="showNotifications" value="popupsOn" dest="notifications"'+
("true"==a.kZ?'checked="checked"':"")+'><label for="showNotifications">Show pop up notifications</label><div class="saved">Saved</div></div>'+(a.t5?'<div class="preference"><div class="saved exitOnClose">Saved</div><input type="checkbox" id="exitOnClose" dest="exitOnClose"'+("true"==a.KV?'checked="checked"':"")+'/><label for="exitOnClose">Sign me out and exit AIM when I close my contact list.</label></div>':""):"","</div></div></div>");if(!b)return c.toString()}
function AV(a,b){var c=b||new W;c.append('<div id="',X(a.yb),'" role="button" aria-label="',a.xe?"Edit - "+X(a.Jn):"Add"," ",X(a.BI),'"><a href="#" class="service-header ',a.rz?"reAuthNeeded":""," ",X(a.yb),'List-z" ',!a.xe?'serviceName="'+X(a.yb)+'"':"",' tabIndex="0"><div class="inner" ',!a.xe?'serviceName="'+X(a.yb)+'"':"",'><img width="27" height="27" src="',X(P()),X(a.MX),'" alt="',X(a.yb),'"/><div class="fright" ',!a.xe?'serviceName="'+X(a.yb)+'"':"",">",a.xe?'<div class="edit chat '+X(a.yb)+
'">edit</div>':'<div class="add" serviceName="'+X(a.yb)+'"><img src="'+X(P())+'settings/images/plus.png" alt="" /><span>add</span></div>','</div><div class="service" ',!a.xe?'serviceName="'+X(a.yb)+'"':"","><h3 ",!a.xe?'serviceName="'+X(a.yb)+'"':"",">",!a.xe?"Add "+X(a.BI)+"</span>":'<span class="friendly-name">'+X(a.Jn)+'</span> <span class="service-display">('+X(a.BI)+")</span>",'</h3></div></div></a ></div><div class="',X(a.yb),'List-n">',a.xe?'<div class="section account-settings">'+(a.rz?'<div class="reAuth" serviceName="'+
X(a.yb)+'"><div class="reauthMsg">There was an error connecting to this account. <span class="add reauthLink"><a href="#">Click here</a></span> to reauthorize this account.</div></div>':"")+'<div class="inner" ><div class="notify"><div class="saved">Saved</div>Account settings:</div><\!--<ul><li class="linkHand" serviceName="'+X(a.yb)+'" accountOption="autoLogin" value="'+X(a.YK)+'">'+(a.YK?'<input class="checkbox" type="checkbox" checked="checked"/>':'<input class="checkbox" type="checkbox"/>')+
'Auto login enabled</li></ul>--\></div><a role="button" class="button remove delete" serviceName="'+X(a.yb)+'"><img alt="delete" src="'+X(P())+'settings/images/red-trashcan.png" />&nbsp;Remove this account</a>':"","</div></div>");if(!b)return c.toString()}function cW(a,b){var c=b||new W;c.append('<div class="messaging"><div class="panel-header">Sound preferences</div><div class="menu-list"><div class="pref-list"></div></div></div>');if(!b)return c.toString()}
function eW(a,b){var c=b||new W;c.append('<div class="chat-style"><div class="panel-header">Customize your chats</div><div class="pref-list chat-style-prefs">');var d=c||new W;d.append('<div class="pref-section history-style-pref"><h2>Chat display</h2><div class="saved historyStyleSaved">Saved</div><div class="history-style"><div class="inner"><ul class="pref-list"><li class="chat-bubbles-option"><div class="pref-sample">');p_(a,d);d.append('</div><input id="chat-bubbles" class="viewIMsInBubbles pref-enabled" type="radio" name="chatStyle" /><label for="chat-bubbles">Bubbles</span></label></li><li class="chat-no-bubbles-option"><div class="pref-sample non-bubble">');
p_(a,d);d.append('</div><input id="chat-no-bubbles" class="viewIMsInBubbles pref-disabled" type="radio" name="chatStyle" /><label for="chat-no-bubbles">Classic</span></label></li></ul></div></div></div>');(c||new W).append('<div class="pref-section timestamp-style-pref"><h2>Time display</h2><div class="saved timestampStyleSaved">Saved</div><div class="timestamp-style"><div class="inner"><ul class="pref-list"><li><input id="history-timestamp-relative" class="viewIMTimestampsRelative pref-enabled" type="radio" name="timestampStyle" /><label for="history-timestamp-relative">Show relative time in chat history <span class="eg">(e.g. 3 mins ago)</span></label></li><li><input id="history-timestamp-static" class="viewIMTimestampsRelative pref-disabled" type="radio" name="timestampStyle" /><label for="history-timestamp-static">Show exact time in chat history <span class="eg">(e.g. 10:05 AM)</span></label></li></ul></div></div></div>');
(c||new W).append('<div class="pref-section default-font-pref"><h2>Font preferences</h2><h4>Use this font when sending my messages</h4><div class="saved fontStyleSaved">Saved</div><div class="font-editor"></div></div>');c.append("</div></div>");if(!b)return c.toString()}
function p_(a,b){(b||new W).append('<div class="messaging-message-messagebox " aimid="gabbygrace"><div class="messaging-message-container buddy"><div class="header "><div class="row clearfix"><div class="icon" aimid="gabbygrace"><img class="messaging-avatarImg" align="absmiddle" title="Gabby Grace (gabbygrace)" alt="Gabby Grace\'s icon" src="',X(P()),'settings/images/fake_avatar.png" aimid="gabbygrace" onerror="aim.ui.iconFail.Handle(this)"></div><div class="displayname" aimid="gabbygrace" title="Gabby Grace (gabbygrace)">Gabby Grace</div></div></div><div class="messaging-message"><div class="row clearfix"><span class="messaging-message-header"><div class="header "><div class="row clearfix"><div class="icon" aimid="gabbygrace"><img class="messaging-avatarImg" align="absmiddle" title="Gabby Grace (gabbygrace)" alt="Gabby Grace\'s icon" src="',
X(P()),'settings/images/fake_avatar.png" aimid="gabbygrace" onerror="aim.ui.iconFail.Handle(this)"></div><div class="displayname" aimid="gabbygrace" title="Gabby Grace (gabbygrace)">Gabby Grace</div></div></div></span><div class="content  buddy  "><div><span style="font-family:sans-serif">wanna do lunch?</span></div></div></div></div></div><div style="clear:both;"></div></div><div class="messaging-message-messagebox " aimid="',X(a.V.cc),'"><div class="messaging-message-container mine"><div class="header me"><div class="row clearfix"><div class="icon" aimid="',
X(a.V.cc),'"><img class="messaging-avatarImg me-icon" align="absmiddle" title="',X(a.V.ek),'" alt="',X(a.V.Pa),'\'s icon" src="',X(a.V.gB),'" aimid="',X(a.V.cc),'" onerror="aim.ui.iconFail.Handle(this)"></div><div class="displayname" aimid="',X(a.V.cc),'" title="',X(a.V.ek),'">',X(a.V.Pa),'</div></div></div><div class="messaging-message mine"><div class="row clearfix"><span class="messaging-message-header"><div class="header me"><div class="row clearfix"><div class="icon" aimid="',X(a.V.cc),'"><img class="messaging-avatarImg me-icon" align="absmiddle" title="',
X(a.V.ek),'" alt="',X(a.V.Pa),'\'s icon" src="',X(a.V.gB),'" aimid="',X(a.V.cc),'" onerror="aim.ui.iconFail.Handle(this)"></div><div class="displayname" aimid="',X(a.V.cc),'" title="',X(a.V.ek),'">',X(a.V.Pa),'</div></div></div></span><div class="content  mine  "><span class="aimFont" style="font-family:arial">sounds good</span></div></div></div></div><div style="clear:both;"></div></div>')}
function UV(a,b){var c=b||new W;c.append('<div class="inner"><div class="pref-fontbar"></div><div class="pref-sample-frame"><span class="pref-sample">Sample Text</span></div><div class="saved font">Saved</div></div>');if(!b)return c.toString()}
function KV(a,b){var c=b||new W;c.append('<div class="service-header ',X(a.type),'List-z"><div class="inner"><div class="fright"><div class="edit"><span>edit</span></div></div><div class="service"><h3>',X(a.type),'</h3></div></div></div><div class="section preferences ',X(a.type),'List-n"><div class="inner"><ul class="prefsNamesList"></ul></div></div></div>');if(!b)return c.toString()}
function MV(a,b){for(var c=b||new W,d=a.items,f=d.length,g=0;g<f;g++){var i=d[g];c.append('<li class="linkHand preference" key="',X(i.key),'" category="',X(i.type),'" prefValue="',X(i.value),'"><div class="saved">Saved</div>',"true"==i.value?'<input class="prefKey checkbox" id="'+X(i.key)+'" category="'+X(i.type)+'" prefValue="'+X(i.value)+'" type="checkbox" checked="checked" />':'<input class="prefKey checkbox" id="'+X(i.key)+'" category="'+X(i.type)+'" prefValue="'+X(i.value)+'" type="checkbox" />',
'<label for="',X(i.key),'">',X(i.vo),"</label></li>")}if(!b)return c.toString()}
function q_(a,b){(b||new W).append('<input type="',X(a.Mf),'"',a.key?'id="'+X(a.key)+'"':"",a.type?'category="'+X(a.type)+'";':"","radio"==a.Mf?'class="prefKey checkbox '+X(a.key)+'"':"file"==a.Mf?'class="'+X(a.Mf)+'"':'class="prefKey '+X(a.Mf)+'"',a.value?"button"==a.Mf||"radio"==a.Mf?'value ="'+X(a.value)+'"':'prefValue="'+X(a.value)+'"':"",a.value==a.LA&&a.name==a.JA||"true"==a.value?'checked="checked"':"",a.name?'name="'+X(a.name)+'"':"",a.disabled?'disabled="'+X(a.disabled)+'"':"","/>",a.vo?
'<label for="'+X(a.key)+'">'+X(a.vo)+"</label>":"")}
function LV(a,b){var c=b||new W;c.append('<li class="linkHand preference sounds" key="',X(a.key),'" category="',X(a.type),'" prefValue="',X(a.value),'"><div class="sound-group">');q_({key:"useNewSoundRadio",value:"1",vo:"Play the new AIM sound",Mf:"radio",name:"soundToPlay",JA:X(a.key),LA:X(a.value)},c);q_({key:"useNewSoundPreview",Mf:"button",value:"Preview"},c);c.append('</div><div class="sound-group">');q_({key:"useClassicSoundRadio",value:"2",vo:"Play the classic AIM sound",Mf:"radio",name:"soundToPlay",
JA:X(a.key),LA:X(a.value)},c);q_({key:"useClassicSoundPreview",Mf:"button",value:"Preview"},c);c.append('</div><div class="sound-group file-display disabled">');q_({key:"useSoundFileRadio",value:"3",Mf:"radio",name:"soundToPlay",JA:X(a.key),LA:X(a.value),disabled:"true"},c);c.append('<label for="useSoundFileRadio" class="hasFile">Play my sound</label><label class="hasNoFile">(No saved sound)</label>');q_({key:"useFileSoundPreview",Mf:"button",value:"Preview",disabled:"true"},c);c.append('<br><div class="sound-upload-label"> Select a sound file on your computer.  Supported types: mp3, aac, m4a</div><div class="pseudo-file-frame"><div type="button" class="pseudo-file button">Choose file<div class="uploadSwf"></div><div class="pseudoFile-image"></div>');
q_({key:"soundSettingFile",Mf:"file"},c);c.append('</div><div class="showForFile current-file-name">Some file name</div><div id="deleteSoundFile" class="showForFile delete-file-button"><img src="',X(P()),'common/spritelo/LoSprite.png"></div></div><div class="progress-container"></div></div><div class="sound-group last">');q_({key:"useNoSoundRadio",value:"0",vo:"No sound",Mf:"radio",name:"soundToPlay",JA:X(a.key),LA:X(a.value)},c);c.append('</div><div class="saved Sounds">Saved</div></li>');if(!b)return c.toString()}
function jW(a,b){var c=b||new W;c.append('<div class="advanced"><div class="panel-header">Manage your privacy</div><div class="prefs-list"></div></div>');if(!b)return c.toString()}
function xW(a,b){var c=b||new W;c.append('<div class="mobile-privacy-box"><div class="service-header privacy-zippy-header"><div class="mobile-device inner"><div class="fright"><div class="edit"><span>Edit</span></div></div><div class="service"><h3>Mobile Privacy</h3></div></div></div><div class="section privacy-zippy-content"><div class="marginbottom"><div class="marginbottom">You may choose who is able to send you messages.</div><li><input id="mobile-privacy-all" class="mobile-privacy" type="radio" name="privacy" value="1" checked> Accept messages from everyone.</li><li><input id="mobile-privacy-list" class="mobile-privacy" type="radio" name="privacy" value="7"> Accept messages only from people on my contact list or recent chats.</li></div></div></div>');if(!b)return c.toString()}
function lW(a,b){var c=b||new W;c.append('<div class="textmessaging"><div class="panel-header">Update text messaging settings. Message and data rates may apply.</div><div id="mobile-settings" class="mobile-settings"><div id="mobile-device-list" class="mobile-device-list menu-list"><div class="service-header mobile-zippy-header"><div class="mobile-device inner"><div class="fright"><div class="add"><a href=""><img src="',X(P()),'settings/images/plus.png" alt="" /><span>edit</span></a></div></div><div class="service"><h3>Register a mobile device</h3></div></div></div><div class="section mobile-zippy-content"><div class="marginbottom">Enter your ten-digit mobile number and we&#8217;ll send you a confirmation code now.</div><li>+1 <input class="number-to-register" class="device-number" size="10" maxlength="10" /> <a class="write-device">Send Code Now</a></li></div></div><div class="mobile-zippy-header the-details">For now, we support country code 1. <a>View supported carriers, terms and conditions.</a></div><div class="mobile-zippy-content the-details"><p class="section-title">Is there a charge to send and receive text messages from AIM?</p><p>While AIM won&#8217;t charge you a penny, mobile service providers may charge to deliver texts to a mobile device. Check your provider&#8217;s plan for details.</p><p class="section-title clear">What are the terms of service?</p><p>By using AIM, you agree to AOL&#8217;s <a target="tos" href="http://legal.aol.com/aimTOS">Terms of Service</a> and <a target="privacy" href="http://privacy.aol.com">Privacy Policy</a>. We provide the messaging service as-is. Messaging and/or data rates may apply.</p><p class="section-title clear">How do I get help or stop messages from my phone?</p><p class="clear">For help, send HELP to 265265. Send/reply STOP to cancel.</p><p class="section-title clear">Which carriers are supported?</p><div class="carrier-column"><li>Alltel</li><li>Appalachian Wireless</li><li>AT&T</li><li>Bluegrass Cellular</li><li>Boost</li><li>Cellular One</li><li>Centennial Cellular</li></div><div class="carrier-column"><li>Cincinnati Bell</li><li>Cox TMI Wireless</li><li>Cricket Wireless</li><li>GCI/Alaska DigiTel</li><li>Golden State Cellular</li><li>Google Voice</li></div><div class="carrier-column"><li>Illinois Valley</li><li>Immix Wireless</li><li>Inland Cellular</li><li>Nex-Tech</li><li>nTelos Wireless</li><li>Sprint</li></div><div class="carrier-column"><li>T-Mobile</li><li>United Wireless</li><li>US Cellular</li><li>Verizon</li><li>Virgin Mobile</li><li>West Central</li></div></div>',
a.VO?'<a role="button" id="get-the-app" class="control get-the-app" message="Get AIM here: '+X(a.VO)+'"><img src="'+X(P())+'settings/images/settings_runningman.png" alt="aim"/><div>Get AIM for your mobile device!</div></a>':"","</div>");if(!b)return c.toString()}
function qW(a,b){var c=b||new W;c.append("<\!-- ",X(a.DI)," --\><\!-- ",X(a.RJ),' --\><div class="device-',X(a.pG),'"><div class="service-header device-zippy-header"><div class="inner ',0==a.Rx?"mobile-device-unregistered":"mobile-device",'"><div class="fright"><div class="edit"><span>',0==a.Rx?" Register Device ":" Edit ",'</span></div></div><div class="service"><h3>Text messaging settings for ',X(a.qG)," ",0==a.Rx?"":"",'</h3></div></div></div><div class="section device-zippy-content device"><div class="right"><a class="delete-device" deviceId="',
X(a.id),'" number="',X(a.pG),'" numberFormatted="',X(a.qG),'">Delete</a></div>',0==a.Rx?'<p>We can <a class="send-code-to-device" number="'+X(a.pG)+'" deviceId="'+X(a.id)+'">send you a code</a> to register this device right now.</p><p style="margin:20,0px">Added: '+X(a.VU)+"</p>":'<div class="marginbottom"><div class="section-title">Text Messaging Settings</div><div class="marginbottom">When you go offline, any messages sent to you are automatically sent to your mobile device.</div><li><input class="checkbox write-service" serviceType="2" deviceId="'+
X(a.id)+'" type="checkbox" '+(a.jW==j?' checked="checked" ':"")+' /> Enable IM forwarding.</li><li><input class="checkbox write-service" serviceType="8" deviceId="'+X(a.id)+'" type="checkbox" '+(a.sU==j?' checked="checked" ':"")+" /> Block users from sending messages directly to "+X(a.qG)+'.</li></div><p style="margin:20,0px">Updated: '+X(a.RJ)+"</p>","</div></div>");if(!b)return c.toString()}function pW(a,b){var c=b||new W;c.append('\t<div class="mobile-list"></div>');if(!b)return c.toString()}
function BW(a,b){var c=b||new W;c.append('<div class="pref-section"><h2>Choose who can send you messages</h2><div class="saved whoCanChatSaved">Saved</div><div class="pd-modes"><div class="inner"><ul class="pref-list"><li><input id="pd-everyone" class="pd-radio pd-block-input" type="radio" name="pdMode" value="permitAll" checked/><label for="pd-everyone">Everyone</label></li><li><input id="pd-block" class="pd-radio pd-block-input" type="radio" name="pdMode" value="denySome" checked/><label for="pd-block">Everyone except the people on my block list</label></li><li><input id="pd-contacts" class="pd-radio pd-contacts-input" type="radio" name="pdMode" value="permitOnList"/><label for="pd-contacts">Only users in my contact list</label></li><li><input id="pd-allow" class="pd-radio pd-allow-input" type="radio" name="pdMode" value="permitSome"/><label for="pd-allow">Only the users on my allow list</label></li></ul></div></div><div class="section pd-list-container"></div><div class="preference buddyonly-groupchat"><input type="checkbox" class="buddyOnlyGroupChat" id="buddyOnlyGroupChat"/><label for="buddyOnlyGroupChat">Only receive group chat invitations from people on my contact list</label></div></div><div class="pref-section"><h2>Who can see my status updates</h2><div class="section"><div class="inner"><div class="saved updatesPrivacySaved">Saved</div><ul class="pref-list privacy-prefs"><li><input type="radio" name="updates-pref" class="updates-pref updates-public" id="updatesPublic" value="public" checked /><label for="updatesPublic">Everyone (public)</label></li><li><input type="radio" name="updates-pref" class="updates-pref updates-buddies" id="updatesBuddies" value="buddies" /><label for="updatesBuddies">Only people on my contact list</label></li><li><input type="radio" name="updates-pref" class="updates-pref updates-private" id="updatesPrivate" value="private" /><label for="updatesPrivate">Only me (private)</label></li></ul></div></div></div><div class="pref-section"><h2>Who can comment on my activities</h2><div class="section"><div class="inner"><div class="saved commentsPrivacySaved">Saved</div><ul class="pref-list comment-prefs"><li><input type="radio" name="comments-pref" class="comments-pref comments-public" id="commentsPublic" value="public" checked /><label for="commentsPublic">Everyone (public)</label><br /></li><li><input type="radio" name="comments-pref" class="comments-pref comments-buddies" id="commentsBuddies" value="buddies" /><label for="commentsBuddies">Only people on my contact list</label><br /></li><li><input type="radio" name="comments-pref" class="comments-pref comments-private" id="commentsPrivate" value="private" /><label for="commentsPrivate">Only me (private)</label></li></ul></div></div></div><div class="pref-section aim-notifications"><h2>Choose what AIM notifications you receive</h2><div class="section"><div class="inner"><div class="saved notificationsSaved">Saved</div><ul class="pref-list notification-prefs"><li><input type="checkbox" id="notificationLikes" class="notification-pref like-pref" checked /><label for="notificationLikes">When someone likes my status</label></li><li><input type="checkbox" id="notificationComments" class="notification-pref comment-pref" checked /><label for="notificationComments">When someone comments on my status</label></li></ul></div></div></div><div class="pref-section"><h2 class="section">Choose how your messages are saved</h2><div class="section logging-n"><div class="inner"><div class="notify"></div><div class="saved globalOTRSaved">Saved</div><input type="checkbox" id="globalOTR" class="prefKey checkbox globalOTR" /><label for="globalOTR">Save chats on the record. These messages will be stored on AIM</label><br>',
a.CX?'<div class="saved localLoggingSaved">Saved</div><input type="checkbox" id="localLogging" class="prefKey checkbox localLogging" /><label for="localLogging">Save a copy of my chats on this computer</label>':"","</div></div></div>");if(!b)return c.toString()}
function DU(a,b){var c=b||new W;if(a.dc.qu)(c||new W).append('<div id="aolmail" class="service-block disabled" role="button" aria-label="Add AOL Mail"><a href="#" class="service-header section aolmail-add" tabIndex="0"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-aol.png" alt=""/><div class="fright"><div class="add"><img src="',X(P()),'settings/images/plus.png" alt="" /><span>add</span></div></div><div class="service"><h3>Connect AOLmail</h3></div></div></a></div>');
else{var d=a.dc.Pa,f=a.dc.kG;(c||new W).append('<div id="aolmail" class="service-block enabled"  role="button" aria-label="Edit AOL Mail"><div class="service-header section aolmail-z"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-aol.png" alt=""/><div class="fright"><div class="edit feeds aolmail">edit</div></div><div class="displayName">',X(d),'</div></div></div><div class="notifications section aolmail-n"><div class="inner"><div class="notify"><div class="saved">Saved</div>Notify me when someone:</div><ul><li class="linkHand aolmail-newMail">',
f?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Sends me AOL Mail</li></ul></div><a role="button" class="button remove delete aolmail-delete"><img alt="delete" src="',X(P()),'settings/images/red-trashcan.png" />&nbsp;Remove this account</a></div></div>')}if(!b)return c.toString()}
function EU(a,b){var c=b||new W;if(a.dc.qu)(c||new W).append('<div id="gmail" class="service-block disabled" role="button" aria-label="Add Gmail"><a href="#" class="service-header section gmail-add" tabIndex="0"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-gmail.png" alt=""/><div class="fright"><div class="add"><img src="',X(P()),'settings/images/plus.png" alt="" /><span>add</span></div></div><div class="service"><h3>Connect Gmail</h3></div></div></a></div>');
else{var d=a.dc.Cj,f=a.dc.Em,g=a.dc.kG;(c||new W).append('<div id="gmail" class="service-block enabled" role="button" aria-label="Edit Gmail - ',X(d),'"><div class="service-header section ',f?"reAuthNeeded":"",' gmail-z"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-gmail.png" alt=""/><div class="fright"><div class="edit feeds gmail">edit</div></div><div class="service"><h3>',X(d),'</h3></div></div></div><div class="notifications section gmail-n">',
f?'<div class="reAuth"><div class="reauthMsg">There was an error connecting to this account. <span class="add reauthLink gmail-add"><a href="#">Click here</a></span> to reauthorize this account.</div></div>':"",'<div class="inner"><div class="notify"><div class="saved">Saved</div>Notify me when someone:</div><ul><li class="gmail-newMail">',g?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Sends me Gmail</li></ul></div><a role="button" class="button remove delete gmail-delete"><img alt="delete" src="',
X(P()),'settings/images/red-trashcan.png" />&nbsp;Remove this account</a></div></div>')}if(!b)return c.toString()}
function CU(a,b){var c=b||new W;if(a.dc.qu)(c||new W).append('<div id="instagram" class="service-block disabled" role="button" aria-label="Add Instagram"><a href="#" class="service-header section instagram-add" tabIndex="0"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-instagram.png" alt=""/><div class="fright"><div class="add"><img src="',X(P()),'settings/images/plus.png" alt="" /><span>add</span></div></div><div class="service"><h3>Connect Instagram</h3></div></div></a></div>');
else{var d=a.dc.Cj,f=a.dc.Em,g=a.dc.JF,i=a.dc.us;(c||new W).append('<div id="instagram" class="service-block enabled" role="button" aria-label="Edit Instagram - ',X(d),'"><div class="service-header section ',f?"reAuthNeeded":"",' instagram-z"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-instagram.png" alt=""/><div class="fright"><div class="edit feeds instagram">edit</div></div><div class="displayName">',X(d),'</div></div></div><div class="notifications section instagram-n">',
f?'<div class="reAuth"><div class="reauthMsg">There was an error connecting to this account. <span class="add reauthLink instagram-add"><a href="#">Click here</a></span> to reauthorize this account.</div></div>':"",'<div class="inner ',f?"reAuthNeeded":"",'"><div class="notify"><div class="saved">Saved</div>Notify me when someone:</div><ul><li class="instagram-like">',g?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Likes a photo</li><li class="instagram-comment">',
i?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Comments on a photo</li></ul></div><a role="button" class="button remove delete instagram-delete"><img alt="delete" src="',X(P()),'settings/images/red-trashcan.png" />&nbsp;Remove this account</a></div></div>')}if(!b)return c.toString()}
function AU(a,b){var c=b||new W;if(a.dc.qu)(c||new W).append('<div id="facebook-social" class="service-block disabled" role="button" aria-label="Add Facebook"><a href="#" class="service-header section facebook-add" tabIndex="0"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-facebook.png" alt=""/><div class="fright"><div class="add"><img src="',X(P()),'settings/images/plus.png" alt="" /><span>add</span></div></div><div class="service"><h3>Connect Facebook</h3></div></div></a></div>');
else{var d=a.dc.Cj,f=a.dc.Em,g=a.dc.Y5,i=a.dc.B6,l=a.dc.iD,q=a.dc.kW,s=a.dc.us,B=a.dc.JF;(c||new W).append('<div id="facebook-social" class="service-block enabled" role="button"  aria-label="Edit Facebook - ',X(d),'"><div class="service-header section ',f?"reAuthNeeded":"",' facebook-z"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-facebook.png" alt=""/><div class="fright"><div class="edit feeds facebook">edit</div></div><div class="service"><h3>',
X(d),'</h3></div></div></div><div class="notifications section facebook-n">',f?'<div class="reAuth"><div class="reauthMsg">There was an error connecting to this account. <span class="add reauthLink facebook-add"><a href="#">Click here</a></span> to reauthorize this account.</div></div>':"",'<div class="inner"><div class="notify"><div class="saved">Saved</div>Notify me when someone:</div><ul><li class="facebook-friendRequest">',q?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />',
'Sends me a friend request</li><li class="facebook-directMessage">',l?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Sends me a message</li><li class="facebook-wallPost">',i?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Posts on my wall</li><li class="facebook-comment">',s?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />',
'Comments</li><li class="facebook-like">',B?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Likes</li><li class="facebook-tags">',g?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Tags me in a photo, video or status</li></ul></div><a role="button" class="button remove delete facebook-delete"><img alt="delete" src="',X(P()),'settings/images/red-trashcan.png" />&nbsp;Remove this account</a></div></div>')}if(!b)return c.toString()}
function BU(a,b){var c=b||new W;if(a.dc.qu)(c||new W).append('<div id="twitter" class="service-block disabled" role="button" aria-label="Add Twitter"><a href="#" class="service-header section twitter-add" tabIndex="0"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-twitter.png" alt=""/><div class="fright"><div class="add"><img src="',X(P()),'settings/images/plus.png" alt="" /><span>add</span></div></div><div class="service"><h3>Connect Twitter</h3></div></div></a></div>');
else{var d=a.dc.Cj,f=a.dc.Em,g=a.dc.eW,i=a.dc.O4,l=a.dc.iD,q=a.dc.RY;(c||new W).append('<div id="twitter" class="service-block enabled"  role="button" aria-label="Edit Twitter - @',X(d),'"><div class="service-header section ',f?"reAuthNeeded":"",' twitter-z"><div class="inner"><img width="27" height="27" src="',X(P()),'settings/images/servicelogos/service-twitter.png" alt=""/><div class="fright"><div class="edit feeds twitter">edit</div></div><div class="displayName">@',X(d),'</div></div></div><div class="notifications section twitter-n">',
f?'<div class="reAuth"><div class="reauthMsg">There was an error connecting to this account. <span class="add reauthLink twitter-add"><a href="#">Click here</a></span> to reauthorize this account.</div></div>':"",'<div class="inner"><div class="notify"><div class="saved">Saved</div>Notify me when someone:</div><ul><li class="twitter-directMessage">',l?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Sends me a message</li><li class="twitter-retweet">',
i?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Retweets my post</li><li class="twitter-mentioned">',q?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Mentions me in a post</li><li class="twitter-follower">',g?'<input class="checkbox" type="checkbox" checked="checked" />':'<input class="checkbox" type="checkbox" />','Follows me or requests to follow me</li></ul></div><a role="button" class="button remove delete twitter-delete"><img alt="delete" src="',
X(P()),'settings/images/red-trashcan.png" />&nbsp;Remove this account</a></div></div>')}if(!b)return c.toString()};

function RZ(a,b){var c=b||new W;c.append('<div class="ftux-overlay"><div class="ftux-header ftux-welcome-header"></div><div class="ftux-sub1">What&#8217;s your name and email address?</div><div class="ftux-sub2">We may occasionally email you to help you find a lost password (those things are slippery) or tell you about neat things.</div><div class="ftux-welcome-form"><div class="ftux-welcome-allfieldsreq">*ALL FIELDS REQUIRED</div><a href="#" class="ftux-welcome-icon" title="Change your picture"><img class="ftux-welcome-icon-img" alt="Change your picture" src="" width="90" height="90"/><div class="ftux-welcome-icon-shadow"></div><div class="ftux-welcome-icon-edit">Change</div></a><div class="input-cell"><input type="text" name="firstname" class="ftux-welcome-firstname" title="First name" /></div><div class="input-cell"><input type="text" name="lastname" class="ftux-welcome-lastname" title="Last name" /></div><div class="input-cell email"><input type="text" name="email" class="ftux-welcome-email" title="Email address" /></div></div><div class="welcome-pushfriendlyname"><input class="ftux-welcome-pushfriendlyname-input" id="pushFriendlyName" type="checkbox" name="pushFriendlyName"><label class="ftux-welcome-pushfriendlyname-label" for="pushFriendlyName">Allow other AIM users to see my name</label></div><div class="ftux-welcome-bottomdiv">');
r_(c);c.append('<a href="#" role="button" class="ftux-welcome-looksgood marketing button">Looks good!</a></div>');s_({cs:"ftux-1"},c);c.append("</div>");if(!b)return c.toString()}
function WZ(a,b){var c=b||new W;c.append('<div class="ftux-overlay facebook"><div class="ftux-header ftux-welcome-header"></div><div class="ftux-welcome-icon"><img class="ftux-welcome-icon-img" alt="Your Picture" src="" width="58" height="58"/></div><div class="ftux-sub1">Now, you&#8217;ll need to authorize us to bring in your Facebook friends.</div><div class="ftux-welcome-form">');r_(c);c.append('</div></div><a href="#" role="button" class="ftux-welcome-addFBFriends marketing button">Add Facebook friends</a><div class="ftux-welcome-no-thanks-div"><a href="#" class="ftux-welcome-no-thanks">No thanks</a></div>');
if(!b)return c.toString()}function r_(a){(a||new W).append('<div class="ftux-welcome-legal">The new AIM logs and stores your conversation history (starting now) whenever you chat with other people using the new AIM.  By clicking this button, you agree to the new <a href="http://legal.aol.com/aimtos" target="_blank">AIM Terms of Service</a>.</div>')}
function YZ(a,b){var c=b||new W;c.append('<div class="ftux-overlay"><div class="ftux-header ftux-addfriends-header"></div><div class="ftux-sub1">Already on Facebook or Google Talk?</div><div class="ftux-sub2">You can add those friends to AIM by connecting your accounts.</div><a href="#" class="outreach-connect facebook" alt="Connect to add your Facebook Friends"><span class="connected">Your Facebook account is connected.</span><span class="disconnect facebook">Disconnect</span></a><a href="#" class="outreach-connect google" alt="Connect to add Google Chat"><span class="connected">Your Google account is connected.</span><span class="disconnect google">Disconnect</span></a><a href="#" class="outreach-connect invite" alt="Invite via email"></a><div class="outreach-connect notice">YOU CAN SKIP THIS STEP AND ADD FRIENDS LATER</div><a href="#" role="button" class="outreach-next-button marketing button">Next</a>');s_({cs:"ftux-2"},
c);c.append("</div>");if(!b)return c.toString()}
function PZ(a,b){var c=b||new W;c.append('<div class="ftux-overlay choosewindow"><div class="ftux-header ftux-choosewindow-header"></div><div class="ftux-sub1">Change can be scary.</div><div class="ftux-sub2">We&#8217;ll let you decide whether to try something new.</div><div class="ftux-choosewindow-single"><div class="ftux-choosewindow-single-image"></div><div class="ftux-choosewindow-radio-div"><input class="ftux-choosewindow-radio ftux-choosewindow-radio-single" type="radio" name="ftux-choosewindow" id="ftux-choosewindow-single" value="single" checked="true"/></div><div class="ftux-choosewindow-radio-label">NEW</div><div class="ftux-choosewindow-radio-desc">CONTACT LIST AND CHATS<br/>TOGETHER IN ONE WINDOW</div></div><div class="ftux-choosewindow-multi"><div class="ftux-choosewindow-multi-image"></div><div class="ftux-choosewindow-radio-div"><input class="ftux-choosewindow-radio ftux-choosewindow-radio-multi" type="radio" name="ftux-choosewindow" id="ftux-choosewindow-multi" value="multi"/></div><div class="ftux-choosewindow-radio-label">CLASSIC</div><div class="ftux-choosewindow-radio-desc">CONTACT LIST IN ONE WINDOW<br/>CHATS IN ANOTHER</div></div><a href="#" role="button" class="ftux-choosewindow-next-button marketing button">Next</a>');s_({cs:"ftux-3"},
c);c.append("</div>");if(!b)return c.toString()}
function $Z(a,b){var c=b||new W;c.append('<div class="olt-overlay"><div class="outreach-title">One last thing...</div><div class="olt-img"></div><div class="olt-text callout-a">updates from your favorite social networks</div><div class="olt-text callout-b">receive new mail, new friend requests, new comments and more</div><div class="olt-text callout-c">quick access to start a group chat, preferences and more</div><div class="olt-text callout-d">search for people to chat with</div><div class="olt-text callout-e">find all of your contacts (and your groups) here</div><a href="#" role="button" class="lets-go-button marketing button">Let&#8217;s go!</a>');s_({cs:"ftux-4"},
c);c.append("</div>");if(!b)return c.toString()}
function oZ(a,b){var c=b||new W;c.append('<div class="outreach-widget"><div class="outreach-title">Start chatting with...</div><div class="outreach-field-container"><div class="outreach-field"><div class="outreach-carrot"></div><div class="outreach-icon"></div><div class="outreach-chooser"></div><div class="clearfix"></div></div><div class="outreach-message"><input class="outreach-group-chat-name" placeholder="Name your group" title="Name your group" maxlength="45" tabindex="2"><div class="outreach-message-field"></div><a href="#" role="button" class="marketing button send-button">Send</a><div class="clearfix"></div></div></div></div>');if(!b)return c.toString()}
function YY(a,b){var c=b||new W;c.append('<div class="outreach-chooser-head"><div class="vr"></div></div>');if(!b)return c.toString()}
function jZ(a,b){var c=b||new W;c.append('<div class="aimlist-popup" id="',X(a.id),'"><div class="aimlist-searchbar"><div class="aimlist-searchbar-container"><input class=\'aimlist-searchbar-input\' spellcheck="false" tabindex="1" placeholder="',X(a.Pu),'" title="',X(a.Pu),'"/></div></div><div class="aimlist-popup-container"><div class="aimlist-itemscontainer"></div><div class="aimlist-buttoncontainer"></div></div></div>');if(!b)return c.toString()}
function s_(a,b){(b||new W).append('<div class="ftux-indicators ',X(a.cs),'"><div class="ftux-aim-logo ',X(a.cs),'"></div><div class="indicator ftux-1"></div><div class="indicator ftux-2"></div><div class="indicator ftux-3"></div><div class="indicator ftux-4"></div></div>')}function rZ(a,b){var c=b||new W;c.append("<h3>Uh-oh!</h3><p>Something went wrong. Want to try again?</p>");if(!b)return c.toString()}
function sZ(a,b){var c=b||new W;c.append("<h3>Bingo!</h3><p>Ok, invitation sent",a.BV?' to <span class="invitee">'+X(a.BV)+"</span>":"",".</p>");if(!b)return c.toString()};

function VY(a,b){var c=b||new W;c.append('<div class="invite-panel"><p>Enter your friends\' email addresses to invite them to join you on the new AIM.</p><input class="invite-input" type="text" title="Enter email addresses separated by commas" /></div>');if(!b)return c.toString()};

